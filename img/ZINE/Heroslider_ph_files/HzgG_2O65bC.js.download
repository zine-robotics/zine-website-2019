if (self.CavalryLogger) { CavalryLogger.start_js(["vghhv"]); }

__d("XSVDefaultTargetingRadiusController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/store_visits/default_targeting_radius/",{parent_page_id:{type:"FBID",required:!0},country_code:{type:"String"},distance_unit:{type:"String"}})}),null);
__d("AdsDefaultTargetingRadiusProviderPlugin",["LoadObjectMap","LocationConstants","XSVDefaultTargetingRadiusController","mapSet","promiseAsyncRequest","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){a(function(a){return a.merge(b("mapSet")(c,function(b){return[b,a.get(b).loading()]}))})}function h(a){return b("promiseLoadObjectsFromKeys")(a,function(a){a=b("XSVDefaultTargetingRadiusController").getURIBuilder().setFBID("parent_page_id",a.parentPageID).setString("country_code",a.countryCode).setString("distance_unit",b("LocationConstants").RadiusInfo.getLocalizedUnit()).getURI();return b("promiseAsyncRequest")(a,{isReadOnly:!0,method:"GET"}).then(function(a){return{radius:a.payload.default_radius,distanceUnit:a.payload.distance_unit}},function(a){return{radius:b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(),distanceUnit:b("LocationConstants").RadiusInfo.getLocalizedUnit()}})})}a={initialState:function(a){return b("LoadObjectMap").createKeyed(function(c){g(a,c),b("promiseDone")(h(c),function(b){a(function(a){return a.merge(b)})})},function(a){return JSON.stringify(a)})}};e.exports=a}),null);
__d("AdsDefaultTargetingRadiusProvider",["Laminar","AdsDefaultTargetingRadiusProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsDefaultTargetingRadiusProviderPlugin"),"AdsDefaultTargetingRadiusProviderPlugin")}),null);
__d("XLMLocationHealthDuplicateLocationClustersController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/location_health/duplicate_location_clusters/",{root_page_id:{type:"FBID",required:!0}})}),null);
__d("AdsLocationsHealthExtraRowDataDataManager",["XLMLocationHealthDuplicateLocationClustersController","immutable","promiseAsyncRequest"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").fromJS;a={getDuplicateLocationClusters:function(a){return b("promiseAsyncRequest")(b("XLMLocationHealthDuplicateLocationClustersController").getURIBuilder().setFBID("root_page_id",a).getURI()).then(function(a){return g(a.payload)})}};e.exports=a}),null);
__d("AdsLocationHealthDuplicateLocationClustersDataProviderPlugin",["AdsLocationsHealthExtraRowDataDataManager","LoadObject","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){return b("LoadObjectMap").create(function(c){b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(c){a(function(a){return a.set(c,b("LoadObject").loading())});return b("AdsLocationsHealthExtraRowDataDataManager").getDuplicateLocationClusters(c)}),function(b){return a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("AdsLocationHealthDuplicateLocationClustersDataProvider",["Laminar","AdsLocationHealthDuplicateLocationClustersDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLocationHealthDuplicateLocationClustersDataProviderPlugin"),"AdsLocationHealthDuplicateLocationClustersDataProviderPlugin")}),null);
__d("AdsLocationHealthUnhealthyLocationsDataProvider",["Laminar","AdsLocationHealthUnhealthyLocationsDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLocationHealthUnhealthyLocationsDataProviderPlugin"),"AdsLocationHealthUnhealthyLocationsDataProviderPlugin")}),null);
__d("LocationsHealthCheck",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLOSED_LOCATION:"closed_location",DUPLICATE_LOCATION:"duplicate_location",INNACURATE_PIN:"innacurate_pin",MISSING_INFO:"missing_info",MISSING_OPENING_HOURS:"missing_opening_hours",MISSING_PHONE_NUMBER:"missing_phone_number",MISSING_WIFI:"missing_wifi",PLACE_CURATION:"place_curation"})}),null);
__d("UnhealthyLocationsRequestKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({pageID:void 0,healthCheck:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLocationHealthUnhealthyLocationsLocalStateDataReducerPlugin",["LoadObject","LocationsHealthCheck","UnhealthyLocationsRequestKey","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,c){__p&&__p();var d=c.parentPageID,e=c.healthCheck,f=c.currentlyEditing;if(d==null||e==null||f==null)return a;d=new(b("UnhealthyLocationsRequestKey"))({pageID:d,healthCheck:e});e=a.get(d).getValueEnforcing().map(function(a){__p&&__p();var d=a;if(f.find(function(b){return b.get("id")===a.get("id")}))switch(c.healthCheck){case b("LocationsHealthCheck").MISSING_OPENING_HOURS:b("gkx")("972481")?d=d.set("local_state",d.get("local_state").set("store_full_hours",c.storeFullHours)):d=d.set("local_state",d.get("local_state").set("store_hours",c.storeHours));break;case b("LocationsHealthCheck").CLOSED_LOCATION:d=d.set("local_state",d.get("local_state").set("closed_state",c.closedState));break;case b("LocationsHealthCheck").MISSING_WIFI:d=d.set("local_state",d.get("local_state").set("network_name",c.networkName).set("wifi_availability",c.wifiAvailability));break;case b("LocationsHealthCheck").INNACURATE_PIN:c.latitude!=null&&c.longitude!=null&&(d=d.set("local_state",d.get("local_state").set("latitude",c.latitude).set("longitude",c.longitude)));d=d.set("local_state",d.get("local_state").set("pin_alarmclock_status",c.pinAlarmClockStatus));break}return d});return a.set(d,b("LoadObject").withValue(e))}};e.exports=a}),null);
__d("AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction",["Laminar","AdsLocationHealthUnhealthyLocationsLocalStateDataReducerPlugin","AdsLocationHealthUnhealthyLocationsDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLocationHealthUnhealthyLocationsLocalStateDataReducerPlugin"),b("AdsLocationHealthUnhealthyLocationsDataProvider"),{})]},function(){return[]},"AdsLocationHealthUnhealthyLocationsUpdateLocalStateActionPlugin");e.exports=a}),null);
__d("AdsLocationHealthUnhealthyLocationsDataReducerPlugin",["LoadObject","UnhealthyLocationsRequestKey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,c){__p&&__p();var d=new(b("UnhealthyLocationsRequestKey"))({pageID:c.parentPageID,healthCheck:c.healthCheckType}),e=a.get(d).getValueEnforcing();e=e.map(function(a){var b=c.editingLocationsIDs.map(function(a){return a.toString()});if(b.includes(a.get("id").toString())){b=a.set("status",c.status);c.status==="loading"?b=b.set("status_error",null):c.status==="error"&&(b=b.set("status_error",c.statusError));return b}return a});return a.set(d,b("LoadObject").withValue(e))}};e.exports=a}),null);
__d("AdsLocationHealthUpdateStateUnhealthyLocationsDataAction",["Laminar","AdsLocationHealthUnhealthyLocationsDataReducerPlugin","AdsLocationHealthUnhealthyLocationsDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsLocationHealthUnhealthyLocationsDataReducerPlugin"),b("AdsLocationHealthUnhealthyLocationsDataProvider"),{})]},function(){return[]},"AdsLocationHealthUpdateStateUnhealthyLocationsDataActionPlugin");e.exports=a}),null);
__d("LMLocationHealthActionSection.react",["LMLocationHealthModalContainer.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("LMLocationHealthModalContainer.react"),{healthCheckType:a.healthCheckType,isSaveEnabled:a.isSaveEnabled,onSave:a.onSave},a.children)}e.exports=a}),null);
__d("LMLocationHealthModalState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({currentlyEditing:void 0,healthCheckType:void 0,isOpen:!1,pageID:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMLocationHealthModalStateDataProviderPlugin",["LMLocationHealthModalState"],(function(a,b,c,d,e,f){"use strict";a={initialState:new(b("LMLocationHealthModalState"))()};e.exports=a}),null);
__d("LMLocationHealthModalStateDataProvider",["Laminar","LMLocationHealthModalStateDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("LMLocationHealthModalStateDataProviderPlugin"),"LMLocationHealthModalStateDataProviderPlugin")}),null);
__d("LMLocationHealthModalUpdateStateDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.merge(b.updates)}};e.exports=a}),null);
__d("LMLocationHealthModalUpdateStateDataAction",["Laminar","LMLocationHealthModalUpdateStateDataReducerPlugin","LMLocationHealthModalStateDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("LMLocationHealthModalUpdateStateDataReducerPlugin"),b("LMLocationHealthModalStateDataProvider"),{})]},function(){return[]},"LMLocationHealthModalUpdateStateDataActionPlugin");e.exports=a}),null);
__d("LocationManagerUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:LocationManagerUILoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:LocationManagerUILoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LocationManagerUILoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setBusinessID=function(a){this.$1.business_id=a;return this};c.setChildPageID=function(a){this.$1.child_page_id=a;return this};c.setErrorCode=function(a){this.$1.error_code=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setHealthCheckType=function(a){this.$1.health_check_type=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={action:!0,business_id:!0,child_page_id:!0,error_code:!0,error_message:!0,health_check_type:!0,page_id:!0,time:!0,weight:!0};e.exports=a}),null);
__d("LMLoggingUtils",["CurrentUser","LocationManagerUITypedLogger","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){return new(b("URI"))(window.location.search).getQueryData()}function a(a){if(b("CurrentUser").isTestUser())return;var c=g();new(b("LocationManagerUITypedLogger"))().setAction(a).setBusinessID(c.business_id).setPageID(c.page_id).log()}function c(a,c,d,e,f,g){if(b("CurrentUser").isTestUser())return;new(b("LocationManagerUITypedLogger"))().setAction(a).setHealthCheckType(c).setPageID(d).setChildPageID(e).setErrorCode(f).setErrorMessage(g).log()}function d(a,c,d,e,f){if(b("CurrentUser").isTestUser())return;new(b("LocationManagerUITypedLogger"))().setAction(a).setHealthCheckType(c).setPageID(d).setErrorCode(e).setErrorMessage(f).log()}e.exports={logAPICall:d,logAction:a,logHealthAction:c}}),null);
__d("LMLocationHealthModal.react",["fbt","AdsLocationHealthUpdateStateUnhealthyLocationsDataAction","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","LMLocationHealthModalUpdateStateDataAction","LMLoggingUtils","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(){var a=d.props.editingLocations.first();b("LMLoggingUtils").logHealthAction("skip",d.props.plugin.getType(),a.get("parent_page_id"),a.get("id"));d.$8()},d.$4=function(){d.$9(),d.$8()},d.$5=function(){d.$9(),d.$10()},d.$7=function(){return d.$10()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props.allUnhealthyLocations,c=this.props.editingLocations;if(a==null||c==null)return null;var d=a.filter(function(a){return a.get("status")!=="success"&&a.get("status")!=="loading"}),e=d.size===c.size,f=this.$1(a,c),h=0;this.$2()?h=c.size:e?h=d.size:h=a.size;a=this.$2()||d.size===0;h=this.props.plugin.getModalHeader(h,a);a=e||this.$2()||d.size===0?h:g._("{modalHeader}{titleCount}",[g._param("modalHeader",h),g._param("titleCount",f)]);return b("React").createElement(b("FDSModal.react"),{behaviors:{LayerHideOnBlur:null},footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:this.$3(d,c)?b("React").createElement(b("FDSButton.react"),{isDisabled:!this.props.isSaveEnabled,label:g._("Next"),use:"primary",onClick:this.$4}):b("React").createElement(b("FDSButton.react"),{isDisabled:!this.props.isSaveEnabled,label:g._("Done"),use:"primary",onClick:this.$5}),secondaryButton:this.$3(d,c)?b("React").createElement(b("FDSButton.react"),{label:g._("Skip"),use:"default",onClick:this.$6}):b("React").createElement(b("FDSButton.react"),{label:g._("Cancel"),use:"default",onClick:this.$7})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:a}),isShown:!0,label:g._("Modal which allows advertisers to fix issues we identified for their locations"),onHide:this.$7},b("React").createElement(b("FDSSection.react"),null,this.props.children))};d.$9=function(){var a=this;b("AdsLocationHealthUpdateStateUnhealthyLocationsDataAction").dispatch({editingLocationsIDs:this.props.editingLocations.map(function(a){return a.get("id")}),healthCheckType:this.props.plugin.getType(),parentPageID:this.props.parentPageID,status:"loading"},{line:"186",module:"LMLocationHealthModal.react.js"});this.props.onSave(this.props.editingLocations,this.props.parentPageID);this.props.editingLocations.map(function(c){b("LMLoggingUtils").logHealthAction("save",a.props.plugin.getType(),c.get("parent_page_id"),c.get("id"))})};d.$8=function(){var a=this.props.allUnhealthyLocations;if(a==null)return;b("LMLocationHealthModalUpdateStateDataAction").dispatch({updates:{currentlyEditing:h.of(a.get(a.indexOf(this.props.editingLocations.first())+1))}},{line:"213",module:"LMLocationHealthModal.react.js"})};d.$10=function(){b("LMLocationHealthModalUpdateStateDataAction").dispatch({updates:{isOpen:!1}},{line:"225",module:"LMLocationHealthModal.react.js"});var a=this.props.editingLocations.first();this.props.editingLocations.count()>1?b("LMLoggingUtils").logHealthAction("hide_action_section_bulk",this.props.plugin.getType(),a.get("parent_page_id")):b("LMLoggingUtils").logHealthAction("hide_action_section",this.props.plugin.getType(),a.get("parent_page_id"),a.get("id"))};d.$3=function(a,b){return a!=null&&a.size!==b.size&&a.size!==a.indexOf(b.first())+1&&!this.$2()};d.$1=function(a,b){return g._(": {index} of {total}",[g._param("index",a.indexOf(b.first())+1),g._param("total",a.size)])};d.$2=function(){return this.props.editingLocations.size===1&&this.props.editingLocations.first().get("status")==="success"};return c}(b("React").Component);e.exports=a}),null);
__d("LMLocationHealthModalContainer.react",["AdsSelectorUtils","FluxContainer","LMLocationHealthModal.react","LMLocationHealthModalContainerStateSelector","LMLocationsHealthCheckPluginResolver","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("AdsSelectorUtils").getStores([b("LMLocationHealthModalContainerStateSelector")])};c.calculateState=function(a){return b("LMLocationHealthModalContainerStateSelector")()};var d=c.prototype;d.render=function(){__p&&__p();if(this.props.healthCheckType!=this.state.modalState.healthCheckType)return null;var a=this.state,c=a.modalState;a=a.parentPageID;var d=c.currentlyEditing,e=c.healthCheckType;c=c.isOpen;if(!c)return null;if(d==null||e==null||a==null)return null;c=b("LMLocationsHealthCheckPluginResolver").resolve(this.props.healthCheckType);c=c.isMoveToNextSupported()?this.state.allUnhealthyLocations.getValue():d;return b("React").createElement(b("LMLocationHealthModal.react"),{allUnhealthyLocations:c,editingLocations:d,isSaveEnabled:this.props.isSaveEnabled,parentPageID:a,plugin:b("LMLocationsHealthCheckPluginResolver").resolve(e),onSave:this.props.onSave},this.props.children)};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("AdsLocationTreeStoreKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({campaignIDs:void 0,pageID:void 0,countryCode:void 0,type:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsDefaultTargetingRadiusProviderKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({countryCode:void 0,parentPageID:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLocationMeta",["AdsLocationMetaConstant","DistanceConstants","LocationConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({hasMax:null,max:null,value:"",isDefault:null}));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.isMarketingArea=function(){return this.getIn(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH)===b("AdsLocationMetaConstant").MARKETING_AREA};d.isAudienceMaxInvalid=function(){return!!this.getIn(b("AdsLocationMetaConstant").AUDIENCE_HASMAX_PATH)&&isNaN(parseInt(this.getIn(b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH),10))};d.$AdsLocationMeta1=function(a,c){return this.getIn(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH)===a&&isNaN(parseInt(this.getIn(c),10))};d.isDistanceEmpty=function(){return this.$AdsLocationMeta1(b("AdsLocationMetaConstant").DISTANCE,b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH)};d.isAudienceEmpty=function(){return this.$AdsLocationMeta1(b("AdsLocationMetaConstant").AUDIENCE,b("AdsLocationMetaConstant").AUDIENCE_VALUE_PATH)};d.getMaxDistance=function(){return this.distanceUnit===b("LocationConstants").KILOMETER_UNIT?parseFloat(b("LocationConstants").MAX_MILES_DISTANCE_SIZE)*b("DistanceConstants").KILOMETERS_PER_MILE:b("LocationConstants").MAX_MILES_DISTANCE_SIZE};d.getMaxDistanceToOneDecimal=function(){return Math.floor(this.getMaxDistance()*10)/10};d.isDistanceTooLarge=function(){return this.getIn(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH)===b("AdsLocationMetaConstant").DISTANCE&&parseFloat(this.getIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH))>this.getMaxDistance()};d.getMinDistance=function(){return this.distanceUnit===b("LocationConstants").KILOMETER_UNIT?b("LocationConstants").ADDRESS_MIN_RADIUS_KILOMETER:b("LocationConstants").ADDRESS_MIN_RADIUS_MILE};d.getMinDistanceToOneDecimal=function(){return Math.ceil(this.getMinDistance()*10)/10};d.isDistanceTooSmall=function(){return this.getIn(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH)===b("AdsLocationMetaConstant").DISTANCE&&parseFloat(this.getIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH))<this.getMinDistance()};d.getMinAudience=function(){return b("LocationConstants").STORE_VISITS_MIN_AUDIENCE};d.isAudienceTooSmall=function(){return this.getIn(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH)===b("AdsLocationMetaConstant").AUDIENCE&&parseInt(this.getIn(b("AdsLocationMetaConstant").AUDIENCE_VALUE_PATH),10)<this.getMinAudience()};return c}(b("immutable").Record({name:null,version:0,distanceUnit:b("LocationConstants").RadiusInfo.getLocalizedUnit(),locationTypes:b("LocationConstants").DEFAULT_LOCATION_TYPES,selectedRadiusType:b("AdsLocationMetaConstant").AUDIENCE,radiuses:b("immutable").Map({audience:new a({value:b("LocationConstants").DEFAULT_AUDIENCE_SIZE,hasMax:!1,max:b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(),isDefault:!0}),distance:new a({value:b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(),isDefault:!0})}),showIneligibleLocations:!0,ancestorID:null}));c.AdsRadiusData=a;e.exports=c}),null);
__d("AdsLocationMetaActionsTypeClearDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationMetaActionsType_.CLEAR"}}),null);
__d("AdsLocationMetaActionsTypeDefaultLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationMetaActionsType_.DEFAULT_LOAD"}}),null);
__d("AdsLocationMetaActionsTypeDefaultLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationMetaActionsType_.DEFAULT_LOAD_ERROR"}}),null);
__d("AdsLocationMetaActionsTypeUpdateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationMetaActionsType_.UPDATE"}}),null);
__d("AdsLocationMetaActionsTypeUpdateRadiusActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationMetaActionsType_.UPDATE_RADIUS"}}),null);
__d("AdsLocationMetaActionsTypeDefaultLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationMetaActionsType_.DEFAULT_LOAD");e.exports=a}),null);
__d("AdsLocationMetaActionsTypeDefaultLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationMetaActionsType_.DEFAULT_LOAD_ERROR");e.exports=a}),null);
__d("AdsLocationMetaDataManager",["AdsGraphAPI","AdsLocationMetaActionsTypeDefaultLoadDataAction","AdsLocationMetaActionsTypeDefaultLoadErrorDataAction","AdsLocationMetaConstant","ApiAdPlacePageSetFields","GraphAPIFieldUtils","cachedGraphAPI","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.getName=function(a,c){b("promiseDone")(b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).object("place_page_set",c)).get({fields:[b("ApiAdPlacePageSetFields").LOCATION_TYPES,b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiAdPlacePageSetFields").METADATA,[b("AdsLocationMetaConstant").SUBFIELD_AUDIENCE,b("AdsLocationMetaConstant").SUBFIELD_FIXED_RADIUS,b("AdsLocationMetaConstant").SUBFIELD_EXTRA_DATA]),b("ApiAdPlacePageSetFields").NAME,b("ApiAdPlacePageSetFields").PARENT_PAGE,b("ApiAdPlacePageSetFields").TARGETED_AREA_TYPE]}),function(d){return b("AdsLocationMetaActionsTypeDefaultLoadDataAction").dispatch({locationMetaKey:a,locationTypes:d.location_types,metadata:d.metadata,name:d.name,pageSetID:c,parentPageID:d.parent_page.id,targetedAreaType:d.targeted_area_type},{line:"59",module:"AdsLocationMetaDataManager.js"})},function(c){return b("AdsLocationMetaActionsTypeDefaultLoadErrorDataAction").dispatch({locationMetaKey:a,error:c},{line:"69",module:"AdsLocationMetaDataManager.js"})})};return a}();e.exports=new a()}),null);
__d("AdsLocationMetaStoreKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({campaignIDs:void 0,pageSetID:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLocationMetaUtils",["AdsAPIPageSetTargetedAreaType","AdsLocationMeta","AdsLocationMetaConstant","AdTargetSpecDistanceUnit","DistanceConstants","LocationConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a==null)return null;try{a=JSON.parse(a);return{ancestorID:a.ancestorID,showIneligibleLocations:a.showIneligibleLocations}}catch(a){return null}}function h(a,b){a=k(a);var c=b.distance_unit;return i(parseFloat(b.value),a,c)}function i(a,c,d){if(c===d)return a.toString();if(c===b("AdTargetSpecDistanceUnit").KILOMETER)return(a*b("DistanceConstants").KILOMETERS_PER_MILE).toFixed(1);return c===b("AdTargetSpecDistanceUnit").MILE?(a*b("DistanceConstants").MILES_PER_KILOMETER).toFixed(1):a.toString()}function a(a){return a.selectedRadiusType==b("AdsLocationMetaConstant").AUDIENCE?a.getIn(b("AdsLocationMetaConstant").AUDIENCE_IS_DEFAULT_PATH):a.getIn(b("AdsLocationMetaConstant").DISTANCE_IS_DEFAULT_PATH)}function j(a,c){if(c===b("AdsAPIPageSetTargetedAreaType").MARKETING_AREA)return b("AdsLocationMetaConstant").MARKETING_AREA;if(a===null||a===void 0)return b("AdsLocationMetaConstant").UNKNOWN;return a?b("AdsLocationMetaConstant").AUDIENCE:b("AdsLocationMetaConstant").DISTANCE}function k(a){if(a.audience!=null&&a.audience.max_radius!=null)return a.audience.max_radius.distance_unit;return a.fixed_radius!=null?a.fixed_radius.distance_unit:b("LocationConstants").RadiusInfo.getLocalizedUnit()}function c(a,c){a=a;c=i(parseFloat(c.radius),a.distanceUnit,c.distanceUnit);c=Math.max(parseFloat(c),1).toFixed(0);a.getIn(b("AdsLocationMetaConstant").DISTANCE_IS_DEFAULT_PATH)&&(a=a.setIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH,c));a.getIn(b("AdsLocationMetaConstant").AUDIENCE_IS_DEFAULT_PATH)&&(a=a.setIn(b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH,c));return a}d={getSelectedRadiusType:j,parseExtraData:g,isMetadataRadiusDefault:a,updateMetadataWithRadius:c,createMetadataFromAPIResponse:function(a,c,d,e,f){var i=g(e.extra_data);d=j(!!e.audience,d);return new(b("AdsLocationMeta"))({name:a,version:0,distanceUnit:k(e),locationTypes:c,selectedRadiusType:d,radiuses:b("immutable").Map({audience:new(b("AdsLocationMeta").AdsRadiusData)({value:e.audience?e.audience.size.toString():b("LocationConstants").DEFAULT_AUDIENCE_SIZE,hasMax:e.audience&&e.audience.max_radius,max:e.audience&&e.audience.max_radius?h(e,e.audience.max_radius):b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(),isDefault:!(e.audience&&e.audience.max_radius)}),distance:new(b("AdsLocationMeta").AdsRadiusData)({value:e.fixed_radius?h(e,e.fixed_radius):b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(),isDefault:!e.fixed_radius})}),showIneligibleLocations:i?i.showIneligibleLocations:!0,ancestorID:i!=null&&i.ancestorID!=null?i.ancestorID:f})}};e.exports=d}),null);
__d("AdsLocationTreeActionsTypeAddLocationDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.ADD_LOCATION"}}),null);
__d("AdsNewLocationTargetingEditorResetStateActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsNewLocationTargetingEditorResetStateActionPlugin"}}),null);
__d("LMLocationSetEditorResetStateActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"LMLocationSetEditorResetStateActionPlugin"}}),null);
__d("AdsLocationMetaStore",["AdsAPIPageSetTargetedAreaType","AdsDataAtom","AdsLocationMeta","AdsLocationMetaActionsTypeClearDataActionFlux","AdsLocationMetaActionsTypeDefaultLoadDataActionFlux","AdsLocationMetaActionsTypeDefaultLoadErrorDataActionFlux","AdsLocationMetaActionsTypeUpdateDataActionFlux","AdsLocationMetaActionsTypeUpdateRadiusActionFlux","AdsLocationMetaConstant","AdsLocationMetaDataManager","AdsLocationMetaStoreKey","AdsLocationMetaUtils","AdsLocationTreeActionsTypeAddLocationDataActionFlux","AdsNewLocationTargetingEditorResetStateActionFlux","FluxStore","LMLocationSetEditorResetStateActionFlux","LoadObject","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$AdsLocationMetaStore1=b("immutable").Map();c.$AdsLocationMetaStore2=b("immutable").Map();return c}var d=c.prototype;d.__getActionTypes=function(){return g?[b("AdsLocationMetaActionsTypeClearDataActionFlux").actionType,b("AdsLocationMetaActionsTypeDefaultLoadDataActionFlux").actionType,b("AdsLocationMetaActionsTypeDefaultLoadErrorDataActionFlux").actionType,b("AdsLocationMetaActionsTypeUpdateDataActionFlux").actionType,b("AdsLocationMetaActionsTypeUpdateRadiusActionFlux").actionType,b("AdsLocationTreeActionsTypeAddLocationDataActionFlux").actionType,b("AdsNewLocationTargetingEditorResetStateActionFlux").actionType,b("LMLocationSetEditorResetStateActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();var c=a.action;switch(c.type){case b("AdsLocationMetaActionsTypeDefaultLoadErrorDataActionFlux").actionType:c=c;this.$AdsLocationMetaStore2=this.$AdsLocationMetaStore2.set(c.locationMetaKey,b("LoadObject").withError(c.error));this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(c.locationMetaKey,b("LoadObject").withError(c.error));this.__emitChange();break;case b("AdsLocationMetaActionsTypeDefaultLoadDataActionFlux").actionType:c=c;this.$AdsLocationMetaStore2=this.$AdsLocationMetaStore2.set(c.locationMetaKey,b("LoadObject").withValue(c.parentPageID));this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(c.locationMetaKey,b("LoadObject").withValue(this.$AdsLocationMetaStore3(c)));this.__emitChange();break;case b("AdsLocationTreeActionsTypeAddLocationDataActionFlux").actionType:a=c.treeKey;var d=a.campaignIDs;a=a.pageSetID;d=new(b("AdsLocationMetaStoreKey"))({campaignIDs:d,pageSetID:a});a=this.$AdsLocationMetaStore1.get(d);a!=null&&a.hasValue()&&(this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(d,b("LoadObject").withValue(a.getValueEnforcing().setIn(b("AdsLocationMetaConstant").SHOW_INELIGIBLE_LOCATIONS_PATH,!0))),this.__emitChange());break;case b("AdsLocationMetaActionsTypeUpdateDataActionFlux").actionType:c=c;d=this.$AdsLocationMetaStore1.get(c.locationMetaKey);this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(c.locationMetaKey,d!=null&&d.hasValue()?b("LoadObject").withValue(b("nullthrows")(d.getValue()).setIn(c.path,c.value)):d);this.__emitChange();break;case b("AdsLocationMetaActionsTypeUpdateRadiusActionFlux").actionType:c=c;this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.update(c.locationMetaKey,function(a){return a==null?null:a.map(function(a){return a.setIn(c.path,c.value).setIn(c.path===b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH?b("AdsLocationMetaConstant").AUDIENCE_IS_DEFAULT_PATH:b("AdsLocationMetaConstant").DISTANCE_IS_DEFAULT_PATH,!1)})});this.__emitChange();break;case b("AdsLocationMetaActionsTypeClearDataActionFlux").actionType:case b("AdsNewLocationTargetingEditorResetStateActionFlux").actionType:case b("LMLocationSetEditorResetStateActionFlux").actionType:c=c;this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1["delete"](c.locationMetaKey);this.__emitChange();break}};d.getParentPageID=function(a,c){if(!c)return b("LoadObject").withValue(null);if(this.$AdsLocationMetaStore2.has(a))return this.$AdsLocationMetaStore2.get(a);b("AdsLocationMetaDataManager").getName(a,c);this.$AdsLocationMetaStore2=this.$AdsLocationMetaStore2.set(a,b("LoadObject").loading());return this.$AdsLocationMetaStore2.get(a)};d.getLocationMeta=function(a,c,d){if(this.$AdsLocationMetaStore1.has(a))return b("nullthrows")(this.$AdsLocationMetaStore1.get(a));c&&b("AdsLocationMetaDataManager").getName(a,c);this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(a,c?b("LoadObject").loading():b("LoadObject").withValue(new(b("AdsLocationMeta"))()));return b("nullthrows")(this.$AdsLocationMetaStore1.get(a))};d.getLocationMetaWithDefaultRadius=function(a,c,d){var e=this,f=this.getLocationMeta(a,c);return f.isLoading()?f:f.map(function(c){if(c==null||!b("AdsLocationMetaUtils").isMetadataRadiusDefault(c))return f;e.$AdsLocationMetaStore1=e.$AdsLocationMetaStore1.set(a,b("LoadObject").withValue(b("AdsLocationMetaUtils").updateMetadataWithRadius(c,d)));return e.$AdsLocationMetaStore1.get(a)||b("LoadObject").empty()})};d.$AdsLocationMetaStore3=function(a){return!a.metadata?new(b("AdsLocationMeta"))().updateIn(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH,function(c){return a.targetedAreaType===b("AdsAPIPageSetTargetedAreaType").MARKETING_AREA?b("AdsLocationMetaConstant").MARKETING_AREA:c}):b("AdsLocationMetaUtils").createMetadataFromAPIResponse(a.name,a.locationTypes,a.targetedAreaType,a.metadata,a.pageSetID)};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsLocationBulkAddType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({STORE_NUMBER:"",ZIP_CODE:"",DESIGNATED_MARKET_AREA:""},"AdsLocationBulkAddType_");e.exports=a}),null);
__d("AdsNewLocationTargetingEditorAddLocationReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.locationTargetingEditorKey&&a.has(b.locationTargetingEditorKey)?a.update(b.locationTargetingEditorKey,function(a){return a.merge({lastBulkUpdateErrors:null,unmeasurableLocationsNUXisHidden:!1})}):a}};e.exports=a}),null);
__d("AdsNewLocationTargetingEditorProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Map;c={initialState:a()};e.exports=c}),null);
__d("AdsNewLocationTargetingEditorProvider",["Laminar","AdsNewLocationTargetingEditorProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsNewLocationTargetingEditorProviderPlugin"),"AdsNewLocationTargetingEditorProviderPlugin")}),null);
__d("AdsLocationTreeActionsTypeAddLocationDataAction",["Laminar","AdsNewLocationTargetingEditorAddLocationReducerPlugin","AdsNewLocationTargetingEditorProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsNewLocationTargetingEditorAddLocationReducerPlugin"),b("AdsNewLocationTargetingEditorProvider"),{})]},function(){return[]},"AdsLocationTreeActionsType.ADD_LOCATION");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeClearDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.CLEAR");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeClearSavingDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.CLEAR_SAVING");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeFetchChildrenDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.FETCH_CHILDREN");e.exports=a}),null);
__d("AdsNewLocationTargetingEditorRemoveLocationReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.locationTargetingEditorKey&&a.has(b.locationTargetingEditorKey)?a.update(b.locationTargetingEditorKey,function(a){return a.merge({lastBulkUpdateErrors:null})}):a}};e.exports=a}),null);
__d("AdsLocationTreeActionsTypeRemoveLocationDataAction",["Laminar","AdsNewLocationTargetingEditorRemoveLocationReducerPlugin","AdsNewLocationTargetingEditorProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsNewLocationTargetingEditorRemoveLocationReducerPlugin"),b("AdsNewLocationTargetingEditorProvider"),{})]},function(){return[]},"AdsLocationTreeActionsType.REMOVE_LOCATION");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeSaveDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.SAVE");e.exports=a}),null);
__d("LMLocationSetCreateDialogEditorProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Map;c={initialState:a()};e.exports=c}),null);
__d("LMLocationSetCreateDialogEditorProvider",["Laminar","LMLocationSetCreateDialogEditorProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("LMLocationSetCreateDialogEditorProviderPlugin"),"LMLocationSetCreateDialogEditorProviderPlugin")}),null);
__d("LMLocationSetCreateDialogStep",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){switch(a){case 1:return 1;case 2:return 2;case 3:return 3;default:return 0}}function a(a){return a+1>3?a:g(a+1)}function b(a){return a-1<0?a:g(a-1)}e.exports=Object.freeze({STEP_1:0,STEP_2:1,LOCATIONSET_CREATION_STEP:2,RESULT_STEP:3,getNextStep:a,getPreviousStep:b})}),null);
__d("LMLocationSetCreationLoggerActionTypes",[],(function(a,b,c,d,e,f){"use strict";a={CLICK_CANCEL_AT_STEP_0:"click_cancel_at_step_0",CLICK_CANCEL_AT_STEP_1:"click_cancel_at_step_1",CLICK_CREATE_LOCATION_SET:"click_create_location_set",CLICK_OPEN_CREATION_DIALOG:"click_open_creation_dialog",CONFIRM_COUNTRY_SELECTION:"confirm_country_selection",CLICK_REMOVE_INVALID_LOCATION:"click_remove_invalid_location",LOCATION_SET_CREATION_FAILURE:"location_set_creation_failure",LOCATION_SET_CREATION_SUCCESS:"location_set_creation_success"};e.exports=a}),null);
__d("LMLocationSetCreationSaveErrorReducerPlugin",["CurrentUser","LMLocationSetCreateDialogStep","LMLocationSetCreationLoggerActionTypes","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){new(b("WebFunnelLogger"))("LMLocationSetCreationFunnelDefinition").setSessionKey(b("CurrentUser").getID()).setAction(b("LMLocationSetCreationLoggerActionTypes").LOCATION_SET_CREATION_FAILURE).markEnd().log();return c.treeKey.pageID!=null&&a.has(c.treeKey.pageID)?a.update(c.treeKey.pageID,function(a){return a.set("currentStep",b("LMLocationSetCreateDialogStep").RESULT_STEP)}):a}};e.exports=a}),null);
__d("AdsLocationTreeActionsTypeSaveErrorDataAction",["Laminar","LMLocationSetCreationSaveErrorReducerPlugin","LMLocationSetCreateDialogEditorProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("LMLocationSetCreationSaveErrorReducerPlugin"),b("LMLocationSetCreateDialogEditorProvider"),{})]},function(){return[]},"AdsLocationTreeActionsType.SAVE_ERROR");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeSaveFromBulkAddDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.SAVE_FROM_BULK_ADD");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeSaveProgressDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.SAVE_PROGRESS");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeSavedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.SAVED");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeSetChildrenDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.SET_CHILDREN");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeSetChildrenErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.SET_CHILDREN_ERROR");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeSetNodeAndAncestorsDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.SET_NODE_AND_ANCESTORS");e.exports=a}),null);
__d("AdsLocationTreeActionsTypeToggleLocationDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.TOGGLE_LOCATION");e.exports=a}),null);
__d("AdsLocationTreeActions",["AdsLocationTreeActionsTypeAddLocationDataAction","AdsLocationTreeActionsTypeClearDataAction","AdsLocationTreeActionsTypeClearSavingDataAction","AdsLocationTreeActionsTypeFetchChildrenDataAction","AdsLocationTreeActionsTypeRemoveLocationDataAction","AdsLocationTreeActionsTypeSaveDataAction","AdsLocationTreeActionsTypeSavedDataAction","AdsLocationTreeActionsTypeSaveErrorDataAction","AdsLocationTreeActionsTypeSaveFromBulkAddDataAction","AdsLocationTreeActionsTypeSaveProgressDataAction","AdsLocationTreeActionsTypeSetChildrenDataAction","AdsLocationTreeActionsTypeSetChildrenErrorDataAction","AdsLocationTreeActionsTypeSetNodeAndAncestorsDataAction","AdsLocationTreeActionsTypeToggleLocationDataAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={defaultLoaded:function(a,c,d){b("AdsLocationTreeActionsTypeSetChildrenDataAction").dispatch({treeKey:c,breakdowns:a,forceUpdateNumLocations:d},{line:"50",module:"AdsLocationTreeActions.js"})},defaultLoadError:function(a,c,d){b("AdsLocationTreeActionsTypeSetChildrenErrorDataAction").dispatch({treeKey:d,queries:c,error:a},{line:"62",module:"AdsLocationTreeActions.js"})},setNodeAndAncestors:function(a,c,d,e,f){b("AdsLocationTreeActionsTypeSetNodeAndAncestorsDataAction").dispatch({source:d,treeKey:e,path:c,breakdowns:a,onAddExisting:f},{line:"76",module:"AdsLocationTreeActions.js"})},addLocation:function(a,c,d,e,f,g){b("AdsLocationTreeActionsTypeAddLocationDataAction").dispatch({source:d,treeKey:e,location:c,loadingSource:a,onAddExisting:f,locationTargetingEditorKey:g},{line:"93",module:"AdsLocationTreeActions.js"})},toggleLocation:function(a,c){b("AdsLocationTreeActionsTypeToggleLocationDataAction").dispatch({treeKey:c,location:a},{line:"104",module:"AdsLocationTreeActions.js"})},fetchChildren:function(a,c){b("AdsLocationTreeActionsTypeFetchChildrenDataAction").dispatch({treeKey:c,locations:a},{line:"114",module:"AdsLocationTreeActions.js"})},clear:function(a){b("AdsLocationTreeActionsTypeClearDataAction").dispatch({treeKey:a},{line:"121",module:"AdsLocationTreeActions.js"})},removeLocation:function(a,c,d){b("AdsLocationTreeActionsTypeRemoveLocationDataAction").dispatch({treeKey:c,location:a,locationTargetingEditorKey:d},{line:"131",module:"AdsLocationTreeActions.js"})},save:function(a,c,d,e,f,g){b("AdsLocationTreeActionsTypeSaveDataAction").dispatch({treeKey:e,pageID:d,accountID:a,locationMeta:c,pagesToBeRemoved:f,onPageSetCreated:g},{line:"150",module:"AdsLocationTreeActions.js"})},errorOnSave:function(a,c){b("AdsLocationTreeActionsTypeSaveErrorDataAction").dispatch({treeKey:c,error:a},{line:"161",module:"AdsLocationTreeActions.js"})},updateSaveProgress:function(a,c){c=c!=null&&c!==0?c:-1;b("AdsLocationTreeActionsTypeSaveProgressDataAction").dispatch({treeKey:a,progress:c},{line:"170",module:"AdsLocationTreeActions.js"})},saved:function(a,c){b("AdsLocationTreeActionsTypeSavedDataAction").dispatch({pageSetID:a,treeKey:c},{line:"177",module:"AdsLocationTreeActions.js"})},closeSavingModal:function(a){b("AdsLocationTreeActionsTypeClearSavingDataAction").dispatch({treeKey:a},{line:"184",module:"AdsLocationTreeActions.js"})},clearProgress:function(a){b("AdsLocationTreeActionsTypeClearSavingDataAction").dispatch({treeKey:a},{line:"190",module:"AdsLocationTreeActions.js"})},saveFromBulkAdd:function(a,c,d,e,f,g,h,i,j){b("AdsLocationTreeActionsTypeSaveFromBulkAddDataAction").dispatch({treeKey:i,pageID:g,accountID:a,countryID:c,locationMeta:f,dataType:e,dataIDs:d,preservePrevious:h,onPageSetCreatedFromBulk:j},{line:"211",module:"AdsLocationTreeActions.js"})}};e.exports=a}),null);
__d("AdsLocationTreeConstant",[],(function(a,b,c,d,e,f){"use strict";e.exports={PLURALS:{city:"cities",country:"countries",region:"regions",location:"places"}}}),null);
__d("AdsLocationTreeDataConstant",[],(function(a,b,c,d,e,f){"use strict";e.exports={ACCOUNT_ID:"account_id",ERROR_CODE:"error_code",ERROR_MESSAGE:"error_message",ID:"id",PLACE_PAGE_SET:"place_page_set",PROGRESS:"progress"}}),null);
__d("AdsLocationTreeDataLoader",["AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGraphAPI","AdsLocationTreeConstant","ApiPageFields","cachedGraphAPI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();f="street,city,city_id,country,country_code,region,region_id,zip,latitude,longitude";var g=["id","name","store_number","phone","is_always_open","is_permanently_closed","hours","price_range","username","single_line_address","is_published","location.fields("+f+")","place_topics.fields(id,name)","is_eligible_for_store_visit_reporting"].join(","),h=new(b("AdsGenericFilterField"))(b("ApiPageFields").LOCATION,b("AdsGenericFilterFieldType").STRING_SET);function i(a,c){return new(b("AdsGenericFilter"))(c||h,b("AdsGenericFilterOperator").IN,a)}var j=1e3,k=10;function l(a){__p&&__p();var c={};for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(!f.location_id)continue;var g=b("AdsLocationTreeConstant").PLURALS[f.location_type];g=c[g]||(c[g]=[]);g.push(f.location_id)}return c}function a(a){return b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).search("adgeolocationmeta")).get(babelHelpers["extends"]({show_polygons_and_coordinates:1},l(a))).then(function(a){return a.data})}function c(a,c,d,f,h,k){return b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).object(c,a).edge("locations").batched()).get({fields:f||g,filtering:new(b("AdsGenericFilterSet"))([i(d,h)].concat(k||[])).toAPI(),limit:j})}function d(a,c,d,f){return b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).search("adradiussuggestion").batched()).get({distance_unit:f,latitude:a.latitude,longitude:a.longitude,minimum_population_size:c}).then(function(b){return{page_id:a.page_id,radius:m(b,parseInt(d,10)||null),distance_unit:f}},function(b){return{page_id:a.page_id,radius:parseInt(d,10)||k,distance_unit:f}})}function m(a,b){if(!a.data||!a.data[0])return b||k;a=a.data[0].suggested_radius;return b&&a>b?b:a}e.exports={enrichLocations:a,getLocations:c,getRadiusSuggestion:d}}),null);
__d("AdsLocationTreeUtils",["AdsLocationBulkAddType","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={country:"region",region:"city",city:"location",location:null},h="DMA";function a(a){return b("nullthrows")(g[a])}function i(a,b){return a+":"+b}function c(a){var b=a.location_type;a=a.location_id;return i(b,a)}function d(a){return a==null?[]:a.split(/\W/).filter(Boolean)}function f(a){return a.every(function(a){return a.startsWith(h)})?b("AdsLocationBulkAddType").DESIGNATED_MARKET_AREA:b("AdsLocationBulkAddType").STORE_NUMBER}function j(a){return a.map(function(a){return a.slice(h.length)})}e.exports={getLocationID:c,getLocationIDRaw:i,getNextTreeLevel:a,inferBulkAddType:f,removeDMAToken:j,splitDataIDs:d}}),null);
__d("AdsLocationTreeDataManager",["fbt","invariant","regeneratorRuntime","Promise","AdsAPIPageSetTargetedAreaType","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGraphAPI","AdsLocationBreakdownDataLoader","AdsLocationBulkAddType","AdsLocationMetaConstant","AdsLocationTreeActions","AdsLocationTreeConstant","AdsLocationTreeDataConstant","AdsLocationTreeDataLoader","AdsLocationTreeStore","AdsLocationTreeUtils","ApiPageFields","GraphAPIPaging","GraphAPIPolling","LocationConstants","PageSetTranslatorConfig","emptyFunction","getByPath","immutable","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=3e3;function j(a,c,d){var e;return b("immutable").Map((e={},e[s({type:"page",id:a})]={filters:d,filterField:new(b("AdsGenericFilterField"))(c===b("AdsLocationBulkAddType").STORE_NUMBER?b("ApiPageFields").STORE_NUMBER:b("ApiPageFields").LOCATION,b("AdsGenericFilterFieldType").STRING_SET)},e))}function k(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:d=a.map(function(a){return(a.getLocationCount()>i&&a.getLocationType()==="country"?b("AdsLocationBreakdownDataLoader").getBreakdown(a.getSource().id,a.getSource().type,"region",[a.getFilter()],c.onlyPageWithMarketingArea?[u()]:void 0):b("Promise").resolve([a.getPartialLocation()])).then(function(b){return b.map(function(b){return babelHelpers["extends"]({},b,{source:a.getSource()})})})}).toArray();e=b("Promise").all(d).then(function(a){__p&&__p();return a.reduce(function(a,c){__p&&__p();var d=a.sums,e=a.groups;c.forEach(function(a){__p&&__p();var c=e.length;for(var f=0;f<=c;f++){var g=s(a.source),h=d.get(g,[]);if(h[f]&&h[f]+a.num_pages>i)continue;var j=e[f]||b("immutable").Map();e[f]=j.update(g,function(c){return{filters:(c&&c.filters||b("immutable").Set()).add(a.location_type+":"+a.location_id)}});h[f]=(h[f]||0)+a.num_pages;d=d.set(g,h);break}});return{sums:d,groups:e}},{sums:b("immutable").Map(),groups:[]}).groups});return f.abrupt("return",e);case 3:case"end":return f.stop()}},null,this)}function l(a,c,d){return b("AdsLocationTreeDataLoader").getLocations(a.id,a.type,c,null,void 0,d).then(function(a){return a.data.map(function(a){return{location_id:a.id,location_parent_id:a.location.city_id,location_lat:a.location.latitude,location_long:a.location.longitude,location_name:a.single_line_address,location_page_name:a.name,location_details:{city:a.location.city,street:a.location.street,zip:a.location.zip},location_type:"location",num_pages:1,location_distance_unit:"mile",location_radius:10,num_pages_eligible_for_store_visit_reporting:a.is_eligible_for_store_visit_reporting?1:0}})})}function m(a,c,d,e){return b("AdsLocationBreakdownDataLoader").getBreakdown(a.id,a.type,c,d,e).then(function(a){return a.length===0?a:b("AdsLocationTreeDataLoader").enrichLocations(a).then(function(c){return a.map(function(a){var d=b("AdsLocationTreeConstant").PLURALS[a.location_type];d=b("getByPath")(c,[d,a.location_id]);return babelHelpers["extends"]({},a,{location_lat:d&&d.latitude?d.latitude:b("LocationConstants").LOCATION_COORDINATES_UNAVAILABLE,location_long:d&&d.longitude?d.longitude:b("LocationConstants").LOCATION_COORDINATES_UNAVAILABLE,location_distance_unit:"mile",location_radius:10})})})})}function n(a,c,d){var e=p(a),f=d.onlyPageWithMarketingArea?[u()]:void 0;return b("Promise").all(e.map(function(a){var c=a.source,d=a.type;a=a.filter;return d==="location"?l(c,b("nullthrows")(a),f):m(c,d,a,f)})).then(function(b){var d=o(b,e);return a.map(function(a){return{source:a.source,treeKey:c,parentID:a.parentID,locations:d.get(q(a.source,a.filter,a.type))||[]}})})}function o(a,c){return a.reduce(function(a,d,e){var f=c[e];f.type==="location"&&f.filter&&f.filter.length>1?d.reduce(function(a,c){return a.update("city:"+b("nullthrows")(c.location_parent_id),function(a){return(a||b("immutable").Set()).add(c)})},b("immutable").Map()).forEach(function(b,c){return a.set(q(f.source,[c],f.type),b.toArray())}):a.set(q(f.source,f.filter,f.type),d);return a},new Map())}function p(a){return a.reduce(function(a,b){if(b.type==="location"){var c=a.find(function(a){return a.type==="location"&&s(a.source)===s(b.source)});if(!c)return a.add(b);else return a["delete"](c).add(babelHelpers["extends"]({},c,{filter:[].concat(b.filter||[],c.filter||[])}))}else return a.add(b)},b("immutable").Set()).toJS()}function q(a,b,c){return s(a)+":"+(b?b[0]:"")+":"+(c||"")}function r(a){return b("AdsLocationTreeUtils").getLocationID(a)}function s(a){return a.type+":"+a.id}function t(a){a=a.split(":");var b=a[0];a=a[1];return{type:b,id:a}}function u(){return new(b("AdsGenericFilter"))(new(b("AdsGenericFilterField"))("has_marketing_area",b("AdsGenericFilterFieldType").BOOLEAN),b("AdsGenericFilterOperator").EQUAL,!0)}function v(){return new(b("AdsGenericFilter"))(new(b("AdsGenericFilterField"))(b("ApiPageFields").IS_ELIGIBLE_FOR_STORE_VISIT_REPORTING,b("AdsGenericFilterFieldType").BOOLEAN),b("AdsGenericFilterOperator").EQUAL,!0)}function w(a,c,d,e,f){return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:return g.abrupt("return",b("AdsLocationTreeDataLoader").getLocations(a,c,d.filters.toArray(),"id,location.fields(latitude,longitude),store_number,single_line_address",d.filterField,e).then(b("GraphAPIPaging").eachPage(f)).then(function(a){return b("immutable").Set(a.data.map(function(a){return{page_id:a.id,latitude:a.location?a.location.latitude:null,longitude:a.location?a.location.longitude:null,store_number:a.store_number,single_line_address:a.single_line_address}}))}));case 1:case"end":return g.stop()}},null,this)}function x(a){return[].concat(a.showIneligibleLocations?[]:[v()],a.selectedRadiusType===b("AdsLocationMetaConstant").MARKETING_AREA?[u()]:[])}function y(a,c,d){__p&&__p();var e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(b("Promise").all(a.map(function(a,b){b=t(b);var e=b.id;b=b.type;return w(e,b,a,c,d)}).valueSeq().toArray()));case 2:e=f.sent;return f.abrupt("return",b("immutable").Set(e).flatMap(function(a){return a}));case 4:case"end":return f.stop()}},null,this)}function z(a,c,d){__p&&__p();var e,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:e=x(c);f=a.map(function(a){return y(a,e,d)});h.next=4;return b("regeneratorRuntime").awrap(b("Promise").all(f));case 4:g=h.sent;return h.abrupt("return",b("immutable").Set(g).flatMap(function(a){return a}));case 6:case"end":return h.stop()}},null,this)}function A(a,b){return a.filter(function(a){return b.showIneligibleLocations||a.getEligibleLocationCount()>0}).map(function(a){return a.toAPI()})}function B(a){var c=a.selectedRadiusType===b("AdsLocationMetaConstant").AUDIENCE?{size:a.getIn(b("AdsLocationMetaConstant").AUDIENCE_VALUE_PATH),max_radius:a.getIn(b("AdsLocationMetaConstant").AUDIENCE_HASMAX_PATH)?{distance_unit:a.distanceUnit,value:a.getIn(b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH)}:void 0}:void 0,d=a.selectedRadiusType===b("AdsLocationMetaConstant").DISTANCE?{distance_unit:a.distanceUnit,value:a.getIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH)}:void 0;a=JSON.stringify(babelHelpers["extends"]({showIneligibleLocations:a.showIneligibleLocations},a.ancestorID?{ancestorID:a.ancestorID}:{}));return{audience:c,fixed_radius:d,extra_data:a}}function C(a){a=D(a);return g._("We couldn't find locations for these {data type name}:",[g._param("data type name",a)])}function D(a){switch(a){case b("AdsLocationBulkAddType").DESIGNATED_MARKET_AREA:return"DMAs";case b("AdsLocationBulkAddType").ZIP_CODE:return"Zip codes";case b("AdsLocationBulkAddType").STORE_NUMBER:return"Store numbers";default:return"Locations"}}function E(a,c,d){__p&&__p();var e=b("AdsLocationTreeStore").getSavingProgress(d);return b("Promise").resolve().then(b("GraphAPIPolling").poll(function(){return F(a,c,d)},function(a){if(a){if(a.errorCode||a.errorMessage)return!0;if(a.progress==1&&a.placePageSetID)return!0;b("AdsLocationTreeActions").updateSaveProgress(d,H(e,a.progress))}return!1},Infinity,1e3)).then(function(){return G(a,c,d)})}function F(a,c,d){return b("AdsGraphAPI").get(e.id).object("request_id",c).get({fields:[b("AdsLocationTreeDataConstant").ACCOUNT_ID,b("AdsLocationTreeDataConstant").ERROR_CODE,b("AdsLocationTreeDataConstant").ERROR_MESSAGE,b("AdsLocationTreeDataConstant").ID,b("AdsLocationTreeDataConstant").PLACE_PAGE_SET,b("AdsLocationTreeDataConstant").PROGRESS]}).then(function(a){return{id:a.id,accountID:a.account_id,errorCode:a.error_code,errorMessage:a.error_message,progress:a.progress,placePageSetID:a.place_page_set?a.place_page_set.id:void 0}})}function G(a,b,c){return F(a,b,c).then(function(a){if(!a.placePageSetID||a.errorCode||a.errorMessage)throw new Error(a.errorMessage?a.errorMessage:a.errorCode);return a.placePageSetID})}function H(a,b){a=a.hasValue()?a.getValue():null;return a?(100-a)*b+a:b*100}function I(a,c,d){return a.location_type==="location"?b("Promise").resolve(a):b("AdsLocationBreakdownDataLoader").getBreakdown(c.id,c.type,a.location_type,[b("AdsLocationTreeUtils").getLocationIDRaw(a.location_type,a.location_id)],d.onlyPageWithMarketingArea?[u()]:void 0).then(function(b){var c=b[0];b.slice(1);return c?c:J(a)})}function J(a){return babelHelpers["extends"]({},a,{num_pages_eligible_for_store_visit_reporting:0,num_pages:0})}a=function(){__p&&__p();function a(){}var c=a.prototype;c.cloneTree=function(a,c,d){__p&&__p();if(!c.hasRoot())return;var e=c.getRoot(),f=[{source:e.getSource(),treeKey:a,filter:[e.getFilter()]}].concat(c.getExpandedNodes().map(function(c){return{source:c.getSource(),treeKey:a,parentID:c.getID(),type:b("AdsLocationTreeUtils").getNextTreeLevel(c.getLocationType()),filter:[c.getFilter()]}}).toArray());b("promiseDone")(n(f,a,d).then(function(d){return d.every(function(a){return a.locations.length===0})?[{treeKey:a,source:e.getSource(),locations:[J(e.getLocation())]}]:d.map(function(a){return babelHelpers["extends"]({},a,{locations:a.locations.filter(function(a){return c.hasNode(b("AdsLocationTreeUtils").getLocationID(a))})})})}),function(c){return b("AdsLocationTreeActions").defaultLoaded(c,a,!0)},function(c){return b("AdsLocationTreeActions").defaultLoadError(c,f,a)})};c.genSaveToPageSet=function(a,c,d,f,g,h,i){__p&&__p();var j,k,l,m,n;return b("regeneratorRuntime").async(function(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:o.prev=0;if(!(h&&h.size===0)){o.next=3;break}throw new Error(C(c));case 3:j=h.map(function(a){return{page_id:a.page_id}});k=b("PageSetTranslatorConfig").max_pages_for_full_translation;l=d.selectedRadiusType==="audience"?!1:j.size<=k;o.next=8;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).adaccount(a).edge(l?"ad_place_page_sets":"ad_place_page_sets_async").post({parent_page:f,name:d.name||"",pages:j.toJS(),location_types:d.locationTypes,targeted_area_type:d.selectedRadiusType===b("AdsLocationMetaConstant").MARKETING_AREA?b("AdsAPIPageSetTargetedAreaType").MARKETING_AREA:b("AdsAPIPageSetTargetedAreaType").CUSTOM_RADIUS,metadata:B(d)}));case 8:m=o.sent;b("AdsLocationTreeActions").updateSaveProgress(g);if(!l){o.next=14;break}o.t0=m.id;o.next=17;break;case 14:o.next=16;return b("regeneratorRuntime").awrap(E(a,m.id,g));case 16:o.t0=o.sent;case 17:n=o.t0;i&&i(j.size,n,g);b("AdsLocationTreeActions").saved(n,g);o.next=25;break;case 22:o.prev=22,o.t1=o["catch"](0),b("AdsLocationTreeActions").errorOnSave(o.t1.error_user_msg?o.t1.error_user_msg:o.t1,g);case 25:case"end":return o.stop()}},null,this,[[0,22]])};c.getBreakdowns=function(a,c,d){b("promiseDone")(n(a,c,d),function(a){return b("AdsLocationTreeActions").defaultLoaded(a,c)},function(d){return b("AdsLocationTreeActions").defaultLoadError(d,a,c)})};c.getAncestors=function(a,c,d,e,f){__p&&__p();a=d.getOptions().onlyPageWithMarketingArea&&a.location_type==="country"?I(a,c,d.getOptions()):b("Promise").resolve(a);b("promiseDone")(a,function(a){__p&&__p();return b("promiseDone")(b("AdsLocationTreeDataLoader").enrichLocations([a]).then(function(c){__p&&__p();var d=b("AdsLocationTreeConstant").PLURALS[a.location_type],e=b("getByPath")(c,[d,a.location_id]);e||h(0,6192);return(a.location_type==="country"?b("Promise").resolve({}):b("AdsLocationTreeDataLoader").enrichLocations([{location_type:"city",location_id:e.primary_city_id},{location_type:"region",location_id:e.region_id},{location_type:"country",location_id:e.country_code}])).then(function(b){var c=e.primary_city_id?b.cities[e.primary_city_id]:null,d=e.region_id?b.regions[e.region_id]:null;b=e.country_code?b.countries[e.country_code]:null;var f=[];f.push(babelHelpers["extends"]({},a,{location_lat:e.latitude,location_long:e.longitude,location_distance_unit:"mile",location_radius:10}));e.primary_city_id&&c&&f.push({location_id:e.primary_city_id,location_name:e.primary_city,location_lat:c.latitude,location_long:c.longitude,location_type:"city",num_pages:a.num_pages,num_pages_eligible_for_store_visit_reporting:a.num_pages_eligible_for_store_visit_reporting,location_distance_unit:"mile",location_radius:10});e.region_id&&d&&f.push({location_id:e.region_id,location_name:e.region,location_lat:d.latitude,location_long:d.longitude,location_type:"region",num_pages:a.num_pages,num_pages_eligible_for_store_visit_reporting:a.num_pages_eligible_for_store_visit_reporting,location_distance_unit:"mile",location_radius:10});e.country_code&&b&&f.push({location_id:e.country_code,location_name:e.country_name,location_lat:b.latitude,location_long:b.longitude,location_type:"country",num_pages:a.num_pages,num_pages_eligible_for_store_visit_reporting:a.num_pages_eligible_for_store_visit_reporting,location_distance_unit:"mile",location_radius:10});return f})}).then(function(a){var c=f==="focusAndExpand"?0:1,g=a.findIndex(function(a,b){return b>=c&&d.hasNode(r(a))&&!d.getNode(r(a)).hasChildren()});if(g<c)return{breakdowns:null,path:a};var h=d.getNode(r(a[g])),i=[];for(var j=c;j<=g;j++)i.push({source:h.source,parentID:r(a[j]),type:b("AdsLocationTreeUtils").getNextTreeLevel(a[j].location_type),filter:[r(a[j])]});return n(i,e,d.getOptions()).then(function(b){return{breakdowns:b.reverse(),path:a}})}),function(a){var d=a.breakdowns;a=a.path;return b("AdsLocationTreeActions").setNodeAndAncestors(d,a,c,e,f)})})};c.fetchLocationPartials=function(a){__p&&__p();var c,d,e,f,g,h,i,j,l,m;return b("regeneratorRuntime").async(function(n){__p&&__p();while(1)switch(n.prev=n.next){case 0:c={};d=a.getLocations();e=a.getParentsToExpand();n.next=5;return b("regeneratorRuntime").awrap(k(e,c));case 5:f=n.sent;g=d.filter(function(a){return a.getEligibleLocationCount()>0}).map(function(a){return a.getLocation().location_name});h=[new(b("AdsGenericFilter"))(new(b("AdsGenericFilterField"))(b("ApiPageFields").IS_ELIGIBLE_FOR_STORE_VISIT_REPORTING,b("AdsGenericFilterFieldType").BOOLEAN),b("AdsGenericFilterOperator").EQUAL,!1)];i=b("emptyFunction");j=f.map(function(a){return y(a,h,i)});n.next=12;return b("regeneratorRuntime").awrap(b("Promise").all(j));case 12:l=n.sent;m=b("immutable").Set(l).flatMap(function(a){return a});return n.abrupt("return",m.map(function(a){return a.single_line_address}).union(g).sort());case 15:case"end":return n.stop()}},null,this)};c.genSaveDataIDsToPageSet=function(a,c,d,e,f,g,h,i,l,m){__p&&__p();var n,o,p,q,r,s,t;return b("regeneratorRuntime").async(function(u){__p&&__p();while(1)switch(u.prev=u.next){case 0:n=j(f,d,c);u.next=3;return b("regeneratorRuntime").awrap(k(g,l));case 3:o=u.sent;p=A(h,e);q=function(){return b("AdsLocationTreeActions").updateSaveProgress(i)};u.next=8;return b("regeneratorRuntime").awrap(b("Promise").all([z([n],e,q),z(o,e,q)]));case 8:r=u.sent;s=r[0];t=r[1];if(!(!c.isEmpty()&&s.isEmpty())){u.next=14;break}b("AdsLocationTreeActions").errorOnSave(C(d).toString(),i);return u.abrupt("return");case 14:u.next=16;return b("regeneratorRuntime").awrap(this.genSaveToPageSet(a,d,e,f,i,p.union(s,t),function(b,c,a){m&&m(b,c,a,s.map(function(a){return a.store_number}))}));case 16:case"end":return u.stop()}},null,this)};c.genSaveTreeToPageSet=function(a,c,d,e,f,g,h,i,j){__p&&__p();var l,m,n;return b("regeneratorRuntime").async(function(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:o.next=2;return b("regeneratorRuntime").awrap(k(e,h));case 2:l=o.sent;m=A(f,c);o.next=6;return b("regeneratorRuntime").awrap(z(l,c,function(){return b("AdsLocationTreeActions").updateSaveProgress(g)}));case 6:n=o.sent;o.next=9;return b("regeneratorRuntime").awrap(this.genSaveToPageSet(a,null,c,d,g,m.union(n).filterNot(function(a){return i.includes(a.page_id)}),j));case 9:case"end":return o.stop()}},null,this)};c.genParentsFilterGroups=function(a,c){return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:return b.abrupt("return",k(a,c));case 1:case"end":return b.stop()}},null,this)};return a}();e.exports=new a()}),null);
__d("AdsLocationNode",["LoadObject","LocationConstants","immutable","leaflet","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LocationConstants").KILOMETER_SYMBOL,h=b("LocationConstants").MILE_SYMBOL;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.areChildrenLoading=function(){return!!this.childrenIDs&&this.childrenIDs.isLoading()};d.haveChildrenLoaded=function(){return!!this.childrenIDs&&!this.childrenIDs.isLoading()};d.areChildrenError=function(){return!!this.childrenIDs&&this.childrenIDs.hasError()};d.isOpen=function(){return this.open};d.hasChildren=function(){return!!this.childrenIDs&&this.childrenIDs.hasValue()&&!b("nullthrows")(this.childrenIDs.getValue()).isEmpty()};d.getChildrenIDs=function(){return this.childrenIDs&&this.childrenIDs.hasValue()?b("nullthrows")(this.childrenIDs.getValue()):null};d.getID=function(){return this.id};d.getFilter=function(){return this.id};d.getPartialLocation=function(){return{location_id:this.data.location_id,location_name:this.data.location_name,location_type:this.data.location_type,num_pages_eligible_for_store_visit_reporting:this.data.num_pages_eligible_for_store_visit_reporting,num_pages:this.data.num_pages}};d.getLocation=function(){return this.data};d.getLocationType=function(){return this.data.location_type};d.hasCoordinates=function(){return this.data.location_lat!==b("LocationConstants").LOCATION_COORDINATES_UNAVAILABLE&&this.data.location_long!==b("LocationConstants").LOCATION_COORDINATES_UNAVAILABLE};d.getLocationLat=function(){return this.data.location_lat};d.getLocationLong=function(){return this.data.location_long};d.getLocationID=function(){return this.data.location_id};d.getLocationName=function(){return this.data.location_name};d.getLocationCount=function(){return this.data.num_pages};d.getEligibleLocationCount=function(){return this.data.num_pages_eligible_for_store_visit_reporting};d.getLocationPageName=function(){return this.data.location_page_name};d.getLocationDetails=function(){return this.data.location_details};d.getSource=function(){return this.source};d.getParentID=function(){return this.parentID};d.getRadius=function(){return""+this.data.location_radius};d.getKey=function(){var a=this.getChildrenIDs();return a?this.getID()+"-"+a.join(","):""+this.getID()};d.getGeolocation=function(){return{key:this.getKey(),latitude:Number(this.getLocationLat()),longitude:Number(this.getLocationLong()),name:this.getLocationName(),type:this.getLocationType()}};d.getLatLng=function(){return new(b("leaflet").LatLng)(this.getLocationLat(),this.getLocationLong())};d.getDistanceUnitAbbr=function(){return this.data.location_distance_unit==="kilometer"?g:h};d.isCountry=function(){return this.data.location_type==="country"};d.isRegion=function(){return this.data.location_type==="region"};d.isCity=function(){return this.data.location_type==="city"};d.isLocation=function(){return this.data.location_type==="location"};d.toAPI=function(){return{page_id:this.data.location_id,latitude:this.data.location_lat,longitude:this.data.location_long}};d.removeChildrenIDs=function(a){return!a?this:this.set("childrenIDs",b("LoadObject").withValue(b("immutable").Set(this.getChildrenIDs()||[]).subtract(a)))};d.addChildrenIDs=function(a){return!a?this:this.set("childrenIDs",b("LoadObject").withValue(b("immutable").Set().concat(this.getChildrenIDs()||[]).concat(a||[])))};d.decrementLocationCount=function(a){return this.set("data",babelHelpers["extends"]({},this.data,{num_pages:this.getLocationCount()-a}))};d.incrementLocationCount=function(a){return this.set("data",babelHelpers["extends"]({},this.data,{num_pages:this.getLocationCount()+a}))};d.decrementEligibleLocationCount=function(a){return this.set("data",babelHelpers["extends"]({},this.data,{num_pages_eligible_for_store_visit_reporting:this.getEligibleLocationCount()-a}))};d.incrementEligibleLocationCount=function(a){return this.set("data",babelHelpers["extends"]({},this.data,{num_pages_eligible_for_store_visit_reporting:this.getEligibleLocationCount()+a}))};return c}(b("immutable").Record({id:null,data:null,parentID:null,source:null,childrenIDs:null,open:!1}));e.exports=a}),null);
__d("AdsLocationTree",["AdsLoadState_LEGACY","AdsLocationNode","AdsLocationTreeUtils","FBLogger","LoadObject","guid","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){return a.toArray().sort(function(a,c){a=b.get(a).getLocationName();c=b.get(c).getLocationName();return a>c?1:-1})}function h(a,b){return b.get(a).getEligibleLocationCount()>0}function i(a,c){return b("immutable").List(a.map(function(d,e){var f=b("AdsLocationTreeUtils").getLocationID(d),g=a[e+1]?b("AdsLocationTreeUtils").getLocationID(a[e+1]):null;e=a[e-1]?b("AdsLocationTreeUtils").getLocationID(a[e-1]):null;return new(b("AdsLocationNode"))({id:f,data:d,parentID:g,childrenIDs:e?b("LoadObject").withValue(b("immutable").Set([e])):null,source:c,open:!!e,loadState:b("AdsLoadState_LEGACY").LOADED})}))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.isLoading=function(a){return this.loadState===b("AdsLoadState_LEGACY").LOADING&&(!a||a&&a===this.loadingSource)};d.isLoaded=function(){return this.loadState===b("AdsLoadState_LEGACY").LOADED};d.hasError=function(){return this.loadState===b("AdsLoadState_LEGACY").ERROR};d.hasRoot=function(){var a=this;return!!this.roots&&!this.roots.isEmpty()&&this.roots.every(function(b){return a.nodes.has(b)})};d.hasNode=function(a){return this.nodes.has(a)};d.isInitialized=function(){return!!this.roots};d.allowsMultipleRoots=function(){return this.allowMultipleRoots};d.getRootIDs=function(){return b("nullthrows")(this.roots)};d.getRoots=function(){var a=this;return this.getRootIDs().map(function(b){return a.getNode(b)})};d.getRoot=function(){return b("nullthrows")(this.nodes.get(b("nullthrows")(b("nullthrows")(this.roots).first())))};d.getNode=function(a){return this.nodes.get(a)};d.getHashCode=function(){return this.nodes.hashCode()};d.getNodeHashKey=function(a){__p&&__p();var c=this;if(!this.hasNode(a)){b("FBLogger")("ads").warn("called getNodeHashKey with invalid nodeID %s",a);return b("guid")()}var d=this.nodes.getIn([a,"source"]),e=this.nodes.getIn([a,"childrenIDs"]),f=this.onlyPageWithMarketingArea?"1":"0";d=d.id+":"+a+":"+f;if(!e||!e.hasValue())return d;a=e.getValue().map(function(a){return c.getNodeHashKey(a)}).join(",");return d+"/"+a};d.getChildren=function(a){var c=this;a=this.nodes.getIn([a,"childrenIDs"]);return a&&a.hasValue()?b("immutable").Set(a.getValue().map(function(a){return c.nodes.get(a)})):null};d.getList=function(){return this.list};d.getEligibleList=function(){return this.eligibleList};d.getLocations=function(){return this.nodes.filter(function(a){return a.isLocation()}).toSet()};d.getParentsToExpand=function(){return this.nodes.filter(function(a){return!a.isLocation()&&!a.getChildrenIDs()}).toSet()};d.getNodes=function(){return this.nodes.toSet()};d.getNodeIDs=function(a){return this.nodes.filter(function(b){return a.indexOf(b.getLocationType())!==-1}).map(function(a){return a.getID()}).toSet()};d.getExpandedNodes=function(){return this.nodes.filter(function(a){return a.hasChildren()||a.areChildrenLoading()}).toSet()};d.setLoading=function(a){return this.set("loadState",b("AdsLoadState_LEGACY").LOADING).set("loadingSource",a)};d.setLoaded=function(){return this.set("loadState",b("AdsLoadState_LEGACY").LOADED)};d.setOptions=function(a){var b=this;a.allowMultipleRoots&&(b=b.set("allowMultipleRoots",!0));a.onlyPageWithMarketingArea&&(b=b.set("onlyPageWithMarketingArea",!0));return b};d.getOptions=function(){return{allowMultipleRoots:this.get("allowMultipleRoots"),onlyPageWithMarketingArea:this.get("onlyPageWithMarketingArea")}};d.removeNodeID=function(a){__p&&__p();if(!this.hasNode(a))return this;var c=this.getNode(a).getLocationCount(),d=this.getNode(a).getEligibleLocationCount(),e=this.getNode(a).getParentID(),f=0;while(e&&this.hasNode(e)&&f<1e3){var g=b("nullthrows")(this.getNode(e).getChildrenIDs());if(g.size>1)break;a=e;e=this.getNode(e).getParentID();f++}g=this;var h=e;while(h&&this.hasNode(h)&&f<1e3)g=g.updateIn(["nodes",h],function(a){return a.decrementLocationCount(c).decrementEligibleLocationCount(d)}),h=g.getNode(h).getParentID(),f++;var i=b("immutable").Set([a]);return g.set("nodes",e&&g.hasNode(e)?g.nodes.updateIn([e],function(a){return a.removeChildrenIDs(i)}):g.nodes).deleteChildren(i).updateLists()};d.toggleNode=function(a,b){return this.nodes.has(a)?this.setIn(["nodes",a,"open"],b).updateLists():this};d.hasLoadingChildren=function(){return this.nodes.some(function(a){return a.areChildrenLoading()})};d.hasChildrenWithError=function(){return this.nodes.some(function(a){return a.areChildrenError()})};d.setLoadingChildren=function(a){return this.nodes.has(a)?this.setIn(["nodes",a,"childrenIDs"],b("LoadObject").loading()):this};d.setPath=function(a,c){var d=this;a=i(a,c);c=a.first();var e=!1;(!d.nodes.has(c.getID())||d.getNode(c.getID()).getLocationCount()!==c.getLocationCount())&&(e=!0,d=d.removeNodeID(c.getID()));a.forEach(function(a){d.nodes.has(a.getID())?d=d.$AdsLocationTree1(a,e):d=d.$AdsLocationTree2(a)});return d.updateLists().set("loadState",b("AdsLoadState_LEGACY").LOADED)};d.$AdsLocationTree1=function(a,b){return this.updateIn(["nodes",a.getID()],function(c){return c.set("open",!0).addChildrenIDs(a.getChildrenIDs()).incrementLocationCount(b?a.getLocationCount():0).incrementEligibleLocationCount(b?a.getEligibleLocationCount():0)})};d.$AdsLocationTree2=function(a){return this.setIn(["nodes",a.getID()],a).deleteChildren(a.getParentID()||!this.roots||this.allowMultipleRoots?null:b("immutable").Set(this.roots)).set("roots",a.getParentID()?this.roots:this.allowMultipleRoots&&this.roots?this.roots.unshift(a.getID()):b("immutable").List([a.getID()]))};d.setChildren=function(a,c,d){__p&&__p();if(d&&!this.nodes.has(d))return this;var e=this.nodes,f=this.loadState,g,h=this.roots;if(a.hasValue()&&b("nullthrows")(a.getValue()).length){var i=b("nullthrows")(a.getValue());!d&&!this.allowMultipleRoots&&(i=i.sort(function(a,b){return b.num_pages-a.num_pages}).slice(0,1));i=b("immutable").Map(i.map(function(a){var e=b("AdsLocationTreeUtils").getLocationID(a);return[e,new(b("AdsLocationNode"))({id:e,data:a,parentID:d,source:b("nullthrows")(c),open:!1,loadState:b("AdsLoadState_LEGACY").LOADED})]}));e=i;f=b("AdsLoadState_LEGACY").LOADED;g=b("LoadObject").withValue(b("immutable").Set(i.keys()));d||(h=b("immutable").List(g.getValue()))}else a.hasValue()&&!d?(f=b("AdsLoadState_LEGACY").LOADED,h=b("immutable").List()):(f=d?f:b("AdsLoadState_LEGACY").ERROR,g=b("LoadObject").withError(a.getError()||new Error("")));return this.deleteChildren(d?this.getNode(d).getChildrenIDs():this.hasRoot()?b("immutable").Set(this.roots):null).set("loadState",f).set("roots",h).update("nodes",function(a){return a.merge(e)}).update("nodes",function(a){return d?a.setIn([d,"childrenIDs"],g):a}).updateLists()};d.updateNumLocations=function(){__p&&__p();var a=this,c=this.nodes.reduce(function(b,c){var d=c.getParentID();!c.hasChildren()&&d&&b.push(a.getNode(d));return b},[]),d=this,e=0,f=function(){var e=c.shift(),f=e.getParentID();d=a.updateIn(["nodes",e.getID(),"data"],function(a){return babelHelpers["extends"]({},a,e.hasChildren()?b("nullthrows")(d.getChildren(e.id)).reduce(function(a,b){return{num_pages:a.num_pages+b.getLocationCount(),num_pages_eligible_for_store_visit_reporting:a.num_pages_eligible_for_store_visit_reporting+b.getEligibleLocationCount()}},{num_pages:0,num_pages_eligible_for_store_visit_reporting:0}):{})});f&&c.push(d.getNode(f))};while(c.length>0&&++e<1e4)f();return d};d.deleteChildren=function(a){__p&&__p();var c=this;if(!a)return this;a=a.filter(function(a){return c.hasNode(a)});if(a.isEmpty())return this;a=b("immutable").List(a);var d=0,e;while((e=a.get(d))&&d<1e3)a=a.concat(this.getNode(e).getChildrenIDs()||[]),d++;var f=a.toSet();return this.set("nodes",this.nodes.filterNot(function(a){a._;a=a.id;return f.has(a)})).set("roots",this.roots?this.roots.filterNot(function(a){return f.has(a)}):this.roots)};d.updateLists=function(){return this.updateListWithName("list").updateListWithName("eligibleList")};d.updateListWithName=function(a){__p&&__p();var c=this;if(!this.hasRoot())return this.set(a,b("immutable").List());var d=this.getRootIDs();a==="eligibleList"&&(d=d.filter(function(a){return h(a,c.nodes)}));var e=0,f;while((f=d.get(e))&&e<5e4){f=this.getNode(f);f=f.isOpen()&&f.getChildrenIDs();if(f){var i;f=a==="eligibleList"?f.filter(function(a){return h(a,c.nodes)}):f;d=(i=d).splice.apply(i,[e+1,0].concat(g(f,this.nodes)))}e++}return this.set(a,d)};d.getCurrentNodeCount=function(){return this.hasRoot()?this.getRoot().getLocationCount():0};d.getEligibleLocationCount=function(){return this.hasRoot()?this.getRoot().getEligibleLocationCount():0};return c}(b("immutable").Record({nodes:b("immutable").Map(),loadState:b("AdsLoadState_LEGACY").LOADED,loadingSource:null,list:b("immutable").List(),roots:null,allowMultipleRoots:!1,onlyPageWithMarketingArea:!1,eligibleList:b("immutable").List()}));a.empty=new a();e.exports=a}),null);
__d("AdsLocationTreeActionsTypeClearDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.CLEAR"}}),null);
__d("AdsLocationTreeActionsTypeClearSavingDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.CLEAR_SAVING"}}),null);
__d("AdsLocationTreeActionsTypeFetchChildrenDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.FETCH_CHILDREN"}}),null);
__d("AdsLocationTreeActionsTypeRemoveLocationDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.REMOVE_LOCATION"}}),null);
__d("AdsLocationTreeActionsTypeSaveDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.SAVE"}}),null);
__d("AdsLocationTreeActionsTypeSaveErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.SAVE_ERROR"}}),null);
__d("AdsLocationTreeActionsTypeSaveFromBulkAddDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.SAVE_FROM_BULK_ADD"}}),null);
__d("AdsLocationTreeActionsTypeSaveProgressDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.SAVE_PROGRESS"}}),null);
__d("AdsLocationTreeActionsTypeSavedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.SAVED"}}),null);
__d("AdsLocationTreeActionsTypeSetChildrenDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.SET_CHILDREN"}}),null);
__d("AdsLocationTreeActionsTypeSetChildrenErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.SET_CHILDREN_ERROR"}}),null);
__d("AdsLocationTreeActionsTypeSetNodeAndAncestorsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.SET_NODE_AND_ANCESTORS"}}),null);
__d("AdsLocationTreeActionsTypeToggleLocationDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.TOGGLE_LOCATION"}}),null);
__d("AdsNewLocationTargetingEditorUpdateStateActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsNewLocationTargetingEditorUpdateStateActionPlugin"}}),null);
__d("LMLocationSetCreationSaveFromPageIDListActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeActionsType.SAVE_FROM_PAGE_ID_LIST"}}),null);
__d("AdsLocationTreeStore",["fbt","AdsDataAtom","AdsLocationBulkAddType","AdsLocationTree","AdsLocationTreeActionsTypeAddLocationDataActionFlux","AdsLocationTreeActionsTypeClearDataActionFlux","AdsLocationTreeActionsTypeClearSavingDataActionFlux","AdsLocationTreeActionsTypeFetchChildrenDataActionFlux","AdsLocationTreeActionsTypeRemoveLocationDataActionFlux","AdsLocationTreeActionsTypeSaveDataActionFlux","AdsLocationTreeActionsTypeSavedDataActionFlux","AdsLocationTreeActionsTypeSaveErrorDataActionFlux","AdsLocationTreeActionsTypeSaveFromBulkAddDataActionFlux","AdsLocationTreeActionsTypeSaveProgressDataActionFlux","AdsLocationTreeActionsTypeSetChildrenDataActionFlux","AdsLocationTreeActionsTypeSetChildrenErrorDataActionFlux","AdsLocationTreeActionsTypeSetNodeAndAncestorsDataActionFlux","AdsLocationTreeActionsTypeToggleLocationDataActionFlux","AdsLocationTreeDataManager","AdsLocationTreeUtils","AdsNewLocationTargetingEditorResetStateActionFlux","AdsNewLocationTargetingEditorUpdateStateActionFlux","AudienceDMANames","FluxStore","LMLocationSetCreationSaveFromPageIDListActionFlux","LoadObject","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=10;function i(a){var b={valid:[],invalid:[]};a.forEach(function(a){var c=parseInt(a,10);isNaN(c)?b.invalid.push(a):b.valid.push(c)});return b}function j(a){a=b("AdsLocationTreeUtils").removeDMAToken(a);var c={valid:[],invalid:[]};a.forEach(function(a){b("AudienceDMANames").codeToName[a]?c.valid.push("geo_market:DMA:"+a):c.invalid.push(a)});return c}function k(a,c,d){__p&&__p();var e;switch(a){case b("AdsLocationBulkAddType").STORE_NUMBER:a=i(c);e=a.valid;a=a.invalid;return{processedDataIDs:e,error:a.length>0?g._("We couldn't recognise these shop numbers:"):null};case b("AdsLocationBulkAddType").ZIP_CODE:return{processedDataIDs:c.map(function(a){return"zip:"+b("nullthrows")(d)+":"+a}),error:d==null?g._("Please select a country in order to continue"):null};case b("AdsLocationBulkAddType").DESIGNATED_MARKET_AREA:c=j(c);e=c.valid;a=c.invalid;return{processedDataIDs:e,error:a.length>0?g._("Your DMAs can't be added because some of them are not formatted correctly: {invalidDMAs}.",[g._param("invalidDMAs",a.join(", "))]):null}}return{}}var l=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$AdsLocationTreeStore1=b("immutable").Map();c.$AdsLocationTreeStore2=b("immutable").Map();return c}var d=c.prototype;d.$AdsLocationTreeStore3=function(a){this.$AdsLocationTreeStore1.has(a)||(this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(a,b("AdsLocationTree").empty));return b("nullthrows")(this.$AdsLocationTreeStore1.get(a))};d.$AdsLocationTreeStore4=function(a){this.$AdsLocationTreeStore2=this.$AdsLocationTreeStore2.set(a,b("LoadObject").empty())};d.$AdsLocationTreeStore5=function(a){var c=a.loadingSource,d=a.location,e=a.source,f=a.treeKey;a=a.onAddExisting;if(c!=null&&d!=null&&e!=null&&f!=null){var g=this.$AdsLocationTreeStore3(f);b("AdsLocationTreeDataManager").getAncestors(d,e,g,f,a);this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(f,g.setLoading(c));this.$AdsLocationTreeStore4(f);this.__emitChange()}};d.__getActionTypes=function(){return l?[b("AdsLocationTreeActionsTypeAddLocationDataActionFlux").actionType,b("AdsLocationTreeActionsTypeClearDataActionFlux").actionType,b("AdsLocationTreeActionsTypeClearSavingDataActionFlux").actionType,b("AdsLocationTreeActionsTypeFetchChildrenDataActionFlux").actionType,b("AdsLocationTreeActionsTypeRemoveLocationDataActionFlux").actionType,b("AdsLocationTreeActionsTypeSaveDataActionFlux").actionType,b("AdsLocationTreeActionsTypeSaveErrorDataActionFlux").actionType,b("AdsLocationTreeActionsTypeSaveFromBulkAddDataActionFlux").actionType,b("AdsLocationTreeActionsTypeSaveProgressDataActionFlux").actionType,b("AdsLocationTreeActionsTypeSavedDataActionFlux").actionType,b("AdsLocationTreeActionsTypeSetChildrenDataActionFlux").actionType,b("AdsLocationTreeActionsTypeSetChildrenErrorDataActionFlux").actionType,b("AdsLocationTreeActionsTypeSetNodeAndAncestorsDataActionFlux").actionType,b("AdsLocationTreeActionsTypeToggleLocationDataActionFlux").actionType,b("AdsNewLocationTargetingEditorResetStateActionFlux").actionType,b("AdsNewLocationTargetingEditorUpdateStateActionFlux").actionType,b("LMLocationSetCreationSaveFromPageIDListActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();var c=a.action,d;switch(c.type){case b("AdsLocationTreeActionsTypeAddLocationDataActionFlux").actionType:this.$AdsLocationTreeStore5(c);break;case b("AdsNewLocationTargetingEditorUpdateStateActionFlux").actionType:a=c.updates;this.$AdsLocationTreeStore5(a);break;case b("AdsLocationTreeActionsTypeFetchChildrenDataActionFlux").actionType:this.$AdsLocationTreeStore6(c.locations.toArray(),c.treeKey);this.__emitChange();break;case b("AdsLocationTreeActionsTypeToggleLocationDataActionFlux").actionType:this.$AdsLocationTreeStore7(c.location,c.treeKey);this.__emitChange();break;case b("AdsLocationTreeActionsTypeRemoveLocationDataActionFlux").actionType:d=this.$AdsLocationTreeStore3(c.treeKey);this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(c.treeKey,d.removeNodeID(c.location.getID()));this.$AdsLocationTreeStore4(c.treeKey);this.__emitChange();break;case b("AdsLocationTreeActionsTypeSavedDataActionFlux").actionType:case b("AdsLocationTreeActionsTypeClearDataActionFlux").actionType:case b("AdsNewLocationTargetingEditorResetStateActionFlux").actionType:this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(c.treeKey,b("AdsLocationTree").empty);this.$AdsLocationTreeStore4(c.treeKey);this.__emitChange();break;case b("AdsLocationTreeActionsTypeSaveDataActionFlux").actionType:this.$AdsLocationTreeStore8(c.accountID,c.locationMeta,c.pageID,c.treeKey,c.pagesToBeRemoved,c.onPageSetCreated);this.__emitChange();break;case b("AdsLocationTreeActionsTypeClearSavingDataActionFlux").actionType:this.$AdsLocationTreeStore2=this.$AdsLocationTreeStore2.set(c.treeKey,b("LoadObject").empty());this.__emitChange();break;case b("AdsLocationTreeActionsTypeSetNodeAndAncestorsDataActionFlux").actionType:this.$AdsLocationTreeStore9(c.breakdowns,c.path,c.source,c.treeKey,c.onAddExisting);this.__emitChange();break;case b("AdsLocationTreeActionsTypeSetChildrenDataActionFlux").actionType:d=this.$AdsLocationTreeStore3(c.treeKey);c.breakdowns&&c.breakdowns.forEach(function(a){var c=a.locations,e=a.source;a=a.parentID;d=d.setChildren(b("LoadObject").withValue(c),e,a)});this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(c.treeKey,c.forceUpdateNumLocations?d.updateNumLocations():d);this.__emitChange();break;case b("AdsLocationTreeActionsTypeSetChildrenErrorDataActionFlux").actionType:d=this.$AdsLocationTreeStore3(c.treeKey);c.queries.forEach(function(a){d=d.setChildren(b("LoadObject").withError(c.error),a.source,a.parentID)});this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(c.treeKey,d);this.__emitChange();break;case b("AdsLocationTreeActionsTypeSaveProgressDataActionFlux").actionType:a=b("nullthrows")(this.$AdsLocationTreeStore2.has(c.treeKey)&&b("nullthrows")(this.$AdsLocationTreeStore2.get(c.treeKey)).hasValue()?b("nullthrows")(this.$AdsLocationTreeStore2.get(c.treeKey)).getValue():0);this.$AdsLocationTreeStore2=this.$AdsLocationTreeStore2.set(c.treeKey,b("LoadObject").loading().setValue(c.progress&&c.progress>=0?c.progress:a+(100-a)/h));this.__emitChange();break;case b("AdsLocationTreeActionsTypeSaveErrorDataActionFlux").actionType:this.$AdsLocationTreeStore2=this.$AdsLocationTreeStore2.set(c.treeKey,b("LoadObject").withError(new Error(c.error)));this.__emitChange();break;case b("AdsLocationTreeActionsTypeSaveFromBulkAddDataActionFlux").actionType:this.$AdsLocationTreeStore10(c.accountID,c.countryID,c.dataIDs,c.dataType,c.locationMeta,c.pageID,c.preservePrevious,c.treeKey,c.onPageSetCreatedFromBulk);this.__emitChange();break;case b("LMLocationSetCreationSaveFromPageIDListActionFlux").actionType:this.$AdsLocationTreeStore11(c.accountID,c.pageID,c.locationFromPartials,c.locationMeta,c.treeKey,c.onPageSetCreated);this.__emitChange();break;default:return}};d.getTree=function(a,c,d,e){e===void 0&&(e={});var f=this.$AdsLocationTreeStore3(d),g=f.isInitialized()&&f.getOptions().onlyPageWithMarketingArea!==!!e.onlyPageWithMarketingArea,h=g&&e.onlyPageWithMarketingArea,i=g&&!e.onlyPageWithMarketingArea,j=f.hasRoot()&&f.getRoot().getSource().id!==(f.getRoot().getSource().type==="page"?a:c),k=!f.isInitialized()&&!e.shouldNotPopulateWhenInitialized;g=g||j||k;f.isLoaded()&&g&&(h===!0?b("AdsLocationTreeDataManager").cloneTree(d,f,e):b("AdsLocationTreeDataManager").getBreakdowns([i&&f.hasRoot()?{filter:[f.getRoot().getFilter()],source:f.getRoot().getSource()}:{source:c!=null&&c!==""?{id:c,type:"place_page_set"}:{id:a,type:"page"}}],d,e),this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(d,b("AdsLocationTree").empty.setLoading().setOptions(e)));return this.$AdsLocationTreeStore3(d)};d.getSavingProgress=function(a){return this.$AdsLocationTreeStore2.get(a)||b("LoadObject").empty()};d.$AdsLocationTreeStore11=function(a,c,d,e,f,g){b("AdsLocationTreeDataManager").genSaveToPageSet(a,null,e,c,f,d,g),this.$AdsLocationTreeStore2=this.$AdsLocationTreeStore2.set(f,b("LoadObject").loading().setValue(10))};d.$AdsLocationTreeStore8=function(a,c,d,e,f,g){var h=this.$AdsLocationTreeStore3(e);b("AdsLocationTreeDataManager").genSaveTreeToPageSet(a,c,d,h.getParentsToExpand(),h.getLocations(),e,h.getOptions(),f,g);this.$AdsLocationTreeStore2=this.$AdsLocationTreeStore2.set(e,b("LoadObject").loading().setValue(10))};d.$AdsLocationTreeStore10=function(a,c,d,e,f,g,h,i,j){__p&&__p();d=k(e,b("AdsLocationTreeUtils").splitDataIDs(d),c);c=d.processedDataIDs;d=d.error;d!=null&&this.$AdsLocationTreeStore12(d,i);if(c&&c.length>0){d=this.$AdsLocationTreeStore3(i);var l=b("immutable").Set(),m=b("immutable").Set();h&&(l=d.getLocations(),m=d.getParentsToExpand());b("AdsLocationTreeDataManager").genSaveDataIDsToPageSet(a,b("immutable").Set(c),e,f,g,m,l,i,d.getOptions(),j);this.$AdsLocationTreeStore2=this.$AdsLocationTreeStore2.set(i,b("LoadObject").loading().setValue(10))}};d.$AdsLocationTreeStore12=function(a,c){this.$AdsLocationTreeStore2=this.$AdsLocationTreeStore2.set(c,b("LoadObject").withError(new Error(a)))};d.$AdsLocationTreeStore7=function(a,b){var c=this.$AdsLocationTreeStore3(b);this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(b,c.toggleNode(a.getID(),!a.isOpen()));!a.isOpen()&&!a.hasChildren()&&!a.isLocation()&&this.$AdsLocationTreeStore6([a],b)};d.$AdsLocationTreeStore6=function(a,c){var d=this.$AdsLocationTreeStore3(c);b("AdsLocationTreeDataManager").getBreakdowns(a.filter(function(a){return d.hasNode(a.getID())}).map(function(a){d=d.setLoadingChildren(a.getID());return{source:a.getSource(),treeKey:c,parentID:a.getID(),type:b("AdsLocationTreeUtils").getNextTreeLevel(a.getLocationType()),filter:[a.getFilter()]}}),c,d.getOptions());this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(c,d)};d.$AdsLocationTreeStore13=function(a,c,d,e){__p&&__p();e=a;if(!e.allowsMultipleRoots()&&d.length===1)return b("AdsLocationTree").empty.setOptions(e.getOptions());if(c&&e.hasNode(b("AdsLocationTreeUtils").getLocationID(d[0]))&&d.length>1)switch(c){case"focus":e=e.removeNodeID(b("AdsLocationTreeUtils").getLocationID(d[1]));break;case"clearAndFocus":e=b("AdsLocationTree").empty.setOptions(e.getOptions());break}return e};d.$AdsLocationTreeStore9=function(a,c,d,e,f){var g=this.$AdsLocationTreeStore3(e);a&&a.forEach(function(c){var d=c.locations,a=c.source;c=c.parentID;g=g.setChildren(b("LoadObject").withValue(d),a,c)});g=this.$AdsLocationTreeStore13(g,f,c,d);this.$AdsLocationTreeStore1=this.$AdsLocationTreeStore1.set(e,g.setPath(c,d))};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsNewLocationTargetingDialogStep",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){switch(a){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;default:return 0}}function a(a){return a+1>3?a:g(a+1)}function b(a){return a-1<0?a:g(a-1)}e.exports=Object.freeze({STEP_1:0,STEP_2:1,STEP_3:2,PAGESET_CREATION_STEP:3,getNextStep:a,getPreviousStep:b})}),null);
__d("AdsTargetingLocationPageSetCloseDialogReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.key,babelHelpers["extends"]({},a.get(b.key),{isSuccessful:b.isSuccessful}))}};e.exports=a}),null);
__d("AdsTargetingLocationPageSetInteractionDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Map;c={initialState:a()};e.exports=c}),null);
__d("AdsTargetingLocationPageSetInteractionDataProvider",["Laminar","AdsTargetingLocationPageSetInteractionDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsTargetingLocationPageSetInteractionDataProviderPlugin"),"AdsTargetingLocationPageSetInteractionDataProviderPlugin")}),null);
__d("AdsTargetingLocationPageSetCloseDialogAction",["Laminar","AdsNewLocationTargetingEditorUpdateStateOnDialogCloseReducerPlugin","AdsNewLocationTargetingEditorProvider","AdsTargetingLocationPageSetCloseDialogReducerPlugin","AdsTargetingLocationPageSetInteractionDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsNewLocationTargetingEditorUpdateStateOnDialogCloseReducerPlugin"),b("AdsNewLocationTargetingEditorProvider"),{}),b("Laminar").__createReducer(b("AdsTargetingLocationPageSetCloseDialogReducerPlugin"),b("AdsTargetingLocationPageSetInteractionDataProvider"),{})]},function(){return[]},"ADS_TARGETING_LOCATION_PAGE_SET_CLOSE_DIALOG");e.exports=a}),null);
__d("AdsTargetingLocationPageSetInteractionReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,b){var c=a.get(b.key);switch(b.interactionType){case"click":return a.set(b.key,babelHelpers["extends"]({},c,{clickCount:c.clickCount+1,hasUsedBulkAdd:b.options&&!!b.options.isBulkAdd||c.hasUsedBulkAdd}));case"key_stroke":return a.set(b.key,babelHelpers["extends"]({},c,{keyStrokeCount:c.keyStrokeCount+1}));case"tree_click":return a.set(b.key,babelHelpers["extends"]({},c,{treeClickCount:c.treeClickCount+1}));case"tree_key_stroke":return a.set(b.key,babelHelpers["extends"]({},c,{treeKeyStrokeCount:c.treeKeyStrokeCount+1}))}return a}};e.exports=a}),null);
__d("AdsTargetingLocationPageSetInteractionAction",["Laminar","AdsTargetingLocationPageSetInteractionReducerPlugin","AdsTargetingLocationPageSetInteractionDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsTargetingLocationPageSetInteractionReducerPlugin"),b("AdsTargetingLocationPageSetInteractionDataProvider"),{})]},function(){return[]},"ADS_TARGETING_LOCATION_PAGE_SET_INTERACTION");e.exports=a}),null);
__d("AdsTargetingLocationPageSetOpenDialogReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.key,g(b.key,b.entryPoint))}};function g(a,b){a=a.split("-");a[0];a=a[1];return{clickCount:0,entryPoint:b,hasUsedBulkAdd:!1,isSuccessful:!1,keyStrokeCount:0,seqNo:parseInt(a,10),treeClickCount:0,treeKeyStrokeCount:0}}e.exports=a}),null);
__d("AdsTargetingLocationPageSetOpenDialogAction",["Laminar","AdsTargetingLocationPageSetOpenDialogReducerPlugin","AdsTargetingLocationPageSetInteractionDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsTargetingLocationPageSetOpenDialogReducerPlugin"),b("AdsTargetingLocationPageSetInteractionDataProvider"),{})]},function(){return[]},"ADS_TARGETING_LOCATION_PAGE_SET_OPEN_DIALOG");e.exports=a}),null);
__d("AdsNewLocationTargetingInteractionLoggingUtils",["AdsInterfacesLogEvents","AdsInterfacesLogger","AdsTargetingLocationPageSetCloseDialogAction","AdsTargetingLocationPageSetInteractionAction","AdsTargetingLocationPageSetInteractionDataProvider","AdsTargetingLocationPageSetOpenDialogAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsInterfacesLogEvents").EventCategory;a={getNewInteractionLoggerKey:function(a){return"new:"+Date.now()+"-"+a},startLogging:function(a,c){b("AdsTargetingLocationPageSetOpenDialogAction").dispatch({key:c,entryPoint:a},{line:"34",module:"AdsNewLocationTargetingInteractionLoggingUtils.js"})},logInteraction:function(a,c,d){a!=null&&c!=null&&b("AdsTargetingLocationPageSetInteractionAction").dispatch({key:a,interactionType:c,options:d},{line:"46",module:"AdsNewLocationTargetingInteractionLoggingUtils.js"})},finishLogging:function(a,c,d){b("AdsTargetingLocationPageSetCloseDialogAction").dispatch({key:a,editorStateKey:d,isSuccessful:c},{line:"59",module:"AdsNewLocationTargetingInteractionLoggingUtils.js"});d=b("AdsTargetingLocationPageSetInteractionDataProvider").toFluxSelector();c=d().get(a);b("AdsInterfacesLogger").log({eventCategory:g.USER_ACTION,eventName:"new_targeting_location_pageset_dialog_interactions",data:{new_value:JSON.stringify(c)}})}};e.exports=a}),null);
__d("AdsNewLocationTargetingEditorUpdateStateOnDialogCloseReducerPlugin",["AdsNewLocationTargetingInteractionLoggingUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return c.editorStateKey==null?a:a.update(c.editorStateKey,function(a){var c=a.interactionLoggerKeySeqNo+1;return a.merge({interactionLoggerKey:b("AdsNewLocationTargetingInteractionLoggingUtils").getNewInteractionLoggerKey(c),interactionLoggerKeySeqNo:c})})}};e.exports=a}),null);
__d("AdsNewLocationTargetingEditorState",["AdsNewLocationTargetingDialogStep","AdsNewLocationTargetingInteractionLoggingUtils","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({bulkAddStoreNumberList:void 0,countryCode:void 0,currentPageSetID:void 0,currentStep:b("AdsNewLocationTargetingDialogStep").STEP_1,elementFocused:"none",interactionLoggerKey:b("AdsNewLocationTargetingInteractionLoggingUtils").getNewInteractionLoggerKey(0),interactionLoggerKeySeqNo:0,isEditing:!1,isPageSetNameInputEnabled:!0,isSelectedLocationsTreeDisabled:!1,isUnmeasurableLocationsModalVisible:!1,lastBulkUpdateErrors:void 0,loadingSource:void 0,location:void 0,queryString:"",showDialog:!1,source:void 0,treeKey:void 0,typeaheadHasResults:!1,unmeasurableLocationsNUXisHidden:!1});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsNewLocationTargetingPageSetsUtils",["fbt","AdsLoadObjectUtils","AdsLocationMeta","AdsLocationMetaConstant","AdsLocationMetaUtils","AdsStoreTrafficRenamingUtils","GraphAdPlacePageSetPagesSelection","LoadObject","formatDate","immutable","parseISODate","timeString"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsLocationMetaUtils").getSelectedRadiusType,i=b("AdsStoreTrafficRenamingUtils").adsStoreTrafficRenaming,j=80;function k(a){return a.sortBy(function(a){return a.creation_time!=null&&a.creation_time!==""?b("parseISODate")(a.creation_time):-1}).reverse()}function l(a,b){return a.find(function(a){return a.ancestor_id===b.ancestor_id})}function m(a){return a.name!=null&&a.name.trim()!=""}function a(a,c,d){d===void 0&&(d=100);return a.map(function(a){return k(a).reduce(function(a,e){e=o(e);if(e.id!==c&&(l(a,e)!=null||e.pages_selection===b("GraphAdPlacePageSetPagesSelection").COUNTRY_DEFAULT&&a.find(function(a){return a.pages_selection===b("GraphAdPlacePageSetPagesSelection").COUNTRY_DEFAULT})||!m(e)))return a;e=p(e,a,d);return e?a.push(q(e)):a},b("immutable").List())})}function n(a,b){return b.has(a.id)?b.get(a.id):null}function c(a,c){return k(a).reduce(function(a,b){b=o(b);return l(a,b)!=null&&!n(b,c)||!m(b)?a:a.push(b)},b("immutable").List())}function o(a){var c=null;a.metadata!=null&&(c=b("AdsLocationMetaUtils").parseExtraData(a.metadata.extra_data));return a.set("ancestor_id",c!=null&&c.ancestorID!=null&&c.ancestorID!==""?c.ancestorID:a.id)}function p(a,c,d){if(c.size>=d||a.pages_selection===b("GraphAdPlacePageSetPagesSelection").OUTDATED_COUNTRY_DEFAULT)return null;if(a.pages_selection===b("GraphAdPlacePageSetPagesSelection").COUNTRY_DEFAULT)return a.set("label",g._("All locations"));return a.name!=null&&a.name!==""&&a.name.length<j?a.set("label",g._("{pageSetName}",[g._param("pageSetName",a.name)])):a.set("label",i(g._("Location set {pageSetID}",[g._param("pageSetID",a.id)]),g._("Shop set {pageSetID}",[g._param("pageSetID",a.id)])))}function q(a){if(a.creation_time==null||a.creation_time==="")return a;var c=b("parseISODate")(a.creation_time);return a.set("time_label",a.pages_selection===b("GraphAdPlacePageSetPagesSelection").COUNTRY_DEFAULT?g._("Updated: {update date}",[g._param("update date",b("timeString")(c))]):g._("Created on {creation date}",[g._param("creation date",b("formatDate")(c,"M d, Y g:ia"))]))}function d(a,b){a=a.filter(function(a){return a.metadata!=null});return!b?a:a.filter(function(a){return a.label!=null&&a.label!==""&&a.label.toString().toLowerCase().includes(b.toLowerCase())})}function f(a){return a.creation_time!=null&&a.creation_time!==""?b("formatDate")(b("parseISODate")(a.creation_time),"M d, Y g:ia"):g._("Unavailable")}function r(a){return a&&a.location_type==="country"?a.location_name:g._("Unavailable")}function s(a,b){a=a.pages_count;return a!=null&&a!==0?g._("{pageSetPagesCount} {pagePagesToken}",[g._param("pageSetPagesCount",a),g._param("pagePagesToken",b&&b.num_pages>=a?g._("of {pageSetPagesCount}",[g._param("pageSetPagesCount",b.num_pages)]):null)]):g._("Unavailable")}function t(a,b){var c=g._("We couldn't retrieve the details of this location set, but you can still use it to run this campaign.");return b.match({error:function(){return c},loading:function(){return null},loaded:function(b){return b==null||a.pages_count==null||a.creation_time==null||a.creation_time===""?c:null}})}function u(a,c){return a.match({empty:function(){return b("LoadObject").empty()},loading:function(){return b("LoadObject").loading()},error:function(a){return b("LoadObject").withError(a)},loaded:function(a){return b("AdsLoadObjectUtils").allByKey(a.map(function(a){return c(a.id).map(function(a){return a[0]})}))}})}function v(a,c){return b("AdsLoadObjectUtils").all([a,c]).map(function(a){var b=a[0],c=a[1];return b.map(function(a,b){b=null;a!=null&&(b=c.find(function(b){return b.location_id===a.location_id}));return b!=null?b:a})})}function w(a){var c;a=new(b("AdsLocationMeta"))().setIn(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH,a.targeted_area_type?h(a.metadata?!!a.metadata.audience:null,a.targeted_area_type):null).setIn(b("AdsLocationMetaConstant").DISTANCE_UNIT_PATH,((c=a.metadata)==null?void 0:c.audience)?(c=a.metadata)==null?void 0:(c=c.audience)==null?void 0:(c=c.max_radius)==null?void 0:c.distance_unit:(c=a.metadata)==null?void 0:(c=c.fixed_radius)==null?void 0:c.distance_unit).setIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH,(c=a.metadata)==null?void 0:(c=c.fixed_radius)==null?void 0:c.value).setIn(b("AdsLocationMetaConstant").AUDIENCE_VALUE_PATH,(c=a.metadata)==null?void 0:(c=c.audience)==null?void 0:c.size).setIn(b("AdsLocationMetaConstant").AUDIENCE_HASMAX_PATH,!!((c=a.metadata)==null?void 0:(c=c.audience)==null?void 0:c.max_radius)).setIn(b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH,(c=a.metadata)==null?void 0:(a=c.audience)==null?void 0:(c=a.max_radius)==null?void 0:c.value);return a}e.exports={filter:d,getAllPageSetsForDropdown:a,getAllPageSetsForTable:c,getCountryLabel:r,getCreatedAtLabel:f,getLocationCountLabel:s,getMissingInformationsLabel:t,getPageSetsCountry:u,getPageSetsPageLevelCountries:v,getLocationMetadata:w,hasCampaignRunning:n}}),null);
__d("AdsPlacePageSetPageSetsLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsPlacePageSetActionsType.PAGE_SETS_LOAD_ERROR"}}),null);
__d("AdsPlacePageSetPageSetsLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsPlacePageSetActionsType.PAGE_SETS_LOAD_SUCCESS"}}),null);
__d("AdsPlacePageSetStore",["AdsDataAtom","AdsLocationTreeActionsTypeSavedDataActionFlux","AdsPlacePageSetDataManager","AdsPlacePageSetPageSetsLoadErrorDataActionFlux","AdsPlacePageSetPageSetsLoadSuccessDataActionFlux","FluxLoadObjectStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),b("AdsPlacePageSetPageSetsLoadErrorDataActionFlux").actionType,b("AdsPlacePageSetPageSetsLoadSuccessDataActionFlux").actionType,b("AdsLocationTreeActionsTypeSavedDataActionFlux").actionType]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsPlacePageSetPageSetsLoadSuccessDataActionFlux").actionType:return this.__handleOne(a,c.key,c.pageSets);case b("AdsPlacePageSetPageSetsLoadErrorDataActionFlux").actionType:return this.__handleOne(a,c.key,c.error);case b("AdsLocationTreeActionsTypeSavedDataActionFlux").actionType:return a.clear();default:return a}};d.__load=function(a){b("AdsPlacePageSetDataManager").fetchPageSetList(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsPlacePageSetStoreKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({accountID:void 0,limit:100,minPagesCount:1,pageID:void 0,pageSetID:void 0,pagesSelection:void 0,since:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("adsPageSetLoadObjectBulkParentPageIDSelector",["AdsAPICampaignPaths","AdsBulkValueUtils","AdsLoadObjectUtils","AdsPlacePageSetInfoStore","AdsUEditorCampaignBulkSelectors","adsCreateSelector","filterNulls"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PLACE_PAGE_SET_ID)],function(a){return b("AdsBulkValueUtils").mapBulkValue(a,function(a){return a!=null?a:void 0})},{name:e.id+".adsCampaignBulkPromotedPlacePageSetIDSelector"});c=b("adsCreateSelector")([a,b("AdsPlacePageSetInfoStore").getAllSelector],function(a,c){a=b("filterNulls")(a.getValues());return b("AdsLoadObjectUtils").all(Array.from(c(a).values())).map(function(a){return b("AdsBulkValueUtils").aggregate(a.map(function(a){return a.parent_page_id}))})},{name:e.id+".adsPageSetLoadObjectBulkParentPageIDSelector"});e.exports=c}),null);
__d("adsSharedLocationPageSelector",["AdsLoadObjectUtils","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPageUtils","ApiPagePaths","adsCreateStoreThunkSelector","getByPath","naturalComparator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,c){return b("naturalComparator")(b("getByPath")(a,b("ApiPagePaths").NAME),b("getByPath")(c,b("ApiPagePaths").NAME))};a=b("adsCreateStoreThunkSelector")(b("AdsPageStore"),function(a){return b("AdsLoadStateUtils_LEGACY").toLoadObject(b("AdsPageStore").get(a)).map(function(a){var c=b("AdsPageUtils").getSharedParentPageIDs(a);c=Array.from(b("AdsPageStore").getAll(c).values()).map(function(a){return b("AdsLoadStateUtils_LEGACY").toLoadObject(a)});return b("AdsLoadObjectUtils").all([a].concat(c))}).map(function(a){return a.filter(function(a){return b("AdsPageUtils").hasLocations(a)})}).map(function(a){return a.sort(g)})});e.exports=a}),null);
__d("adsNewLocationTargetingParentPageIDsSelector",["AdsAPICampaignGroupPaths","AdsLoadObjectUtils","AdsUEditorCampaignGroupBulkSelectors","LoadObject","adsCreateSelector","adsPageSetLoadObjectBulkParentPageIDSelector","adsSharedLocationPageSelector","intersectArrays"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){return b("AdsLoadObjectUtils").all(a.map(function(a){return a!=null?c(a):b("LoadObject").empty()}).map(function(a){return a.map(function(a){return a.map(function(a){return a.id})})})).map(function(a){return b("intersectArrays").apply(void 0,a)})}a=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID),b("adsPageSetLoadObjectBulkParentPageIDSelector"),b("adsSharedLocationPageSelector")],function(a,c,d){return c.map(function(c){return b("AdsLoadObjectUtils").all([g(c.getValues(),d),g(a.getValues(),d)]).map(function(b){var c=b[0];b=b[1];return[].concat(c,b).filter(function(a,b,c){return c.indexOf(a)==b}).sort(function(b,c){return a.getValues().includes(c)?1:0})})})},{name:e.id+".adsNewLocationTargetingParentPageIDsSelector"});e.exports=a}),null);
__d("AdsNewLocationTargetingSelectors",["AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsBulkValueUtils","AdsDefaultTargetingRadiusProvider","AdsDefaultTargetingRadiusProviderKey","AdsEmptyValue","AdsLoadObjectUtils","AdsLocationBreakdownStore","AdsLocationMetaStore","AdsLocationMetaStoreKey","AdsLocationTreeStore","AdsLocationTreeStoreKey","AdsNewLocationTargetingEditorProvider","AdsNewLocationTargetingEditorState","AdsNewLocationTargetingEditorStateKey","AdsNewLocationTargetingPageSetsUtils","AdsPlacePageSet","AdsPlacePageSetStore","AdsPlacePageSetStoreKey","AdsUEditorCampaignBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsUniformValue","LoadObject","adsCreateSelector","adsCreateStoreThunkSelector","adsNewLocationTargetingParentPageIDsSelector","adsPageSetLoadObjectBulkParentPageIDSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedCampaignsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map,h=b("immutable").OrderedMap,i=100,j=function(a,c,d){return new(b("AdsPlacePageSetStoreKey"))({accountID:c,limit:100,minPagesCount:1,pageID:a,pageSetID:d})};a=b("adsCreateStoreThunkSelector")(b("AdsPlacePageSetStore"),function(a){return b("AdsPlacePageSetStore").get(a)});c=b("adsCreateStoreThunkSelector")(b("AdsLocationBreakdownStore"),function(a){return b("AdsLocationBreakdownStore").getCountries(a,"place_page_set")});d=b("adsCreateStoreThunkSelector")(b("AdsLocationBreakdownStore"),function(a){return b("AdsLocationBreakdownStore").getCountries(a,"page")});f=b("adsCreateStoreThunkSelector")(b("AdsLocationTreeStore"),function(a){return b("AdsLocationTreeStore").getSavingProgress(a)});var k=b("adsCreateStoreThunkSelector")(b("AdsLocationTreeStore"),function(a,c,d,e){return b("AdsLocationTreeStore").getTree(a,c,d,e)}),l=b("adsCreateStoreThunkSelector")(b("AdsLocationMetaStore"),function(a,c){return b("AdsLocationMetaStore").getLocationMeta(a,c)}),m=b("adsCreateStoreThunkSelector")(b("AdsLocationMetaStore"),function(a,c,d){return b("AdsLocationMetaStore").getLocationMetaWithDefaultRadius(a,c,d)}),n=b("AdsNewLocationTargetingEditorProvider").toFluxSelector(),o=b("adsCreateSelector")([b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").TARGETING.PLACE_PAGE_SET_IDS)],function(a){return b("AdsBulkValueUtils").mapBulkValue(a,function(a){return a!=null?a.first():void 0})},{name:e.id+".adsCampaignBulkTargetingPlacePageSetIDSelector"}),p=b("adsCreateSelector")([b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID),b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID)],function(a,c){c=b("AdsBulkValueUtils").getUniformValue(c);return c==null?null:new(b("AdsNewLocationTargetingEditorStateKey"))({pageID:c,bulkCampaignID:a})},{name:e.id+".adsActiveLocationTargetingEditorKeySelector"}),q=b("adsCreateSelector")([p,n],function(a,c){return a==null?new(b("AdsNewLocationTargetingEditorState"))():c.get(a,new(b("AdsNewLocationTargetingEditorState"))())},{name:e.id+".adsActiveLocationTargetingEditorSelector"}),r=b("adsCreateSelector")([b("adsNewLocationTargetingParentPageIDsSelector"),b("adsPageSetLoadObjectBulkParentPageIDSelector")],function(a,c){return b("AdsLoadObjectUtils").all([a,c]).map(function(c){c[0];c=c[1];return!(c instanceof b("AdsEmptyValue"))?c:a.map(function(a){a=a[0];return a!=null?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance()})})},{name:e.id+".adsPageSetBulkParentPageIDSelector"}),s=b("adsCreateSelector")([b("adsUEditorAccountSelector"),r,o,a],function(a,c,d,e){return c.mapValue(function(c){c=b("AdsBulkValueUtils").getUniformValue(c);var f=b("AdsBulkValueUtils").getUniformValue(d),g=a.account_id;return c==null?b("LoadObject").empty():b("AdsNewLocationTargetingPageSetsUtils").getAllPageSetsForDropdown(e(j(c,g,f)),f,i).map(function(a){return f!=null&&!a.find(function(a){return a.id===f})?a.push(new(b("AdsPlacePageSet"))({id:f})):a}).map(function(a){return h(a.map(function(a){return[a.id,a]}))})})},{name:e.id+".adsPageSetsSelector"}),t=b("adsCreateSelector")([r,d],function(a,c){return a.mapValue(function(a){a=b("AdsBulkValueUtils").getUniformValue(a);return a!=null?c(a):b("LoadObject").empty()})},{name:e.id+".adsAllPageCountriesSelector"}),u=b("adsCreateSelector")([s,c],b("AdsNewLocationTargetingPageSetsUtils").getPageSetsCountry,{name:e.id+".adsPageSetsCountrySelector"}),v=b("adsCreateSelector")([o,c],function(a,c){a=b("AdsBulkValueUtils").getUniformValue(a);return a!=null?c(a).map(function(a){return a[0]}):b("LoadObject").empty()},{name:e.id+".adsPageSetCountrySelector"}),w=b("adsCreateSelector")([o,s],function(a,c){var d=b("AdsBulkValueUtils").getUniformValue(a);return d!=null?c.map(function(a){return a.get(d)}):b("LoadObject").empty()},{name:e.id+".adsPageSetSelector"}),x=b("adsCreateSelector")([r,q,c,d],function(a,c,d,e){return c.countryCode!=null?b("LoadObject").withValue(c.countryCode):a.mapValue(function(a){a=b("AdsBulkValueUtils").getUniformValue(a);var f=b("LoadObject").empty();c.currentPageSetID!=null?f=d(c.currentPageSetID):a!=null&&(f=e(a));return f.map(function(a){a=a.sort(function(a,b){return b.num_pages-a.num_pages})[0];return a?a.location_id:null})})},{name:e.id+".adsActiveLocationTargetingCountryCodeSelector"}),y=b("adsCreateSelector")([b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID),r,q,x],function(a,c,d,e){var f=d.currentPageSetID;return b("AdsLoadObjectUtils").all([c,e]).mapValue(function(c){var d=c[0];c=c[1];d=b("AdsBulkValueUtils").getUniformValue(d);return{allLocationsKey:new(b("AdsLocationTreeStoreKey"))({campaignIDs:a,pageID:d,pageSetID:f,countryCode:c,type:"all"}),selectedLocationsKey:new(b("AdsLocationTreeStoreKey"))({campaignIDs:a,pageID:d,pageSetID:f,countryCode:c,type:"selected"})}})},{name:e.id+".adsNewLocationTargetingTreeKeySelector"}),z=b("adsCreateSelector")([r,q,y,k],function(a,c,d,e){var f=c.currentPageSetID;return b("AdsLoadObjectUtils").all([a,d]).mapValue(function(a){var c=a[0];a=a[1];c=b("AdsBulkValueUtils").getUniformValue(c);return c==null||a==null?b("LoadObject").empty():e(c,f,a.selectedLocationsKey,{shouldNotPopulateWhenInitialized:!0})})},{name:e.id+".adsSelectedLocationsTreeSelector"}),A=b("adsCreateSelector")([u,t],b("AdsNewLocationTargetingPageSetsUtils").getPageSetsPageLevelCountries,{name:e.id+".adsPageSetPageLevelCountriesSelector"}),B=b("adsCreateSelector")([q,b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID),l],function(a,c,d){a=a.currentPageSetID;return d(new(b("AdsLocationMetaStoreKey"))({campaignIDs:c,pageSetID:a}),a!=null?a:void 0)},{name:e.id+".adsLocationMetadataSelector"}),C=b("adsCreateSelector")([x,r,b("AdsDefaultTargetingRadiusProvider").toFluxSelector()],function(a,c,d){return b("AdsLoadObjectUtils").all([a,c]).mapValue(function(a){var c=a[0];a=a[1];a=b("AdsBulkValueUtils").getUniformValue(a);return a==null?b("LoadObject").empty():d.get(new(b("AdsDefaultTargetingRadiusProviderKey"))({countryCode:c,parentPageID:a}))})},{name:e.id+".adsDefaultTargetingRadiusSelector"});C=b("adsCreateSelector")([q,b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID),C,B,m],function(a,c,d,e,f){var g=a.currentPageSetID;return d.isEmpty()?e:d.map(function(a){return f(new(b("AdsLocationMetaStoreKey"))({campaignIDs:c,pageSetID:g}),g!=null?g:void 0,a)})},{name:e.id+".adsLocationMetadataWithDefaultRadiusSelector"});var D=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedCampaignsSelector")],function(a){return g(a.map(function(a){a=a.campaign;return[a.id,a.targeting.toJS()]}))},{name:e.id+".adsTargetingSpecSelector"}),E=b("adsCreateSelector")([v,t],function(a,c){return b("AdsLoadObjectUtils").all([a,c]).mapValue(function(a){var c=a[0];a=a[1];return c!=null?a.find(function(a){return a.location_id===c.location_id}):b("LoadObject").empty()})},{name:e.id+".adsPageSetCountryLocationSelector"});e.exports={adsActiveLocationTargetingCountryCodeSelector:x,adsActiveLocationTargetingEditorKeySelector:p,adsActiveLocationTargetingEditorSelector:q,adsAllPageCountriesSelector:t,adsCampaignBulkTargetingPlacePageSetIDSelector:o,adsLocationMetadataSelector:B,adsLocationMetadataStoreSelector:l,adsLocationMetadataWithDefaultRadiusSelector:C,adsLocationMetadataWithDefaultRadiusStoreSelector:m,adsLocationTreeStoreSelector:k,adsNewLocationTargetingEditorSelector:n,adsNewLocationTargetingTreeKeySelector:y,adsPageCountryStoreSelector:d,adsPageSetBulkParentPageIDSelector:r,adsPageSetCountryLocationSelector:E,adsPageSetCountrySelector:v,adsPageSetCountryStoreSelector:c,adsPageSetCreationProgressStoreSelector:f,adsPageSetPageLevelCountriesSelector:A,adsPageSetsCountrySelector:u,adsPageSetSelector:w,adsPageSetsSelector:s,adsPageSetStoreSelector:a,adsSelectedLocationsTreeSelector:z,adsTargetingSpecSelector:D,getPageSetKey:j}}),null);
__d("LMAdAccountsLoadedReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.merge(b.adAccounts)}};e.exports=a}),null);
__d("LMLocationSetsTabStateAdAccountLoadedReducerPlugin",["CurrentUser","LoadObject"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){c=c.adAccounts.get(b("CurrentUser").getAccountID());if(c!=null&&c.hasValue())return a.merge({selectedAdAccountID:b("LoadObject").withValue(c.getValueEnforcing()[0].account_id)});else if(c!=null&&c.hasError())return a.merge({selectedAdAccountID:b("LoadObject").withError(c.getErrorEnforcing())});return a}};e.exports=a}),null);
__d("LMLocationSetsTabState",["immutable","LoadObject"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({selectedAdAccountID:b("LoadObject").loading()});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMLocationSetsTabStateProviderPlugin",["LMLocationSetsTabState"],(function(a,b,c,d,e,f){"use strict";a={initialState:new(b("LMLocationSetsTabState"))()};e.exports=a}),null);
__d("LMLocationSetsTabStateProvider",["Laminar","LMLocationSetsTabStateProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("LMLocationSetsTabStateProviderPlugin"),"LMLocationSetsTabStateProviderPlugin")}),null);
__d("LMAdAccountsLoadedAction",["Laminar","LMAdAccountsLoadedReducerPlugin","LMAdAccountsProvider","LMLocationSetsTabStateAdAccountLoadedReducerPlugin","LMLocationSetsTabStateProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("LMAdAccountsLoadedReducerPlugin"),b("LMAdAccountsProvider"),{}),b("Laminar").__createReducer(b("LMLocationSetsTabStateAdAccountLoadedReducerPlugin"),b("LMLocationSetsTabStateProvider"),{})]},function(){return[]},"LM_AD_ACCOUNTS_LOADED");e.exports=a}),null);
__d("LMAdAccountsLoadingReducerPlugin",["mapSet"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return a.merge(b("mapSet")(c.userIDs,function(b){return[b,a.get(b).loading()]}))}};e.exports=a}),null);
__d("LMAdAccountsLoadingAction",["Laminar","LMAdAccountsLoadingReducerPlugin","LMAdAccountsProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("LMAdAccountsLoadingReducerPlugin"),b("LMAdAccountsProvider"),{})]},function(){return[]},"LM_AD_ACCOUNTS_LOADING");e.exports=a}),null);
__d("LMAdAccountsProvider",["Laminar","LMAdAccountsProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("LMAdAccountsProviderPlugin"),"LMAdAccountsProviderPlugin")}),null);
__d("LMAdAccountDataLoader",["AdsAPIAdAccountFields","AdsGraphAPI"],(function(a,b,c,d,e,f){"use strict";a={loadAdAccounts:function(a){return b("AdsGraphAPI").get(e.id).me().edge("adaccounts").get({fields:[b("AdsAPIAdAccountFields").ACCOUNT_ID,b("AdsAPIAdAccountFields").NAME,b("AdsAPIAdAccountFields").CAPABILITIES]}).then(function(a){return a.data})}};e.exports=a}),null);
__d("LMAdAccountsProviderPlugin",["LMAdAccountDataLoader","LMAdAccountsLoadedAction","LMAdAccountsLoadingAction","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("LoadObjectMap").create(function(a){b("LMAdAccountsLoadingAction").dispatch({userIDs:a},{line:"26",module:"LMAdAccountsProviderPlugin.js"}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(a,b("LMAdAccountDataLoader").loadAdAccounts),function(a){b("LMAdAccountsLoadedAction").dispatch({adAccounts:a},{line:"30",module:"LMAdAccountsProviderPlugin.js"})})})};e.exports=a}),null);
__d("LMAbstractBatchedDataManager",["regeneratorRuntime","BatchingQueue","FBLogger","abstractMethod","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={timeout:100,maxBatchSize:50,concurrency:1};a=function(){__p&&__p();function a(a){a===void 0&&(a=g),this.$1=new(b("BatchingQueue"))(this.$2.bind(this),a)}var c=a.prototype;c.loadAll=function(a){__p&&__p();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$1.add(d)}};c.__genData=function(a){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:b("abstractMethod")("LMAbstractBatchedDataManager","__genData");case 1:case"end":return a.stop()}},null,this)};c.__processResultOrError=function(a,c){b("abstractMethod")("LMAbstractBatchedDataManager","__processResultOrError")};c.$2=function(a,c){var d=this;b("promiseDone")(this.__genData(a).then(function(b){return d.__processResultOrError(a,b)})["catch"](function(c){d.__processResultOrError(a,c),b("FBLogger")("location_manager").catching(c).mustfix("data_load_unhandled_failure")}),c)};return a}();e.exports=a}),null);
__d("LMActions",["AdsDataAtom"],(function(a,b,c,d,e,f){"use strict";a={dispatchActionFromServerResponse:function(a){b("AdsDataAtom").handleUpdateFromServerResponse(a)},dispatchActionFromView:function(a){b("AdsDataAtom").handleUpdateFromViewAction(a)}};e.exports=a}),null);
__d("LMChildPageFastFields",["ApiPageFields","GraphAPIFieldUtils","gkx"],(function(a,b,c,d,e,f){"use strict";a=[b("ApiPageFields").ID,b("ApiPageFields").NAME,b("ApiPageFields").STORE_NUMBER,b("ApiPageFields").PHONE,b("ApiPageFields").IS_ALWAYS_OPEN,b("ApiPageFields").IS_PERMANENTLY_CLOSED,b("ApiPageFields").HOURS].concat(b("gkx")("972481")?[b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").FULL_HOURS,["permanent_status","regular_hours"])]:[],[b("ApiPageFields").PRICE_RANGE,b("ApiPageFields").USERNAME,b("ApiPageFields").SINGLE_LINE_ADDRESS,b("ApiPageFields").IS_PUBLISHED,b("ApiPageFields").STORE_CODE,b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").LOCATION,["city","city_id","country","country_code","latitude","longitude","region","region_id","street","zip"]),b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").CATEGORY_LIST,["id","name"]),b("ApiPageFields").WEBSITE,b("ApiPageFields").STORE_LOCATION_DESCRIPTOR,b("ApiPageFields").IS_VISIBLE_ONLY_IN_ADS],b("gkx")("677994")?[b("ApiPageFields").SETTINGS]:[],[b("ApiPageFields").IS_ELIGIBLE_FOR_STORE_VISIT_REPORTING,b("ApiPageFields").NAME_WITH_LOCATION_DESCRIPTOR,b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").WIFI_INFORMATION,["mac_address","name"]),b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").USERPERMISSIONS+".limit(1000)",["user"])]).join(",");e.exports=a}),null);
__d("LMEnvironment",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BUSINESS:"business",INTERN:"intern",PAGE_SETTINGS:"settings"})}),null);
__d("LMSidebarItemIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({KEYBOARD_SHORTCUTS:"keyboard_shortcuts",PAGE_NAMING:"page_naming",PARENT_PAGE_SETTINGS:"parent_page_settings"})}),null);
__d("LMTabs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HOME:"home",LOCATIONS:"locations",LOCATION_SETS:"location_sets",SETTINGS:"settings",SHARING:"sharing"})}),null);
__d("LMUtils",["AdsLoadState_LEGACY","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){return b("gkx")("988211")?c:a}function c(a){return["y","yes","no","n"].indexOf(a.toLowerCase().trim())===-1}function d(a){return!a.page_is_not_parent_already.passes}function f(a){return Object.keys(a).every(function(b){return a[b].passes})}function g(a){if(a.hasError())return b("AdsLoadState_LEGACY").ERROR;if(a.isLoading())return b("AdsLoadState_LEGACY").LOADING;return a.hasValue()?b("AdsLoadState_LEGACY").LOADED:b("AdsLoadState_LEGACY").NOT_LOADED}function h(a,c,d){__p&&__p();if(c instanceof Error){var e=c;return b("immutable").Map(a.map(function(a){return[a,e]}))}var f=c;return b("immutable").Map().withMutations(function(b){__p&&__p();for(var c=a,e=Array.isArray(c),g=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;Object.prototype.hasOwnProperty.call(f,h)?b.set(h,f[h]):b.set(h,d(h))}})}function i(a,b,c){for(var d=0;d<b.length;d++)if(b[d]===a)return a;return c}function j(a){var b=a;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];for(var f=0;f<d.length;f++){var g=d[f];b=g(b)}return b}function k(a){var b=a.location;return b==null?!1:Object.keys(b).some(function(a){return b[a]!=null})}e.exports={applySTORenaming:a,castEnum:i,chainReducers:j,getSearchState:g,hasPagePlace:k,isPageAlreadyParentPage:d,isPageEligibleForWhitelist:f,isWifiNameEligible:c,processMultigetResponse:h}}),null);
__d("SetsunaAdsAttrWindowType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NO_ATTR_WINDOW:"",CT_1:"CT_1",VT_1:"VT_1",CT_7:"CT_7",VT_7:"VT_7",CT_28:"CT_28",VT_28:"VT_28",CT_90:"CT_90",VT_90:"VT_90",ATTENTION_1:"ATTENTION_1",ATTENTION_7:"ATTENTION_7",ATTENTION_28:"ATTENTION_28",ATTENTION_90:"ATTENTION_90",DEFAULT:"VT_1+CT_28",INLINE:"INLINE",DEFAULT_TYPE_1:"DEFAULT_TYPE_1"})}),null);
__d("LMConfigStore",["AdsDataAtom","FluxReduceStore","LMEnvironment","LMSidebarItemIDs","LMTabs","LMUtils","SetsunaAdsAttrWindowType","URI","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMUtils").castEnum,h={brandPageID:null,businessID:null,environment:b("LMEnvironment").BUSINESS,insightsAttributionWindow:b("SetsunaAdsAttrWindowType").DEFAULT,insightsEndDate:null,insightsStartDate:null,isStoreCodeVisible:!1,pagesEligibleForLocations:[],pagesWithLocations:[],parentPageID:null,sidebarItemID:null,tab:"home"},i=Object.values(b("LMTabs")),j=Object.values(b("LMSidebarItemIDs")),k=(a={},a[b("LMEnvironment").BUSINESS]="page_id",a[b("LMEnvironment").INTERN]="id",a[b("LMEnvironment").PAGE_SETTINGS]=null,a);function l(a){a=a.environment;return k[a]}function m(a,c){var d=l(a);if(d==null)return a;c=c.getQueryData();d=c[d];var e=g(c.tab,i,b("LMTabs").HOME),f=g(c.sidebar_item_id,j,null),h=c.business_id,k=c.brand_page_id,m=c.insights_end_date,n=c.insights_start_date;c=c.insights_attribution_window;return babelHelpers["extends"]({},a,{insightsAttributionWindow:c,insightsEndDate:m,insightsStartDate:n,sidebarItemID:f,parentPageID:d,businessID:h,brandPageID:k,tab:e})}var n=b("gkx")("779516");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return m(h,b("URI").getMostRecentURI())};d.__getActionTypes=function(){return n?["lm.bootstrap","lm.navigation.selected_page_change","lm.onboarding.redirect_to_location_manager","lm.routing.popstate","lm.routing.update_insights_state","lm.settings.click_side_bar_item","lm.tabs.click_tab"]:null};d.reduce=function(a,b){__p&&__p();b=b.action;switch(b.type){case"lm.bootstrap":return babelHelpers["extends"]({},b.config,{sidebarItemID:a.sidebarItemID,tab:a.tab});case"lm.navigation.selected_page_change":return babelHelpers["extends"]({},a,{parentPageID:b.pageID});case"lm.routing.update_insights_state":return babelHelpers["extends"]({},a,b.state);case"lm.routing.popstate":return m(a,b.uri);case"lm.tabs.click_tab":return babelHelpers["extends"]({},a,{sidebarItemID:null,tab:b.tab});case"lm.settings.click_side_bar_item":return babelHelpers["extends"]({},a,{sidebarItemID:b.sidebarItemID});case"lm.onboarding.redirect_to_location_manager":b=b.page;return babelHelpers["extends"]({},a,{parentPageID:b.id});default:return a}};d.getURI=function(){__p&&__p();var a=b("URI").getMostRecentURI().getUnqualifiedURI(),c=this.getState(),d=l(c);if(d!=null&&c.parentPageID!=null){var e;a.addQueryData((e={},e[d]=c.parentPageID,e))}a.addQueryData({tab:c.tab});c.sidebarItemID!=null?a.addQueryData({sidebar_item_id:c.sidebarItemID}):a.removeQueryData("sidebar_item_id");c.insightsAttributionWindow!=null?a.addQueryData({insights_attribution_window:c.insightsAttributionWindow}):a.removeQueryData("insights_attribution_window");c.brandPageID!=null&&c.businessID!=null?a.addQueryData({business_id:c.businessID,brand_page_id:c.brandPageID}):a.removeQueryData(["business_id","brand_page_id"]);c.insightsStartDate!=null&&c.insightsEndDate!=null?a.addQueryData({insights_start_date:c.insightsStartDate,insights_end_date:c.insightsEndDate}):a.removeQueryData(["insights_start_date","insights_end_date"]);return a};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("AdsDataAtom"))}),null);
__d("HoursPermanentStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN:"open",CLOSED:"closed"})}),null);
__d("BusinessLocation",["City","GeoCoordinates","HoursPermanentStatus","SimpleAddress"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){return a===null||a===void 0?b:a}var h=function(a){return a!=void 0&&a!==""},i=function(){__p&&__p();function a(a){a===void 0&&(a={}),this.street=a.street,this.latitude=a.latitude,this.longitude=a.longitude,this.city_id=a.city_id,this.city=a.city,this.region=a.region,this.country_code=a.country_code,this.zip=a.zip,this.single_line_address=a.single_line_address,this.simpleAddress=new(b("SimpleAddress"))({street:this.street||"",city:this.city_id!=void 0&&this.city_id!=0&&h(this.city)?new(b("City"))(""+this.city_id,this.city||""):void 0,zip:h(this.zip)?this.zip:""}),this.latitude!=void 0&&this.longitude!==void 0&&(this.geoCoordinates=new(b("GeoCoordinates"))(this.latitude,this.longitude))}var c=a.prototype;c.setStreet=function(b){return new a(babelHelpers["extends"]({},this,{street:b}))};c.setCity=function(b){return new a(babelHelpers["extends"]({},this,{city:b?b.name:void 0,city_id:b?+b.key:void 0}))};c.setZip=function(b){return new a(babelHelpers["extends"]({},this,{zip:b}))};c.clearLatLong=function(){return new a(babelHelpers["extends"]({},this,{latitude:void 0,longitude:void 0}))};c.setLatLong=function(b){return new a(babelHelpers["extends"]({},this,{latitude:b.latitude,longitude:b.longitude}))};c.setGeoCodedData=function(b){var c=b.countryKey,d=b.name;return new a(babelHelpers["extends"]({},this,{latitude:b.coordinates.latitude,longitude:b.coordinates.longitude,country_code:h(c)?c||"":void 0,single_line_address:h(d)?d||"":void 0}))};return a}(),j=function(){function a(a){this.street=a.street,this.latitude=a.latitude,this.longitude=a.longitude,this.city_id=a.city_id,this.city=a.city,this.country=a.country,this.region=a.region,this.country_code=a.country_code,this.zip=a.zip,this.single_line_address=a.single_line_address}var b=a.prototype;b.toEditable=function(){return new i({street:this.street,latitude:this.latitude,longitude:this.longitude,city_id:this.city_id,city:this.city,country:this.country,region:this.region,country_code:this.country_code,zip:this.zip,single_line_address:this.single_line_address})};return a}(),k=function(){__p&&__p();function a(a){this.name=a.name,this.store_code=g(a.store_code,"").toString(),this.store_number=g(a.store_number,"").toString(),this.geo_location=a.geo_location instanceof i?a.geo_location:new i(a.geo_location),this.place_topics=g(a.place_topics,[]),this.phone=g(a.phone,""),this.always_open=g(a.always_open,!0),this.full_hours=a.full_hours,this.permanent_status=g(a.permanent_status,b("HoursPermanentStatus").OPEN),this.permanently_closed=g(a.permanently_closed,!1),this.hours=a.hours,this.price_range=a.price_range||"Unspecified",this.page_username=g(a.page_username,""),this.is_published=g(a.is_published,!0),this.website=g(a.website,""),this.store_location_descriptor=g(a.store_location_descriptor,""),this.is_review_eligible=a.is_review_eligible,this.is_eligible_for_store_visit_reporting=g(a.is_eligible_for_store_visit_reporting,!1),this.wifi_information_name=a.wifi_information_name}var c=a.prototype;c.setStoreNumber=function(b){return new a(babelHelpers["extends"]({},this,{store_number:b}))};c.setGeoLocation=function(b){return new a(babelHelpers["extends"]({},this,{geo_location:b}))};c.addPlaceTopic=function(b){return new a(babelHelpers["extends"]({},this,{place_topics:this.place_topics.concat(b)}))};c.removePlaceTopic=function(b){return new a(babelHelpers["extends"]({},this,{place_topics:this.place_topics.filter(function(a){return a.id!==b.id})}))};c.setPhone=function(b){return new a(babelHelpers["extends"]({},this,{phone:b}))};c.setBusinessHours=function(b){return new a(babelHelpers["extends"]({},this,b))};c.setPriceRange=function(b){return new a(babelHelpers["extends"]({},this,{price_range:b}))};c.setUsername=function(b){return new a(babelHelpers["extends"]({},this,{page_username:b}))};c.setStoreLocationDescriptor=function(b){return new a(babelHelpers["extends"]({},this,{store_location_descriptor:b}))};return a}();a=function(){__p&&__p();function a(a){this.name=a.name,this.store_number=a.store_number,this.store_code=a.store_code,this.geo_location=new j(a.geo_location),this.place_topics=a.place_topics,this.phone=a.phone,this.always_open=a.always_open,this.full_hours=a.full_hours,this.permanent_status=a.permanent_status,this.permanently_closed=a.permanently_closed,this.hours=a.hours,this.price_range=a.price_range,this.page_username=a.page_username,this.is_published=a.is_published,this.is_visible_only_in_ads=a.is_visible_only_in_ads,this.website=a.website,this.store_location_descriptor=a.store_location_descriptor,this.is_review_eligible=a.is_review_eligible,this.can_others_add_photos_and_videos=a.can_others_add_photos_and_videos,this.can_others_message=a.can_others_message,this.can_others_post=a.can_others_post,this.is_eligible_for_store_visit_reporting=a.is_eligible_for_store_visit_reporting,this.name_with_location_descriptor=a.name_with_location_descriptor,this.userpermissions=a.userpermissions,this.wifi_information_name=a.wifi_information_name,this.has_edit_permission=a.has_edit_permission}var b=a.prototype;b.toEditable=function(){return new k({name:this.name,store_code:this.store_code,store_number:this.store_number,geo_location:this.geo_location.toEditable(),place_topics:this.place_topics,phone:this.phone,always_open:this.always_open,full_hours:this.full_hours,permanent_status:this.permanent_status,permanently_closed:this.permanently_closed,hours:this.hours,price_range:this.price_range,page_username:this.page_username,is_published:this.is_published,store_location_descriptor:this.store_location_descriptor,is_review_eligible:this.is_review_eligible,is_eligible_for_store_visit_reporting:this.is_eligible_for_store_visit_reporting,userpermissions:this.userpermissions,wifi_information_name:this.wifi_information_name})};b.withID=function(a){return new l(babelHelpers["extends"]({},this,{id:a}))};b.setHasEditPermissions=function(b,c){return new a(babelHelpers["extends"]({},this,{has_edit_permission:b})).withID(c)};return a}();var l=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.id=a.id;return c}var c=a.prototype;c.setHasEditPermissions=function(a){return b.prototype.setHasEditPermissions.call(this,a,this.id)};return a}(a);e.exports={BusinessLocation:l,EditableBusinessLocation:k,EditableGeoLocation:i,GeoLocation:j}}),null);
__d("LMBulkEditableGeoLocation",["AdsEmptyValue","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({street:b("AdsEmptyValue").instance(),latitude:b("AdsEmptyValue").instance(),longitude:b("AdsEmptyValue").instance(),city_id:b("AdsEmptyValue").instance(),city:b("AdsEmptyValue").instance(),country:b("AdsEmptyValue").instance(),state:b("AdsEmptyValue").instance(),country_code:b("AdsEmptyValue").instance(),zip:b("AdsEmptyValue").instance(),single_line_address:b("AdsEmptyValue").instance()});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMBulkEditableBusinessLocation",["AdsEmptyValue","immutable","LMBulkEditableGeoLocation"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({id:b("AdsEmptyValue").instance(),name:b("AdsEmptyValue").instance(),store_code:b("AdsEmptyValue").instance(),store_number:b("AdsEmptyValue").instance(),geo_location:new(b("LMBulkEditableGeoLocation"))(),place_topics:b("AdsEmptyValue").instance(),phone:b("AdsEmptyValue").instance(),always_open:b("AdsEmptyValue").instance(),full_hours:b("AdsEmptyValue").instance(),permanent_status:b("AdsEmptyValue").instance(),permanently_closed:b("AdsEmptyValue").instance(),hours:b("AdsEmptyValue").instance(),price_range:b("AdsEmptyValue").instance(),page_username:b("AdsEmptyValue").instance(),is_published:b("AdsEmptyValue").instance(),is_visible_only_in_ads:b("AdsEmptyValue").instance(),website:b("AdsEmptyValue").instance(),store_location_descriptor:b("AdsEmptyValue").instance(),store_location_descriptor_autogenerated:b("AdsEmptyValue").instance(),is_review_eligible:b("AdsEmptyValue").instance(),is_eligible_for_store_visit_reporting:b("AdsEmptyValue").instance(),name_with_location_descriptor:b("AdsEmptyValue").instance(),userpermissions:b("AdsEmptyValue").instance(),wifi_information_name:b("AdsEmptyValue").instance()});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMBulkEditableBusinessLocationSchema",["AdsEmptySetMixedBulkValueTypes","AdsEmptyUniformMixedBulkValueTypes"],(function(a,b,c,d,e,f){"use strict";a={id:b("AdsEmptyUniformMixedBulkValueTypes"),name:b("AdsEmptyUniformMixedBulkValueTypes"),store_code:b("AdsEmptyUniformMixedBulkValueTypes"),store_number:b("AdsEmptyUniformMixedBulkValueTypes"),geo_location:{street:b("AdsEmptyUniformMixedBulkValueTypes"),latitude:b("AdsEmptyUniformMixedBulkValueTypes"),longitude:b("AdsEmptyUniformMixedBulkValueTypes"),city_id:b("AdsEmptyUniformMixedBulkValueTypes"),city:b("AdsEmptyUniformMixedBulkValueTypes"),country:b("AdsEmptyUniformMixedBulkValueTypes"),state:b("AdsEmptyUniformMixedBulkValueTypes"),country_code:b("AdsEmptyUniformMixedBulkValueTypes"),zip:b("AdsEmptyUniformMixedBulkValueTypes"),single_line_address:b("AdsEmptyUniformMixedBulkValueTypes")},place_topics:b("AdsEmptySetMixedBulkValueTypes"),phone:b("AdsEmptyUniformMixedBulkValueTypes"),always_open:b("AdsEmptyUniformMixedBulkValueTypes"),full_hours:b("AdsEmptyUniformMixedBulkValueTypes"),permanent_status:b("AdsEmptyUniformMixedBulkValueTypes"),permanently_closed:b("AdsEmptyUniformMixedBulkValueTypes"),hours:b("AdsEmptyUniformMixedBulkValueTypes"),price_range:b("AdsEmptyUniformMixedBulkValueTypes"),page_username:b("AdsEmptyUniformMixedBulkValueTypes"),is_published:b("AdsEmptyUniformMixedBulkValueTypes"),is_visible_only_in_ads:b("AdsEmptyUniformMixedBulkValueTypes"),website:b("AdsEmptyUniformMixedBulkValueTypes"),store_location_descriptor:b("AdsEmptyUniformMixedBulkValueTypes"),is_review_eligible:b("AdsEmptyUniformMixedBulkValueTypes"),is_eligible_for_store_visit_reporting:b("AdsEmptyUniformMixedBulkValueTypes"),name_with_location_descriptor:b("AdsEmptyUniformMixedBulkValueTypes"),userpermissions:b("AdsEmptySetMixedBulkValueTypes"),wifi_information_name:b("AdsEmptyUniformMixedBulkValueTypes")};e.exports=a}),null);
__d("LMBulkUtils",["AdsBulkValueUtils","AdsLocationsCountriesRequiringNoPostalCodeConfig","AdsUniformValue","BusinessLocation","City","LMBulkEditableBusinessLocation","LMBulkEditableBusinessLocationSchema","LMBulkEditableGeoLocation","SimpleAddress"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BusinessLocation").BusinessLocation;function a(a){var c=Math.max(a.store_number.getValues().length,a.id.getValues().length);return b("AdsBulkValueUtils").deaggregateDeep(a.toJS(),c).map(function(a){return new g(a)})}function c(a){a=b("AdsBulkValueUtils").aggregateDeep(b("LMBulkEditableBusinessLocationSchema"),a);return new(b("LMBulkEditableBusinessLocation"))(babelHelpers["extends"]({},a,{geo_location:new(b("LMBulkEditableGeoLocation"))(a.geo_location)}))}function d(a){__p&&__p();a=a.geo_location;var c=a.street,d=a.city,e=a.city_id;a=a.zip;if(!(c instanceof b("AdsUniformValue")&&d instanceof b("AdsUniformValue")&&e instanceof b("AdsUniformValue")&&a instanceof b("AdsUniformValue")))return null;c=c.getValue();d=d.getValue();e=e.getValue();a=a.getValue();return new(b("SimpleAddress"))({city:e!=null&&d!=null?new(b("City"))(e+"",d):null,street:c,zip:a!=null&&a!==""?a:""})}function f(a){return b("AdsBulkValueUtils").getUniformValueOrDefault(a.permanently_closed,!0)}function h(a){return b("AdsLocationsCountriesRequiringNoPostalCodeConfig").countriesWithoutPostalCode.includes(a)}function i(a,b){if((b==null||b==="")&&h(a))return!0;return b!=null&&b!==""?!0:!1}e.exports={getBulkEditableBusinessLocation:c,getBusinessLocations:a,getSimpleAddress:d,getHasSomeClosedStores:f,isCountryWithoutZip:h,isZipValid:i}}),null);
__d("LMOwnedPageFields",["ApiPageFields","GraphAPIFieldUtils"],(function(a,b,c,d,e,f){"use strict";a=[b("ApiPageFields").ACCESS_TOKEN,b("ApiPageFields").BUSINESS,b("ApiPageFields").CAN_USE_ANY_NAME_FOR_CHILD_LOCATION,b("ApiPageFields").DESCRIPTION,b("ApiPageFields").GLOBAL_BRAND_ROOT_ID,b("ApiPageFields").ID,b("ApiPageFields").NAME,b("ApiPageFields").SINGLE_LINE_ADDRESS,"picture.type(small)",b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").LOCATION,["city","city_id","country","country_code","latitude","longitude","street","zip"]),b("GraphAPIFieldUtils").getFieldWithSubfields("userpermissions.limit(1000)",["business","role","user"]),b("GraphAPIFieldUtils").getFieldWithParameterizedSubfields("locations",{limit:0,summary:"total_count"}),b("ApiPageFields").PARENT_PAGE].join(",");e.exports=a}),null);
__d("LMOwnedPageDataManager",["fbt","regeneratorRuntime","AdsGraphAPI","LMAbstractBatchedDataManager","LMActions","LMOwnedPageFields","LMUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMActions").dispatchActionFromServerResponse,i=b("LMUtils").processMultigetResponse,j=function(a,b){return i(a,b,function(a){return new Error(g._("Failed to load page {page_id}",[g._param("page_id",a)]))})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__genData=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).objectsByName("page",a).get({fields:b("LMOwnedPageFields")}));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)};d.__processResultOrError=function(a,b){h({type:"lm.owned_page.batch_loaded",owned_pages:j(a,b)})};return c}(b("LMAbstractBatchedDataManager"));e.exports=new a()}),null);
__d("LMOwnedPageStore",["AdsDataAtom","FluxLoadObjectStore","LMOwnedPageDataManager","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.locations.location_updated","lm.onboarding.child_page_creation.error","lm.onboarding.child_page_creation.success","lm.onboarding.main_page_conversion.success","lm.owned_page.batch_loaded","lm.owned_page_list.loaded"]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.owned_page_list.loaded":return this.__handleMap(a,b("immutable").Map(c.owned_pages.map(function(a){return[a.id,a]})));case"lm.owned_page.batch_loaded":return this.__handleMap(a,c.owned_pages);case"lm.locations.location_updated":return a["delete"](c.newLocation.id);case"lm.onboarding.main_page_conversion.success":return a["delete"](c.pageID);case"lm.onboarding.child_page_creation.success":case"lm.onboarding.child_page_creation.error":return a["delete"](c.parentPageID);default:return a}};d.__loadAll=function(a){b("LMOwnedPageDataManager").loadAll(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LocationManagerUtils",["AdsGraphAPI","ApiPageFields","BusinessLocation","FBLogger","LMBulkUtils","LMChildPageFastFields","LMOwnedPageStore","gkx","nullthrows","promiseStoreGet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BusinessLocation").BusinessLocation,h=b("LMBulkUtils").isCountryWithoutZip,i=1,j=["Unspecified","$","$$","$$$","$$$$"],k=new Map();function l(a){var c=k.get(a);c||(c=b("promiseStoreGet")(b("LMOwnedPageStore"),function(){return b("LMOwnedPageStore").get(a)}).then(function(a){return b("nullthrows")(a).access_token}),k.set(a,c));return c}function m(a){__p&&__p();if(a==null)return"Unspecified";for(var c=0;c<j.length;c++){var d=j[c];if(d===a)return d}for(var d=0;d<j.length;d++){c=j[d];if(c.split(" ")[0].length===a.split(" ")[0].length)return c}b("FBLogger")("ads").warn("Un-recognized price range: %s",a);return"Unspecified"}function n(a){var c;return new g({id:a.id,name:a.name,store_code:a.store_code,store_number:a.store_number,phone:a.phone,always_open:a.is_always_open,full_hours:b("gkx")("972481")?(c=a.full_hours)==null?void 0:c.regular_hours:void 0,permanent_status:b("gkx")("972481")?(c=a.full_hours)==null?void 0:c.permanent_status:void 0,permanently_closed:a.is_permanently_closed,hours:a.hours,price_range:m(a.price_range),page_username:a.username,geo_location:babelHelpers["extends"]({},a.location,{single_line_address:a.single_line_address}),is_published:a.is_published,is_visible_only_in_ads:a.is_visible_only_in_ads,place_topics:a.category_list?a.category_list:[],website:a.website,store_location_descriptor:a.store_location_descriptor,is_review_eligible:t("IS_REVIEW_ELIGIBLE",a.settings),can_others_add_photos_and_videos:t("USERS_CAN_POST_PHOTOS",a.settings),can_others_message:t("USERS_CAN_MESSAGE",a.settings),can_others_post:t("USERS_CAN_POST",a.settings),is_eligible_for_store_visit_reporting:a.is_eligible_for_store_visit_reporting,name_with_location_descriptor:a.name_with_location_descriptor,userpermissions:a.userpermissions,wifi_information_name:a.wifi_information!=null?a.wifi_information.name:void 0})}function o(a,c,d){return{id:a,store_code:d.store_code,store_name:d.name,store_location_descriptor:d.store_location_descriptor,store_number:+b("nullthrows")(d.store_number),location_page_id:c!=null?c:void 0,location:{street:d.geo_location.street,latitude:""+d.geo_location.latitude,longitude:""+d.geo_location.longitude,city_id:d.geo_location.city_id,zip:d.geo_location.zip!=null?d.geo_location.zip:" "},place_topics:d.place_topics.map(function(a){return a.id}),phone:d.phone,hours:d.hours,page_username:d.page_username,always_open:d.always_open||!1,full_hours:d.full_hours||void 0,permanent_status:d.permanent_status,permanently_closed:d.permanently_closed||!1,price_range:d.price_range,is_franchise:!1,is_review_eligible:d.is_review_eligible,wifi_information_name:d.wifi_information_name}}function a(a,b){return q(a,b).then(function(b){return r(a,b)})}function p(a){return a.city_id!=null?{city_id:a.city_id,latitude:a.latitude,longitude:a.longitude,state:a.state,street:a.street,zip:a.zip}:{city:a.city,country:a.country,latitude:a.latitude,longitude:a.longitude,state:a.state,street:a.street,zip:a.zip}}function q(a,c){return b("AdsGraphAPI").get(e.id).object("page",a).get({fields:[b("ApiPageFields").CATEGORY_LIST,b("ApiPageFields").HOURS,b("ApiPageFields").IS_PERMANENTLY_CLOSED,b("ApiPageFields").PHONE,b("ApiPageFields").STORE_CODE]}).then(function(b){return{hours:b.hours,id:a,location:p(c),phone:b.phone,permanently_closed:b.is_permanently_closed||!1,place_topics:b.category_list.map(function(a){return a.id}),store_code:b.store_code,store_number:i}})}function r(a,c){return l(a).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").post({access_token:d,hours:c.hours,id:c.id,location:c.location,permanently_closed:c.permanently_closed,phone:c.phone,place_topics:c.place_topics,store_number:c.store_number}).then(function(a){return s(a.id)})})}function c(a){return a.location!=null&&a.location.street!=null&&(a.location.zip!=null||h(a.location.country_code))&&(a.location.city_id!=null||a.location.city!=null&&a.location.country!=null)}function s(a){return b("AdsGraphAPI").get(e.id).object("page",a).get({fields:b("LMChildPageFastFields")}).then(function(a){return n(a)})}function d(a,c,d){return l(a).then(function(f){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").post(babelHelpers["extends"]({access_token:f,ignore_warnings:!0},o(a,c,d))).then(function(a){return s(a.id)})})}function f(a,c){return l(a).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").remove({access_token:d,location_page_id:c.id,store_number:c.store_number})}).then(function(a){if(!a.success)throw new Error("Failed to remove location")})}function t(a,b){b=b!=null?b.data:[];b=b.find(function(b){return b.setting===a});return b!=null?b.value:void 0}e.exports={businessLocationFromApi:n,createChildLocationFromOwnedPage:a,getAccessToken:l,isAddressEligibleForChildPageCreation:c,saveLocation:d,removeLocation:f}}),null);
__d("LMChildPageFastFieldsDataManager",["fbt","regeneratorRuntime","AdsGraphAPI","LMAbstractBatchedDataManager","LMActions","LMChildPageFastFields","LMConfigStore","LMUtils","LocationManagerUtils","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMActions").dispatchActionFromServerResponse,i=b("LMUtils").processMultigetResponse,j=b("LocationManagerUtils").businessLocationFromApi,k=b("LocationManagerUtils").getAccessToken,l=function(a,b){return i(a,b,function(a){return new Error(g._("There was an issue loading information for this location, please try refreshing the page."))}).map(function(a){return a instanceof Error?a:j(a)})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__genData=function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=b("LMConfigStore").getState(),d=c.parentPageID;f.next=3;return b("regeneratorRuntime").awrap(k(b("nullthrows")(d)).then(function(c){return b("AdsGraphAPI").get(e.id).objectsByName("page",a).get({access_token:c,fields:b("LMChildPageFastFields")})}));case 3:return f.abrupt("return",f.sent);case 4:case"end":return f.stop()}},null,this)};d.__processResultOrError=function(a,b){h({type:"lm.child_page.batch_loaded",child_pages:l(a,b)})};return c}(b("LMAbstractBatchedDataManager"));e.exports=new a()}),null);
__d("LMChildPageFastFieldsStore",["AdsDataAtom","FluxLoadObjectStore","LMChildPageFastFieldsDataManager","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.child_page.batch_loaded","lm.locations.location_added","lm.locations.location_updated"]:null};d.reduce=function(a,b){b=b.action;switch(b.type){case"lm.child_page.batch_loaded":return this.__handleMap(a,b.child_pages);case"lm.locations.location_added":return this.__handleOne(a,b.newLocation.id,b.newLocation);case"lm.locations.location_updated":return this.__handleOne(a,b.newLocation.id,b.newLocation);default:return a}};d.__loadAll=function(a){b("LMChildPageFastFieldsDataManager").loadAll(a)};d.getChildPageFastFields=function(a){return this.get(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMLocationSetCreateDialogEditorState",["immutable","LMLocationSetCreateDialogStep"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({currentStep:b("LMLocationSetCreateDialogStep").STEP_1,selectedAdAccountID:void 0,selectedCountryCodeForValidation:void 0,showDialog:!1});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("XLocationManagerFilterLocationsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/location-manager-filter-locations/",{page_id:{type:"FBID",required:!0},query:{type:"String",defaultValue:""},sort_column:{type:"String",required:!0},sort_order:{type:"String",required:!0},offset:{type:"Int",defaultValue:0},limit:{type:"Int",defaultValue:50},city_ids:{type:"StringVector"},region_ids:{type:"StringVector"},country_codes:{type:"StringVector"}})}),null);
__d("LMFilterLocationsDataManager",["LMActions","XLocationManagerFilterLocationsController","immutable","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromServerResponse,h={method:"GET",isReadOnly:!0};a=function(){__p&&__p();function a(){}var c=a.prototype;c.genIsLocationInIndex=function(a,c){a=b("XLocationManagerFilterLocationsController").getURIBuilder().setFBID("page_id",a).setInt("offset",0).setInt("limit",1).setString("query",c).setString("sort_column","store_number").setString("sort_order","descending").getURI();return b("promiseAsyncRequest")(a,h).then(function(a){return a.payload.pageIDs.includes(c)})};c.load=function(c,d){var e=c.selectedEntries.map(function(a){return a.map(function(a){return a.getUniqueID()}).toArray()}),f=e.get("city")||[],i=e.get("region")||[];e=e.get("country")||[];f=b("XLocationManagerFilterLocationsController").getURIBuilder().setFBID("page_id",c.parentPageID).setInt("offset",d).setInt("limit",a.RESULTS_PER_PAGE).setString("query",c.searchText||"").setString("sort_column",c.sortColumn).setString("sort_order",c.sortDirection==="ASC"?"ascending":"descending").setStringVector("city_ids",f).setStringVector("region_ids",i).setStringVector("country_codes",e).getURI();b("promiseDone")(b("promiseAsyncRequest")(f,h),function(a){return g({type:"lm.search_child_pages.loaded",key:c,pageIDs:a.payload.pageIDs,estimatedCount:a.payload.estimatedCount,offset:d})},function(a){return g({type:"lm.search_child_pages.load_error",key:c,error:new Error(a.getErrorDescription())})})};c.genLoadAllIDs=function(a,c){var d=c.selectedEntries.get("country").map(function(a){return a.getUniqueID()}).toArray()||[];a=b("XLocationManagerFilterLocationsController").getURIBuilder().setFBID("page_id",a).setInt("offset",0).setInt("limit",1e5).setString("query",c.searchText||"").setString("sort_column",c.sortColumn).setString("sort_order",c.sortDirection==="ASC"?"ascending":"descending").setStringVector("country_codes",d).getURI();return b("promiseAsyncRequest")(a,h).then(function(a){return b("immutable").List(a.payload.pageIDs)})};return a}();a.RESULTS_PER_PAGE=50;e.exports=new a()}),null);
__d("LMFilterLocationsStoreKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({parentPageID:void 0,searchText:void 0,sortColumn:void 0,sortDirection:void 0,selectedEntries:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMFilterLocationsStoreValue",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({isExhausted:void 0,ids:void 0,estimatedCount:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMImportMenuUIMessages",["fbt","LMUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("LMUtils").applySTORenaming;c=g._("We've checked for errors and there aren't any. You can continue adding your locations.");d=g._("Your file couldn't be upload. Please try uploading it again.");f=g._("This file is not supported. Please select either .csv, .xls or .xlsx.");b=g._("These locations can't be added because there are problems with the information in the CSV. You'll need to fix the errors to continue adding these locations.");var h=g._("We're checking for any issues with the data you've uploaded");a=a(g._("Download our CSV template, enter details for your business locations and upload it. We'll check for any errors."),g._("Enter details of each of your stores in this template. When you upload it, we'll check for any errors and create or update each store's Page with the information you give us."));var i=g._("The locations can't be added because there are problems with the information in the CSV.");g=g._("These locations are ready to be added. You can continue the process with only these locations, or you can fix the errors first.");e.exports={ALL_LOCATIONS_VALID_DESCRIPTION:c,FILE_UPLOAD_FAILURE_DESCRIPTION:d,INVALID_FILE_EXTENSION_DESCRIPTION:f,INVALID_LOCATIONS_DESCRIPTION:b,PROCESSING_FILE_DESCRIPTION:h,START_UPLOAD_DESCRIPTION:a,VALIDATION_FAILURE_DESCRIPTION:i,VALID_LOCATIONS_DESCRIPTION:g}}),null);
__d("XPagesHideLocationUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/upload/hide_update/",{})}),null);
__d("XPagesLocationsSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/upload/submit/",{validation_id:{type:"Int"}})}),null);
__d("XPagesLocationsSubmitController.flow",["XPagesLocationsSubmitController"],(function(a,b,c,d,e,f){e.exports=b("XPagesLocationsSubmitController")}),null);
__d("XPagesLocationsUploadStatusController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/upload/status/",{parent_id:{type:"FBID",required:!0}})}),null);
__d("XPagesLocationsUploadStatusController.flow",["XPagesLocationsUploadStatusController"],(function(a,b,c,d,e,f){e.exports=b("XPagesLocationsUploadStatusController")}),null);
__d("XPagesLocationsUploadViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/upload/view/",{sid:{type:"Int",defaultValue:0}})}),null);
__d("XPagesLocationsUploadViewController.flow",["XPagesLocationsUploadViewController"],(function(a,b,c,d,e,f){e.exports=b("XPagesLocationsUploadViewController")}),null);
__d("LMUploadLocationsUtils",["invariant","Promise","AsyncRequest","LMImportMenuUIMessages","XPagesHideLocationUpdateController","XPagesLocationsSubmitController.flow","XPagesLocationsUploadStatusController.flow","XPagesLocationsUploadViewController.flow","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMImportMenuUIMessages").INVALID_FILE_EXTENSION_DESCRIPTION,i=1e3,j=new Set(["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"]);function k(a,c){__p&&__p();var d=new(b("Promise"))(function(d,e){if(!j.has(a.type))return e(new Error(h));var f=new FormData();f.append("file",a);var g=!1;new(b("AsyncRequest"))().setURI("/ajax/file_handle/upload.php").setMethod("POST").setRawData(f).setHandler(function(a){g||(g=!0,c(100),d(a.payload))}).setErrorHandler(function(a){g||(g=!0,c(100),e(a.toError()))}).setUploadProgressHandler(function(a){a.lengthComputable&&!g&&c(a.loaded/a.total*100)}).send()});return d.then(function(a){typeof a.meta==="string"||g(0,250,JSON.stringify(a));return a})}function l(a,c){var d=b("XPagesLocationsSubmitController.flow").getURIBuilder().getURI();return b("promiseAsyncRequest")(d,{method:"POST",data:{parent_id:a,file_handle:c.meta}})["catch"](function(a){return b("Promise").reject(a.toError())}).then(function(a){switch(a.payload.status){case"COLUMN_ERRORS":return{type:"COLUMN_ERRORS",duplicateColumns:a.payload.duplicate_columns,invalidHeaders:a.payload.invalid_headers,missingColumns:a.payload.missing_columns};case"ERROR":return{type:"ERROR",error:a.payload.error};case"SUCCESS":return{type:"SUCCESS",validationID:a.payload.validation_id}}a=new Error("Unexpected status "+a.payload.status);return b("Promise").reject(a)})}function m(a){__p&&__p();var c=b("XPagesLocationsSubmitController.flow").getURIBuilder().setInt("validation_id",a).getURI();return new(b("Promise"))(function(a,d){__p&&__p();function e(){__p&&__p();new(b("AsyncRequest"))().setURI(c).setHandler(function(b){__p&&__p();switch(b.payload.status){case"IN_PROGRESS":setTimeout(e,i);break;case"ERROR":a({type:"ERROR",error:b.payload.error});break;case"ROW_ERRORS":a({type:"ROW_ERRORS",sid:b.payload.sid,totalRowCount:b.payload.total_row_count,errorRowCount:b.payload.error_row_count,errorDownloadUrl:b.payload.error_rows_log_url});break;case"SUCCESS":a({type:"SUCCESS",sid:b.payload.sid,totalRowCount:b.payload.total_row_count});break;default:d(new Error("Unexpected status "+b.payload.status))}}).setErrorHandler(function(a){return d(a.toError())}).send()}e()})}function a(a,b,c){return k(b,c).then(function(b){return l(a,b)}).then(function(a){return a.type!=="SUCCESS"?a:m(a.validationID)})}function c(a){a=b("XPagesLocationsUploadViewController.flow").getURIBuilder().setInt("sid",a).getURI();return b("promiseAsyncRequest")(a,{method:"POST",data:{submit:!0}}).then(function(){return void 0})["catch"](function(a){return b("Promise").reject(a.toError())})}function d(a){a=b("XPagesLocationsUploadStatusController.flow").getURIBuilder().setFBID("parent_id",a).getURI();return b("promiseAsyncRequest")(a,{isReadOnly:!0,method:"GET"}).then(function(a){return a.payload})}function f(a){var c=b("XPagesHideLocationUpdateController").getURIBuilder().getURI();b("promiseDone")(b("promiseAsyncRequest")(c,{method:"POST",data:{parent_id:a.parent_page_id,update_sid:a.submission_id}}))}e.exports={beginImport:c,uploadExcel:a,getImportStatuses:d,hideImportJobStatus:f,VALID_FILE_EXTENSION:j}}),null);
__d("LMImportStatusDataManager",["LMActions","LMConfigStore","LMUploadLocationsUtils","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=10*1e3;function h(a){return g}function i(a){__p&&__p();var c=Date.now();b("promiseDone")(b("LMUploadLocationsUtils").getImportStatuses(a).then(b("immutable").List)["catch"](function(a){return a.toError()}),function(d){b("LMActions").dispatchActionFromServerResponse({type:"lm.upload_locations.import_status.loaded",parentPageID:a,resultOrError:d});d=Date.now()-c;var e=b("LMConfigStore").getState();if(e.parentPageID!=null&&a===e.parentPageID){e=Math.max(0,h(a)-d);setTimeout(function(){return i(a)},e)}})}e.exports={load:i}}),null);
__d("LMImportStatusStore",["AdsDataAtom","FluxLoadObjectStore","LMImportStatusDataManager","LMUploadLocationsUtils","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.upload_locations.import_status.dismissed","lm.upload_locations.import_status.loaded"]:null};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.upload_locations.import_status.dismissed":var d=c.importStatus;b("LMUploadLocationsUtils").hideImportJobStatus(d);return a.update(d.parent_page_id.toString(),function(a){return a.map(function(a){return a.filter(function(a){return a.submission_id!==d.submission_id})})});case"lm.upload_locations.import_status.loaded":return this.__handleOne(a,c.parentPageID,c.resultOrError);default:return a}};d.__load=function(a){b("LMImportStatusDataManager").load(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("PagesParentChildImportStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PENDING:0,DONE:1e3,SCHEDULED:1,DONE_SHOWN:2,CANCELED:3,RETRY_NEEDED:-1})}),null);
__d("LMImportStatusUtils",["CurrentUser","DateConsts","PagesParentChildImportStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DateConsts").MS_PER_SEC,h=b("DateConsts").MS_PER_WEEK;function i(a){return b("CurrentUser").getID()===String(a.user)&&a.failure+a.success<a.total&&a.progress===b("PagesParentChildImportStatus").SCHEDULED}function j(a){return b("CurrentUser").getID()===String(a.user)&&a.failure>0}function k(a){return b("CurrentUser").getID()===String(a.user)&&a.success===a.total}function a(a){return b("CurrentUser").getID()===String(a.user)&&a.progress!==b("PagesParentChildImportStatus").DONE_SHOWN}function c(a){return a.submit_time*g>Date.now()-h}function d(a){if(a==null)return null;if(i(a))return"progress";if(j(a))return"fail";return k(a)?"success":null}function f(a){return a==null?null:a.submit_time}function l(a){return a.filter(function(a){return i(a)}).map(function(a){return a.submission_id}).toSet()}function m(a,b){if(a==null||b==null)return!1;a=l(a);var c=l(b);return a.some(function(a){return!c.contains(a)})}function n(a){return a==="success"||a==="fail"}e.exports={getStatus:d,getSubmitTime:f,getActiveImportStatusesIDs:l,hasActiveImportFinished:m,isImportFinished:n,isImportStatusActive:i,isImportStatusFailed:j,isImportStatusSuccessful:k,isImportStatusVisible:a,isImportStatusWithinLastWeek:c}}),null);
__d("LMQueryLocationStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({searchText:"",sortColumn:"parent_store_number",sortDirection:"DESC",activeFilters:b("immutable").Set(),selectedEntries:b("immutable").Map([["city",b("immutable").List()],["region",b("immutable").List()],["country",b("immutable").List()]])});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMQueryLocationStore",["AdsDataAtom","FluxReduceStore","LMQueryLocationStoreState","URI","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){var a=b("URI").getRequestURI().getQueryData().initial_query;return new(b("LMQueryLocationStoreState"))({searchText:a?a:""})};d.__getActionTypes=function(){return g?["lm.filters.add_entry","lm.filters.clear_all","lm.filters.remove_entry","lm.filters.toggle","lm.navigation.selected_page_change","lm.onboarding.redirect_to_location_manager","lm.routing.popstate","lm.set_search_column","lm.set_search_text"]:null};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.set_search_text":return a.set("searchText",c.searchText);case"lm.set_search_column":return a.set("sortColumn",c.sortColumn).set("sortDirection",c.sortDirection);case"lm.filters.toggle":var d=c.value,e=c.locationType;return a.update("activeFilters",function(a){return d?a.add(e):a.remove(e)});case"lm.filters.add_entry":var f=c.entry,g=f.getAuxiliaryData(),h=g.location_type;return a.update("selectedEntries",function(a){return a.update(h,function(a){return a.push(f)})});case"lm.filters.remove_entry":var i=c.entry;g=i.getAuxiliaryData();var j=g.location_type,k=a.selectedEntries.get(j).findIndex(function(a){return a.getUniqueID()===i.getUniqueID()});return k>-1?a.update("selectedEntries",function(a){return a.update(j,function(a){return a["delete"](k)})}):a;case"lm.filters.clear_all":c=new(b("LMQueryLocationStoreState"))();return a.set("selectedEntries",c.selectedEntries).set("activeFilters",c.activeFilters);case"lm.navigation.selected_page_change":case"lm.routing.popstate":case"lm.onboarding.redirect_to_location_manager":return this.getInitialState();default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMFilterLocationsStore",["AdsDataAtom","FluxLoadObjectStore","LMFilterLocationsDataManager","LMFilterLocationsStoreKey","LMFilterLocationsStoreValue","LMImportStatusStore","LMImportStatusUtils","LMQueryLocationStore","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getFor=function(a,b){return this.get(i(a,b))};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.search_child_pages.loaded":var d=c.pageIDs.length<b("LMFilterLocationsDataManager").constructor.RESULTS_PER_PAGE;return g(a,c.key,c.pageIDs,c.estimatedCount,c.offset,d);case"lm.search_child_pages.load_more":return h(a,c.parentPageID,c.query,c.offset);case"lm.search_child_pages.load_error":return this.__handleOne(a,c.key,c.error);case"lm.claim_page.done":case"lm.publish.done":b("AdsDataAtom").waitFor([b("LMQueryLocationStore").getDispatchToken()]);d=b("LMQueryLocationStore").getState();d=i(c.parentPageID,d);this.__load(d);var e=this.getState().get(d,b("LoadObject").empty());return this.getState().clear().set(d,e);case"lm.load_first_location_page":d=b("LMQueryLocationStore").getState();e=i(c.parentPageID,d);this.__load(e);d=this.getState().get(e,b("LoadObject").empty());return this.getState().clear().set(e,d);case"lm.upload_locations.import_status.loaded":e=b("LMImportStatusStore").get(c.parentPageID).getValue();b("AdsDataAtom").waitFor([b("LMImportStatusStore").getDispatchToken()]);d=b("LMImportStatusStore").get(c.parentPageID).getValue();if(b("LMImportStatusUtils").hasActiveImportFinished(e,d)){b("AdsDataAtom").waitFor([b("LMQueryLocationStore").getDispatchToken()]);e=b("LMQueryLocationStore").getState();d=i(c.parentPageID,e);this.__load(d);return this.getState().clear()}else return a;case"lm.select_all.done":return g(a,i(c.parentPageID,c.query),c.ids.toArray(),c.ids.size,0,!0);default:return a}};d.__load=function(a){b("LMFilterLocationsDataManager").load(a,0)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;var g=function(a,c,d,e,f,g){return a.update(c,b("LoadObject").empty(),function(a){a=f===0?b("immutable").List():a.map(function(a){return a.ids}).getValue()||b("immutable").List();a=b("immutable").OrderedSet(a).concat(d).toList();return b("LoadObject").withValue(new(b("LMFilterLocationsStoreValue"))({ids:a,isExhausted:g,estimatedCount:e}))})},h=function(a,c,d,e){c=i(c,d);d=a.get(c,b("LoadObject").empty());if(d.isLoading()||d.map(function(a){return a.isExhausted}).getValue())return a;b("LMFilterLocationsDataManager").load(c,e);return a.update(c,b("LoadObject").empty(),function(a){return a.loading()})},i=function(a,c){return new(b("LMFilterLocationsStoreKey"))({parentPageID:a,searchText:c.searchText,sortColumn:c.sortColumn,sortDirection:c.sortDirection,selectedEntries:c.selectedEntries.map(function(a,d){return c.activeFilters.has(d)?a:b("immutable").List()})})};e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMSelectedLocationIDsStore",["AdsDataAtom","FluxReduceStore","LMConfigStore","LMFilterLocationsStore","LMQueryLocationStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("LMFilterLocationsStore"),b("LMConfigStore"),b("LMQueryLocationStore")],h=g.map(function(a){return a.getDispatchToken()}),i=function(){return g.some(function(a){return a.hasChanged()})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").OrderedSet()};d.reduce=function(a,c){__p&&__p();c=c.action;b("AdsDataAtom").waitFor(h);a=i()?j(a):a;switch(c.type){case"lm.locations.selected_location.shift":return a.union(c.locationIDs);case"lm.locations.selected_location":return a.add(c.locationID);case"lm.locations.deselected_location":return a["delete"](c.locationID);case"lm.select_batch_locations":return b("immutable").OrderedSet(c.ids);case"lm.remove_batch_locations":return a.subtract(c.ids);case"lm.select_all.done":return c.editableIds.toOrderedSet();case"lm.select_all.clear":return b("immutable").OrderedSet()}return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;function j(a){var c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return a;var d=b("LMQueryLocationStore").getState();c=b("LMFilterLocationsStore").getFor(c,d).map(function(a){return a.ids}).getValue();return c!=null?a.intersect(c):a}e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMLocationSetCreateDialogSelectors",["AdsEmptyValue","AdsLocationTreeStoreKey","AdsNewLocationTargetingSelectors","AdsStoreUtils","CurrentUser","LMAdAccountsProvider","LMChildPageFastFieldsStore","LMConfigStore","LMLocationSetCreateDialogEditorProvider","LMLocationSetCreateDialogEditorState","LMSelectedLocationIDsStore","LoadObject","adsCreateSelector","adsCreateStoreSelector","adsCreateStoreThunkSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsNewLocationTargetingSelectors").adsPageSetCreationProgressStoreSelector;var g=0;c=b("adsCreateStoreSelector")([b("LMConfigStore")],function(){return b("LMConfigStore").getState().parentPageID},e.id+".LMConfigStoreCurrentParentPageSelector");d=b("AdsStoreUtils").toSelector(b("LMSelectedLocationIDsStore"));f=b("adsCreateStoreThunkSelector")(b("LMChildPageFastFieldsStore"),function(a){return b("LMChildPageFastFieldsStore").getChildPageFastFields(a)});f=b("adsCreateSelector")([f,d],function(a,c){var d=function(b,c){var d=a(c);if(d.hasValue()){d=d.getValueEnforcing();b.push({country:d.geo_location.country,country_code:d.geo_location.country_code,latitude:d.geo_location.latitude,longitude:d.geo_location.longitude,is_published:d.is_published,page_id:c,permanently_closed:d.permanently_closed,single_line_address:d.geo_location.single_line_address})}return b};return b("immutable").List(c.reduce(d,[]))},{name:e.id+".LMSelectedChildPartialsSelector"});d=b("adsCreateSelector")([c],function(a){return a!=null?new(b("AdsLocationTreeStoreKey"))({campaignIDs:b("AdsEmptyValue").instance(),pageID:a}):null},{name:e.id+".LMLocationSetTreeKeySelector"});var h=b("adsCreateSelector")([c,b("LMLocationSetCreateDialogEditorProvider").toFluxSelector()],function(a,c){return a!=null?c.get(a,new(b("LMLocationSetCreateDialogEditorState"))()):new(b("LMLocationSetCreateDialogEditorState"))()},{name:e.id+".LMLocationSetCreateDialogEditorSelector"}),i=b("adsCreateSelector")([b("LMAdAccountsProvider").toFluxSelector(),h],function(a,c){c=c.selectedAdAccountID;if(c!=null)return b("LoadObject").withValue(c);c=b("CurrentUser").getAccountID();if(a.get(c)!=null&&Array.isArray(a.get(c).getValue())){var d=a.get(c).getValue()||[];return d.length>0?b("LoadObject").withValue(d[0].account_id):b("LoadObject").empty()}return a.get(c)!=null&&a.get(c).hasError()?b("LoadObject").withError(a.get(c).getErrorEnforcing()):b("LoadObject").loading()},{name:e.id+".LMLocationSetActiveAdAccountIDSelector"});a=b("adsCreateSelector")([d,a],function(a,b){if(a==null)return{currentProgress:g};b=b(a);if(b.hasError())return{currentProgress:g,error:b.getErrorEnforcing()};return!b.hasValue()?{currentProgress:g}:{currentProgress:b.getValueEnforcing()}},{name:e.id+".LMLocationSetCreationProgressSelector"});e.exports={LMLocationSetActiveAdAccountIDSelector:i,LMConfigStoreCurrentParentPageSelector:c,LMLocationSetCreateDialogEditorSelector:h,LMLocationSetCreationProgressSelector:a,LMLocationSetTreeKeySelector:d,LMSelectedChildPartialsSelector:f}}),null);
__d("LMLocationHealthModalContainerStateSelector",["AdsLocationHealthUnhealthyLocationsDataProvider","LMLocationHealthModalStateDataProvider","LMLocationSetCreateDialogSelectors","LoadObject","UnhealthyLocationsRequestKey","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;c=b("adsCreateSelector")([b("LMLocationHealthModalStateDataProvider").toFluxSelector(),a,b("AdsLocationHealthUnhealthyLocationsDataProvider").toFluxSelector()],function(a,c,d){d=c!=null&&a.healthCheckType!=null?d.get(new(b("UnhealthyLocationsRequestKey"))({pageID:c,healthCheck:a.healthCheckType})):b("LoadObject").empty();return{allUnhealthyLocations:d,modalState:a,parentPageID:c}},{name:e.id+".LMLocationHealthModalContainerStateSelector"});e.exports=c}),null);
__d("LMLocationsHealthCheckPluginResolver",["LMClosedLocationsHealthCheckPlugin","LMDuplicateLocationsHealthCheckPlugin","LMMissingInfoLocationsHealthCheckPlugin","LMMissingOpeningHoursLocationsHealthCheckPlugin","LMMissingPhoneNumberLocationsHealthCheckPlugin","LMMissingWifiLocationsHealthCheckPlugin","LMPinRepositioningLocationsHealthCheckPlugin","LocationsHealthCheck","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").OrderedMap;var g=a([[b("LocationsHealthCheck").DUPLICATE_LOCATION,b("LMDuplicateLocationsHealthCheckPlugin")],[b("LocationsHealthCheck").MISSING_INFO,b("LMMissingInfoLocationsHealthCheckPlugin")],[b("LocationsHealthCheck").MISSING_OPENING_HOURS,b("LMMissingOpeningHoursLocationsHealthCheckPlugin")],[b("LocationsHealthCheck").INNACURATE_PIN,b("LMPinRepositioningLocationsHealthCheckPlugin")],[b("LocationsHealthCheck").MISSING_WIFI,b("LMMissingWifiLocationsHealthCheckPlugin")],[b("LocationsHealthCheck").CLOSED_LOCATION,b("LMClosedLocationsHealthCheckPlugin")],[b("LocationsHealthCheck").MISSING_PHONE_NUMBER,b("LMMissingPhoneNumberLocationsHealthCheckPlugin")]]);c={resolve:function(a){return g.get(a)},getHealthChecksOrder:function(){return g.mapEntries(function(a,b){var c=a[0];a[1];return[c,b]})}};e.exports=c}),null);
__d("RegularHoursType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALWAYS_OPEN:"always open",WEEKLY:"weekly",NO_HOURS_AVAILABLE:"no hours available"})}),null);
__d("BusinessHoursUtils",["fbt","HoursPermanentStatus","RegularHoursType","TimeOfDay","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List,i=b("immutable").Map,j=["mon","tue","wed","thu","fri","sat","sun"],k={mon:g._("Mon"),tue:g._("Tue"),wed:g._("Wed"),thu:g._("Thurs"),fri:g._("Fri"),sat:g._("Sat"),sun:g._("Sun")},l={1:g._("Day"),2:g._("Morning"),3:g._("Afternoon")},m={mon:!1,tue:!1,wed:!1,thu:!1,fri:!1,sat:!1,sun:!1},n={mon:!0,tue:!0,wed:!0,thu:!0,fri:!0,sat:!0,sun:!0},o=[];o={full_hours:{schedule:o,type:b("RegularHoursType").WEEKLY},permanent_status:b("HoursPermanentStatus").OPEN};var p={close:new(b("TimeOfDay"))(17,0,0),open:new(b("TimeOfDay"))(9,0,0)},q={CLOSED_BEFORE_OPEN:g._("The closing time can not be before the opening time."),CLOSED_EQUALS_OPEN:g._("The closing time can not be the same as the opening time."),OVERLAPPING_HOURS:g._("This time interval overlaps with another time interval.")},r="_1_open",s="_1_close",t="_2_open",u="_2_close";function v(a){return a.toISOString().replace(/\:\d\d$/,"")}function a(a,b,c,d){__p&&__p();if(!b||!c)return{hasError:!0,error:"NO_OPEN_OR_CLOSE",message:g._("You must enter a start and end time.")};if(c.isBeforeOrEqual(b))return{hasError:!0,error:"CLOSED_BEFORE_OPEN",message:g._("You cannot have a closing time that is before your opening time.")};if(w(d))return{hasError:!0,error:"NO_DAYS_SELECTED",message:g._("You must select at least one day to add this time slot to.")};b=v(b);c=v(c);a=babelHelpers["extends"]({},a);for(var e=0;e<j.length;e++){var f=j[e];if(d[f])if(!(f+r in a))a[f+r]=b,a[f+s]=c;else if(!(f+t in a))a[f+t]=b,a[f+u]=c;else return{hasError:!0,error:"MORE_THAN_TWO_TIME_SLOTS",message:g._("You can only add two opening hours per day.")}}return x(a)}function c(a){var b=Object.keys(a);for(var c=0;c<b.length;c++){var d=b[c];if(!a[d])return!1}return!0}function w(a){var b=Object.keys(a);for(var c=0;c<b.length;c++){var d=b[c];if(a[d])return!1}return!0}function x(a){__p&&__p();var b={};j.forEach(function(c){var d=c+r,e=c+s,f=c+t;c=c+u;var g=d in a,h=f in a;if(g&&h){var i=[a[d],a[e],a[f],a[c]];i[0]>i[2]&&(i=[i[2],i[3],i[0],i[1]]);i[1]>=i[2]?(b[d]=i[0],b[e]=i[1]>i[3]?i[1]:i[3]):(b[d]=i[0],b[e]=i[1],b[f]=i[2],b[c]=i[3])}else(g||h)&&(b[d]=g?a[d]:a[f],b[e]=g?a[e]:a[c])});return b}function d(a,b){var c=[];j.forEach(function(d){if(b[d]){var e=a.get(d).map(function(a){return{close:a.close.toSecondOfDay(),open:a.open.toSecondOfDay()}});c.push({key:d,value:e.toArray()})}});return c}function f(a){var c=i();(a||[]).forEach(function(a){c=c.set(a.key,h(a.value.map(function(a){return{close:b("TimeOfDay").fromSecondOfDay(a.close),open:b("TimeOfDay").fromSecondOfDay(a.open)}})))});j.forEach(function(a){c.has(a)||(c=c.set(a,h().push(p)))});return c}function y(a){__p&&__p();var b=i();if(a==null)return null;else if(a.length===0)return b;var c;for(c=0;c<a.length;c++){var d=a[c],e=d.key;d=d.value;var f=i();d=d.map(function(a,b){return{index:b,interval:a}}).sort(function(a,b){return a.interval.open-b.interval.open});var g=void 0;for(g=0;g<d.length;g++){var h=d[g],j=h.interval;h=h.index;var k=j.open;j=j.close;k===j?f=f.set(h,q.CLOSED_EQUALS_OPEN):k>j?f=f.set(h,q.CLOSED_BEFORE_OPEN):g>0&&k<d[g-1].interval.close&&(f=f.set(h,q.OVERLAPPING_HOURS))}b=f.isEmpty()?b:b.set(e,f)}return b.isEmpty()?null:b}e.exports={ALL_DAYS:n,DAY_NAMES:k,DAYS:j,DEFAULT_FULL_HOURS:o,EMPTY_DAYS:m,HEADER_LABELS:l,addTimeSlot:a,hasAllDays:c,hoursCacheToHours:d,hoursToHoursCache:f,normalizeHours:x,validateHours:y}}),null);
__d("LMLocationHealthPageLocalState",["BusinessHoursUtils","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("BusinessHoursUtils").DEFAULT_FULL_HOURS;c=b("immutable").Record({closed_state:"open",store_full_hours:a,latitude:null,longitude:null,network_name:"",pin_alarmclock_status:"none",store_hours:{always_open:!1,permanently_closed:!1,hours:{"":""}},wifi_availability:"wifi"});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e.exports=d}),null);
__d("LMLocationHealthPage",["immutable","LMLocationHealthPageLocalState"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({id:void 0,local_state:new(b("LMLocationHealthPageLocalState"))(),location:void 0,name:void 0,parent_page_id:void 0,single_line_address:void 0,status:"none",status_error:void 0,store_number:void 0,suggestions:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMLocationHealthPageLocationDetails",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({city:void 0,city_id:void 0,country:void 0,country_code:void 0,latitude:void 0,longitude:void 0,street:void 0,zip:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMLocationHealthPageSuggestions",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({pinScheduledUpdateTime:null,suggestedLatitude:null,suggestedLongitude:null});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LocationsHealthCheckSourceRefreshRate",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DAYS_1:86400,DAYS_7:604800,IMMEDIATE:-1})}),null);
__d("XLMLocationHealthLocationUpdatedController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/location_health/updated_location/",{})}),null);
__d("XLMLocationHealthUpdateAlarmclockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/location_health/update_alarmclock/",{})}),null);
__d("AdsLocationsHealthChecksDataManager",["Promise","AdsGraphAPI","AdsLocationHealthUpdateStateUnhealthyLocationsDataAction","ApiPageFields","AsyncRequest","GraphAPIFieldUtils","GraphAPIPaging","LMLocationHealthPage","LMLocationHealthPageLocalState","LMLocationHealthPageLocationDetails","LMLocationHealthPageSuggestions","LMLocationsHealthCheckPluginResolver","LMLoggingUtils","LocationAddressDataGraphApiFields","LocationManagerLocationHealthCheckNodeSitevarConfig","LocationManagerUtils","LocationsHealthCheck","LocationsHealthCheckSourceRefreshRate","XLMLocationHealthLocationUpdatedController","XLMLocationHealthUpdateAlarmclockController","cachedGraphAPI","gkx","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LocationManagerUtils").getAccessToken,h=b("immutable").List,i=b("immutable").fromJS;function j(a,c,d,e){b("promiseDone")(a,function(a){b("AdsLocationHealthUpdateStateUnhealthyLocationsDataAction").dispatch({editingLocationsIDs:h([c]),healthCheckType:d,parentPageID:e,status:"success"},{line:"55",module:"AdsLocationsHealthChecksDataManager.js"});a=b("LMLocationsHealthCheckPluginResolver").resolve(d);a.getSourceRefreshRate()!==b("LocationsHealthCheckSourceRefreshRate").IMMEDIATE&&new(b("AsyncRequest"))().setURI(b("XLMLocationHealthLocationUpdatedController").getURIBuilder().getURI()).setMethod("POST").setData({health_check:d,location_page_id:c,parent_page_id:e,ttl:a.getSourceRefreshRate()}).send();b("LMLoggingUtils").logHealthAction("lm.lh.save_success",d,e,c)},function(a){b("AdsLocationHealthUpdateStateUnhealthyLocationsDataAction").dispatch({editingLocationsIDs:h([c]),healthCheckType:d,parentPageID:e,status:"error",statusError:a},{line:"92",module:"AdsLocationsHealthChecksDataManager.js"}),b("LMLoggingUtils").logHealthAction("lm.lh.save_error",d,e,c,a.code,a.message)})}function k(a,c,d){b("AdsLocationHealthUpdateStateUnhealthyLocationsDataAction").dispatch({editingLocationsIDs:a,healthCheckType:b("LocationsHealthCheck").DUPLICATE_LOCATION,parentPageID:c,status:d},{line:"117",module:"AdsLocationsHealthChecksDataManager.js"})}var l={getSummary:function(a){return b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).object("page",a).edge("locations_health_summary")).get().then(function(c){b("LMLoggingUtils").logAPICall("lm.lh.api.summary.success",null,a);return h(c.data)})["catch"](function(c){b("LMLoggingUtils").logAPICall("lm.lh.api.summary.error",null,a,c.code,c.message);throw c})},getPageInformation:function(a){return b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).object("page",a)).get({fields:[b("ApiPageFields").ID,b("ApiPageFields").NAME,b("ApiPageFields").PICTURE]})},detachLocation:function(a){return g(a.get("parent_page_id")).then(function(c){return b("AdsGraphAPI").get(e.id).object("page",a.get("parent_page_id")).edge("locations").remove({access_token:c,location_page_id:a.get("id"),store_number:a.get("store_number").toString()})})},detachLocations:function(a,c,d,e){__p&&__p();a=c.map(function(a){return l.detachLocation(a)});return b("Promise").all(a.toJS()).then(function(a){var b=c.filter(function(b,c){return a[c].success}).map(function(a){return a.get("id").toString()});k(i([e]),d,"confirmed");k(b,d,"deleted")})["catch"](function(a){b("AdsLocationHealthUpdateStateUnhealthyLocationsDataAction").dispatch({editingLocationsIDs:c.map(function(a){return a.get("id")}),healthCheckType:b("LocationsHealthCheck").DUPLICATE_LOCATION,parentPageID:d,status:"error",statusError:a},{line:"216",module:"AdsLocationsHealthChecksDataManager.js"})})},getUnhealthyLocationsForCheck:function(a,c){__p&&__p();if(b("LocationManagerLocationHealthCheckNodeSitevarConfig").USE_LOCATION_HEALTH_CHECK_NODE)return b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).object("page",a).edge("locations_health_check")).get({type:c,limit:50,fields:[b("GraphAPIFieldUtils").getFieldWithParameterizedSubfields("page",{fields:[b("ApiPageFields").ID,b("ApiPageFields").NAME,b("GraphAPIFieldUtils").getFieldWithParameterizedSubfields(b("ApiPageFields").LOCATION,{fields:[b("LocationAddressDataGraphApiFields").CITY,b("LocationAddressDataGraphApiFields").CITY_ID,b("LocationAddressDataGraphApiFields").COUNTRY,b("LocationAddressDataGraphApiFields").COUNTRY_CODE,b("LocationAddressDataGraphApiFields").LATITUDE,b("LocationAddressDataGraphApiFields").LONGITUDE,b("LocationAddressDataGraphApiFields").STREET,b("LocationAddressDataGraphApiFields").ZIP]}),b("ApiPageFields").SINGLE_LINE_ADDRESS,b("ApiPageFields").STORE_NUMBER,b("ApiPageFields").PARENT_PAGE]}),b("GraphAPIFieldUtils").getFieldWithParameterizedSubfields("suggestions",{fields:["pin_scheduled_update_time","suggested_latitude","suggested_longitude"]})]}).then(b("GraphAPIPaging").allPages()).then(function(c){c=c.data.map(function(a){var c=a.suggestions||{},d=c.pin_scheduled_update_time,e=c.suggested_latitude;c=c.suggested_longitude;return new(b("LMLocationHealthPage"))(babelHelpers["extends"]({},a.page,{local_state:new(b("LMLocationHealthPageLocalState"))({pin_alarmclock_status:d!=null?"active":"none"}),location:new(b("LMLocationHealthPageLocationDetails"))(a.page.location),parent_page_id:a.page.parent_page.id,suggestions:e!=null&&c!=null?new(b("LMLocationHealthPageSuggestions"))({pinScheduledUpdateTime:d,suggestedLatitude:e,suggestedLongitude:c}):void 0}))});b("LMLoggingUtils").logAPICall("lm.lh.health_check_details.success",null,a);return h(c)})["catch"](function(d){b("LMLoggingUtils").logAPICall("lm.lh.api.health_check_details.error",c,a,d.code,d.message);throw d});else return b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).object("page",a).edge("locations_health_check")).get({type:c,limit:50,fields:[b("ApiPageFields").ID,b("ApiPageFields").NAME,b("GraphAPIFieldUtils").getFieldWithParameterizedSubfields(b("ApiPageFields").LOCATION,{fields:[b("LocationAddressDataGraphApiFields").CITY,b("LocationAddressDataGraphApiFields").CITY_ID,b("LocationAddressDataGraphApiFields").COUNTRY,b("LocationAddressDataGraphApiFields").COUNTRY_CODE,b("LocationAddressDataGraphApiFields").LATITUDE,b("LocationAddressDataGraphApiFields").LONGITUDE,b("LocationAddressDataGraphApiFields").STREET,b("LocationAddressDataGraphApiFields").ZIP]}),b("ApiPageFields").SINGLE_LINE_ADDRESS,b("ApiPageFields").STORE_NUMBER,b("ApiPageFields").PARENT_PAGE]}).then(b("GraphAPIPaging").allPages()).then(function(c){c=c.data.map(function(a){a.location=new(b("LMLocationHealthPageLocationDetails"))(a.location);a.parent_page_id=a.parent_page.id;delete a.parent_page;return a}).map(function(a){return new(b("LMLocationHealthPage"))(a)});b("LMLoggingUtils").logAPICall("lm.lh.health_check_details.success",null,a);return h(c)})["catch"](function(d){b("LMLoggingUtils").logAPICall("lm.lh.api.health_check_details.error",c,a,d.code,d.message);throw d})},saveWifiNetworkName:function(a,c,d,f,h){j(g(a).then(function(g){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").post({access_token:g,id:a,location_page_id:c,store_number:d,wifi_information_name:f})}),c,b("LocationsHealthCheck").MISSING_WIFI,a)},saveStoreHours:function(a,c,d,f,h){j(g(a).then(function(g){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").post({access_token:g,always_open:f.always_open,full_hours:b("gkx")("972481")?h.full_hours:void 0,hours:b("gkx")("972481")?void 0:f.hours,id:a,location_page_id:c,permanent_status:h.permanent_status,permanently_closed:f.permanently_closed,store_number:d})}),c,b("LocationsHealthCheck").MISSING_OPENING_HOURS,a)},saveGeoCoordinates:function(a,c,d,e,f,g){l.saveLocationPage(a,c,d,{city_id:g,latitude:e,longitude:f},b("LocationsHealthCheck").INNACURATE_PIN)},saveGeoPlace:function(a,c,d,e,f,g,h,i){l.saveLocationPage(a,c,d,{city_id:g,latitude:e,longitude:f,street:h,zip:i!=null?i:void 0},b("LocationsHealthCheck").MISSING_INFO)},savePhoneNumber:function(a,c,d,f){j(g(a).then(function(g){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").post({access_token:g,id:a,location_page_id:c,store_number:f,phone:d})}),c,b("LocationsHealthCheck").MISSING_PHONE_NUMBER,a)},saveLocationPage:function(a,c,d,f,h){j(g(a).then(function(g){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").post({access_token:g,id:a,location_page_id:c,store_number:d,location:f})}),c,h,a)},saveClosedLocation:function(a,c,d,f){j(g(a).then(function(g){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").post({access_token:g,id:a,location_page_id:c,store_number:d,permanently_closed:f==="closed"})}),c,b("LocationsHealthCheck").CLOSED_LOCATION,a)},updateAlarmclock:function(a,c,d){new(b("AsyncRequest"))().setURI(b("XLMLocationHealthUpdateAlarmclockController").getURIBuilder().getURI()).setMethod("POST").setData({health_check:c,location_page_id:a,status:d}).send()}};e.exports=l}),null);
__d("LMLocationHealthGroupedAddress.react",["cx","fbt","FDSText.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_7g0m"},b("React").createElement(b("FDSText.react"),null,this.props.locations.size>1?h._({"*":"{address}{number} Others","_1":"{address}1 Other"},[h._param("address",this.props.locations.first().get("single_line_address")+"... + "),h._plural(this.props.locations.size-1,"number")]):this.props.locations.first().get("single_line_address")))};return c}(b("React").Component);e.exports=a}),null);
__d("LMClosedLocationsHealthCheckContent.react",["cx","fbt","FDSRadioList.react","FDSRadioListItem.react","FDSText.react","LMLocationHealthGroupedAddress.react","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";b("immutable").List;function a(a){var c=a.editingLocations;return c==null||c.size===0?null:b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_7g-p"},b("React").createElement("div",{className:"_7g-q"},b("React").createElement(b("FDSText.react"),{color:"secondary"},h._("Store Address"))),b("React").createElement(b("FDSText.react"),null,b("React").createElement(b("LMLocationHealthGroupedAddress.react"),{locations:c}))),b("React").createElement("div",{className:"_7g-p"},b("React").createElement("div",{className:"_7g-q"},b("React").createElement(b("FDSText.react"),{color:"secondary"},h._("Status"))),b("React").createElement("div",{className:"_7g-r"},b("React").createElement(b("FDSRadioList.react"),{size:"medium",value:a.closedState,onChange:a.onClosedStateChange},b("React").createElement(b("FDSRadioListItem.react"),{label:h._("Open"),value:"open"}),b("React").createElement(b("FDSRadioListItem.react"),{description:h._("(Suggested)"),label:h._("Permanently Closed"),value:"closed"})))))}e.exports=a}),null);
__d("LMLocationHealthSelectors",["BusinessHoursUtils","LMLocationHealthModalStateDataProvider","LMLocationSetCreateDialogSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BusinessHoursUtils").DEFAULT_FULL_HOURS;a=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;c=b("adsCreateSelector")([b("LMLocationHealthModalStateDataProvider").toFluxSelector(),a],function(a,b){a=a.get("currentlyEditing");return{editingLocations:a,parentPageID:b}},{name:e.id+".LMLocationHealthCurrentlyEditingLocationsSelector"});d=b("adsCreateSelector")([c],function(a){return a.editingLocations?a.editingLocations.first():null},{name:e.id+".LMLocationHealthFirstCurrentlyEditingLocationSelector"});f=b("adsCreateSelector")([d,a],function(a,b){var c=a!=null?a.get("location"):null;return{city:c!=null?c.get("city"):null,cityID:c!=null?c.get("city_id"):null,countryCode:c!=null?c.get("country_code"):null,latitude:c!=null?c.get("latitude"):null,locationPage:a,longitude:c!=null?c.get("longitude"):null,parentPageID:b,street:c!=null?c.get("street"):null,zip:c!=null?c.get("zip"):null}},{name:e.id+".LMMissingInfoHealthCheckActionSectionStateSelector"});d=b("adsCreateSelector")([c],function(a){a=a.editingLocations;var b={editingLocations:a,storeFullHours:g,storeHours:{always_open:!1,permanently_closed:!1,hours:{"":""}}};a!=null&&a.count()===1&&a.first()!=null&&(b.storeHours=a.first().get("local_state").get("store_hours"),b.storeFullHours=a.first().get("local_state").get("store_full_hours"));return b},{name:e.id+".LMMissingOpeningHoursHealthCheckActionSectionStateSelector"});a=b("adsCreateSelector")([c],function(a){a=a.editingLocations;var b={editingLocations:a,networkName:"",wifiAvailability:"wifi"};if(a!=null&&a.count()===1&&a.first()!=null){a=a.first().get("local_state");b.networkName=a.get("network_name");b.wifiAvailability=a.get("wifi_availability")}return b},{name:e.id+".LMMissingWifiHealthCheckActionSectionStateSelector"});var h=b("adsCreateSelector")([c],function(a){a=a.editingLocations;var b={editingLocations:a,closedState:"open"};a!=null&&a.count()===1&&a.first()!=null&&(b.closedState=a.first().get("local_state").get("closed_state"));return b},{name:e.id+".LMClosedLocationsHealthCheckActionSectionStateSelector"});b=b("adsCreateSelector")([c],function(a){__p&&__p();a=a.editingLocations;var b={bulkRadioSelection:"update_pins",editingLocations:a,initialLatitude:null,initialLongitude:null,latitude:null,longitude:null,radioSelection:"new_pin"};if(a!=null&&a.count()===1&&a.first()!=null){var c=a.first().get("local_state");b.latitude=c.get("latitude");b.longitude=c.get("longitude");b.initialLatitude=a.first().get("location").get("latitude");b.initialLongitude=a.first().get("location").get("longitude");c=a.first().get("suggestions");b.latitude==null&&b.longitude==null&&c!=null&&(b.latitude=c.get("suggestedLatitude"),b.longitude=c.get("suggestedLongitude"))}return b},{name:e.id+".LMPinRepositioningHealthCheckActionSectionStateSelector"});e.exports={LMClosedLocationsHealthCheckActionSectionStateSelector:h,LMLocationHealthCurrentlyEditingLocationsSelector:c,LMMissingInfoHealthCheckActionSectionStateSelector:f,LMMissingOpeningHoursHealthCheckActionSectionStateSelector:d,LMMissingWifiHealthCheckActionSectionStateSelector:a,LMPinRepositioningHealthCheckActionSectionStateSelector:b}}),null);
__d("LMClosedLocationsHealthCheckActionSectionContainer.react",["AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction","AdsLocationsHealthChecksDataManager","AdsSelectorUtils","FluxContainer","LMClosedLocationsHealthCheckContent.react","LMLocationHealthActionSection.react","LMLocationHealthSelectors","LocationsHealthCheck","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMLocationHealthSelectors").LMClosedLocationsHealthCheckActionSectionStateSelector;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction").dispatch({currentlyEditing:a,parentPageID:c,healthCheck:b("LocationsHealthCheck").CLOSED_LOCATION,closedState:d.state.closedState},{line:"69",module:"LMClosedLocationsHealthCheckActionSectionContainer.react.js"}),a.map(function(a){b("AdsLocationsHealthChecksDataManager").saveClosedLocation(c,a.id,a.store_number,d.state.closedState)})},d.$2=function(a){d.setState({closedState:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([g])};c.calculateState=function(){return g()};var d=c.prototype;d.render=function(){return b("React").createElement(b("LMLocationHealthActionSection.react"),{healthCheckType:b("LocationsHealthCheck").CLOSED_LOCATION,isSaveEnabled:!0,onSave:this.$1},b("React").createElement(b("LMClosedLocationsHealthCheckContent.react"),{closedState:this.state.closedState,editingLocations:this.state.editingLocations,onClosedStateChange:this.$2}))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMDefaultHealthCheckPlugin",["invariant","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("immutable").List;a={getType:function(){return g(!1,"Must be implemented.")},getHeader:function(a){return g(!1,"Must be implemented.")},getModalHeader:function(a,b){return g(!1,"Must be implemented.")},getDescription:function(){return g(!1,"Must be implemented.")},getSourceRefreshRate:function(){return g(!1,"Must be implemented")},getHealthCheckActionSection:function(){return null},renderSummaryRow:function(a){return null},renderSummaryRows:function(a,c){var d=this;return a.map(function(a){return b("React").createElement("div",{key:a.get("id")},d.renderSummaryRow(a))})},getBulkActionText:function(a,b){return null},getBulkEditActionText:function(){return null},shouldShowStoreCount:function(){return!0},getExtraRowData:function(){return null},isMoveToNextSupported:function(){return!0}};e.exports=a}),null);
__d("GeoMarkerIcon",["ImmutableObject"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){return a.call(this,{iconPath:b,anchorU:c,anchorV:d})||this}return b}(b("ImmutableObject"));e.exports=a}),null);
__d("LMLocationHealthStaticMap.react",["cx","GeoCoordinates","GeoMarker","GeoMarkerIcon","React","StaticGeoMapDesktopWeb.react","StaticGeoMapSource"],(function(a,b,c,d,e,f,g){"use strict";var h="/images/maps/pins/pin-small.png";function a(a){return a.latitude==null||a.longitude==null?null:b("React").createElement("div",{className:"_7c5f"},b("React").createElement(b("StaticGeoMapDesktopWeb.react"),{height:a.height,markers:[new(b("GeoMarker"))(new(b("GeoCoordinates"))(a.latitude,a.longitude),new(b("GeoMarkerIcon"))(h,.5,.5))],showReportButton:!1,source:b("StaticGeoMapSource").LOCATION_HEALTH_SUMMARY,width:a.width,zoom:14}))}e.exports=a}),null);
__d("LMLocationHealthUtils",["ix","asset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var b=a.get("single_line_address");a=a.get("location");if(a!=null&&b!=null){a=a.get("country");a!=null&&b.length>0&&!b.endsWith(a)&&(b+=", "+a)}return b}function b(a){switch(a){case"check":return g("479840");case"error":return g("478223");case"suggestion":return g("479798");case"notify":return g("418195");case"warning":default:return g("480789")}}e.exports={getIcon:b,getAddressWithCountry:a}}),null);
__d("LMLocationHealthSummaryRowIcon.react",["cx","fbt","FDSPopover.react","FDSSpinner.react","Image.react","LMLocationHealthUtils","React","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=function(a){c.$1=a},c.$3=function(){return c.$1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.props.locationPageStatus==="loading"?b("React").createElement(b("FDSSpinner.react"),{size:"small"}):b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{className:"_7aeu",ref:this.$2,src:b("LMLocationHealthUtils").getIcon(this.$4())}),this.$5()?b("React").createElement(b("FDSPopover.react"),{hoverContextRef:this.$3},this.$6()||b("React").createElement("div",null)):null)};d.$5=function(){return this.props.locationPageStatus==="error"||this.props.locationPageStatus==="success"};d.$4=function(){switch(this.props.locationPageStatus){case"error":return"error";case"success":return"check";default:return this.props.defaultIconType}};d.$7=function(){switch(this.props.locationPageStatus){case"error":return h._("We couldn't update your location, please try again.");case"success":return h._("Your location was updated successfully.");default:return""}};d.$6=function(){var a;return this.props.locationPageStatus!=="error"?this.$7():b("React").createElement(b("React").Fragment,null,this.$7(),b("React").createElement("div",{className:"_3-8x"},h._("Error: {error message}",[h._param("error message",(a=this.props.statusError)==null?void 0:a.message)])))};return c}(b("React").Component);e.exports=a}),null);
__d("LMLocationHealthBaseLocationsSummaryRow.react",["cx","fbt","FDSLink.react","FDSText.react","LMLocationHealthModalUpdateStateDataAction","LMLocationHealthStaticMap.react","LMLocationHealthSummaryRowIcon.react","LMLocationHealthUtils","LMLoggingUtils","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").List;function j(a){if(a.plugin.getHealthCheckActionSection()==null)return null;if(a.locationPage.get("status")==="loading")return b("React").createElement(b("FDSText.react"),{color:"disabled"},h._("Updating"));if(a.locationPage.get("status")==="success"&&a.callToActionEditText!=null)return b("React").createElement(b("FDSLink.react"),{onClick:a.onClick},a.callToActionEditText);return a.callToActionText!=null?b("React").createElement(b("FDSLink.react"),{onClick:a.onClick},a.callToActionText):null}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("LMLocationHealthModalUpdateStateDataAction").dispatch({updates:{currentlyEditing:i.of(d.props.locationPage),healthCheckType:d.props.plugin.getType(),isOpen:!0}},{line:"138",module:"LMLocationHealthBaseLocationsSummaryRow.react.js"}),b("LMLoggingUtils").logHealthAction("open_action_section",d.props.plugin.getType(),d.props.locationPage.parent_page_id,d.props.locationPage.id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("LMLocationHealthUtils").getAddressWithCountry(this.props.locationPage);return b("React").createElement("div",{className:"_7aet"},b("React").createElement(b("LMLocationHealthSummaryRowIcon.react"),{defaultIconType:this.props.defaultIconType,locationPageStatus:this.props.locationPage.get("status"),statusError:this.props.locationPage.get("status_error")}),this.props.staticMapProps==null?null:b("React").createElement(b("LMLocationHealthStaticMap.react"),{height:this.props.staticMapProps.height,latitude:this.props.staticMapProps.latitude,longitude:this.props.staticMapProps.longitude,width:this.props.staticMapProps.width}),b("React").createElement("div",{className:"_7cdn"},b("React").createElement(b("FDSText.react"),{color:this.props.locationPage.get("status")!=="loading"?"primary":"disabled"},this.props.locationPage.get("store_number"))),b("React").createElement("div",{className:"_7aev"},b("React").createElement(b("FDSText.react"),{color:this.props.locationPage.get("status")!=="loading"&&a!=null?"primary":"disabled"},a!=null?a:h._("Address missing"))),b("React").createElement("div",{className:"_7aew"},b("React").createElement(j,{callToActionEditText:this.props.callToActionEditText,callToActionText:this.props.callToActionText,locationPage:this.props.locationPage,plugin:this.props.plugin,onClick:this.$1})))};return c}(b("React").Component);e.exports=a}),null);
__d("LMLocationHealthSummaryRow.react",["LMLocationHealthBaseLocationsSummaryRow.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("LMLocationHealthBaseLocationsSummaryRow.react"),{callToActionEditText:a.callToActionEditText,callToActionText:a.callToActionText,defaultIconType:a.defaultIconType,locationPage:a.locationPage,plugin:a.plugin,staticMapProps:null})}e.exports=a}),null);
__d("LMClosedLocationsHealthCheckPlugin",["fbt","LMClosedLocationsHealthCheckActionSectionContainer.react","LMDefaultHealthCheckPlugin","LMLocationHealthSummaryRow.react","LocationsHealthCheck","LocationsHealthCheckSourceRefreshRate","React","killswitch"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=babelHelpers["extends"]({},b("LMDefaultHealthCheckPlugin"),{getType:function(){return b("LocationsHealthCheck").CLOSED_LOCATION},getHeader:function(a){return g._({"*":"Confirm if {number} stores are permanently closed","_1":"Confirm if 1 stores are permanently closed"},[g._plural(a,"number")])},getModalHeader:function(a,b){return g._({"*":"Confirm if {number} stores are permanently closed","_1":"Confirm if 1 store is permanently closed"},[g._plural(a,"number")])},getDescription:function(){return g._("Mark these stores as permanently closed so that people only visit stores that are open.")},getSourceRefreshRate:function(){return b("LocationsHealthCheckSourceRefreshRate").DAYS_1},getHealthCheckActionSection:function(){return b("killswitch")("LOCATION_HEALTH_ACTION_CLOSED_LOCATIONS")?null:b("React").createElement(b("LMClosedLocationsHealthCheckActionSectionContainer.react"),null)},renderSummaryRow:function(a){return b("React").createElement(b("LMLocationHealthSummaryRow.react"),{callToActionText:g._("Review"),defaultIconType:"warning",locationPage:a,plugin:h})},getBulkActionText:function(a,b){return g._({"*":"Review {number} Stores","_1":"Review 1 Store"},[g._plural(b,"number")])},getBulkEditActionText:function(){return g._("Edit All")}});e.exports=h}),null);
__d("LMDuplicateLocationsHealthCheckContent.react",["cx","fbt","FDSText.react","Image.react","React","SUIBusinessTheme","SUIRadioList.react","SUIThemeContainer.react","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("immutable").List;var i=b("SUIRadioList.react").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.onSelectedLocationChange(this.props.cluster.first().get("id"))};d.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_3-96"},h._("Choose the Page that you want to keep for this store. All other duplicate Pages will be deleted.")),b("React").createElement(b("SUIThemeContainer.react"),{theme:b("SUIBusinessTheme")},b("React").createElement(b("SUIRadioList.react"),{value:this.props.selectedLocation,onChange:this.props.onSelectedLocationChange},this.props.cluster.map(function(a,c){return b("React").createElement(i,{className:"_7oz-",key:a.get("id"),value:a.get("id")},b("React").createElement("div",{className:"_7ooe"},b("React").createElement(b("Image.react"),{className:"_7oof",src:a.get("profile_picture_uri")}),b("React").createElement("div",{className:"_7oog"},b("React").createElement("div",{className:"_7ooh"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"body2"},a.get("name")),c===0&&b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-99",size:"body3",weight:"bold"},"(",h._("Suggested"),")")),b("React").createElement("div",{className:"_7ooi"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},h._({"*":"{number} likes","_1":"1 like"},[h._plural(a.get("likes_count"),"number")])),b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-8r",size:"body2"},"\u2022"),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},h._({"*":"{number} were here","_1":"1 was here"},[h._plural(a.get("were_here_count"),"number")]))))))}))))};return c}(b("React").Component);e.exports=a}),null);
__d("LMLocationHealthErrorNotice.react",["FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("FDSGuidanceCard.react"),{category:"error"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,a.errorHeader),b("React").createElement(b("FDSGuidanceCardContent.react"),null,g(a)))}function g(a){var c=[];a.errorMessage!=null&&c.push(b("React").createElement(b("FDSGuidanceCardContentText.react"),{key:"message"},a.errorMessage));c.push(b("React").createElement(b("FDSGuidanceCardContentText.react"),{key:"error"},a.error.message));return c}e.exports=a}),null);
__d("LMDuplicateLocationsHealthCheckContentWrapper.react",["fbt","LMDuplicateLocationsHealthCheckContent.react","LMLocationHealthErrorNotice.react","React","loadObjectComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,b){return a.toString()+"$"+b.toString()}a=b("loadObjectComponent")({loading:function(){return null},loaded:function(a,c){__p&&__p();var d=c.editingLocations;if(d==null||d.size===0)return null;d=d.first().get("location");var e=d.get("latitude");d=d.get("longitude");if(e==null||d==null)return null;a=a.get("duplicateLocationClusters").get(h(e,d));if(a.size==0)return null;e=a.sort(function(a,b){return b.get("likes_count")-a.get("likes_count")});return b("React").createElement(b("LMDuplicateLocationsHealthCheckContent.react"),{cluster:e,editingLocations:c.editingLocations,selectedLocation:c.selectedLocation,onSelectedLocationChange:c.onSelectedLocationChange})},error:function(a){return b("React").createElement(b("LMLocationHealthErrorNotice.react"),{error:a,errorHeader:g._("Error")})}});e.exports=a}),null);
__d("LMExtraRowData",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({duplicateLocationClusters:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMLocationHealthDuplicateLocationClustersExtraRowDataSelector",["AdsLocationHealthDuplicateLocationClustersDataProvider","LMExtraRowData","LMLocationSetCreateDialogSelectors","LoadObject","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;c=b("adsCreateSelector")([b("AdsLocationHealthDuplicateLocationClustersDataProvider").toFluxSelector(),a],function(a,c){return c==null?b("LoadObject").empty():a.get(c).map(function(a){return new(b("LMExtraRowData"))({duplicateLocationClusters:a})})},{name:e.id+".LMLocationhealthDuplicateLocationClustersExtraRowDataSelector"});e.exports=c}),null);
__d("LMLocationHealthDuplicateLocationsModalStateSelector",["LMLocationHealthDuplicateLocationClustersExtraRowDataSelector","LMLocationHealthSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("LMLocationHealthSelectors").LMLocationHealthCurrentlyEditingLocationsSelector;a=b("adsCreateSelector")([g,b("LMLocationHealthDuplicateLocationClustersExtraRowDataSelector")],function(){var a=g();return{editingLocations:a.editingLocations,parentPageID:a.parentPageID,cluster:b("LMLocationHealthDuplicateLocationClustersExtraRowDataSelector")(),selectedLocation:null}},{name:e.id+".LMLocationHealthDuplicateLocationsModalStateSelector"});e.exports=a}),null);
__d("LMDuplicateLocationsHealthCheckActionSectionContainer.react",["AdsLocationsHealthChecksDataManager","AdsSelectorUtils","FluxContainer","LMDuplicateLocationsHealthCheckContentWrapper.react","LMLocationHealthActionSection.react","LMLocationHealthDuplicateLocationsModalStateSelector","LocationsHealthCheck","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){if(d.state.selectedLocation==null)return;var e=a.filter(function(a){return a.get("id")!==d.state.selectedLocation});b("AdsLocationsHealthChecksDataManager").detachLocations(a,e,c,d.state.selectedLocation)},d.$2=function(a){d.setState({selectedLocation:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([b("LMLocationHealthDuplicateLocationsModalStateSelector")])};c.calculateState=function(){return b("LMLocationHealthDuplicateLocationsModalStateSelector")()};var d=c.prototype;d.render=function(){return b("React").createElement(b("LMLocationHealthActionSection.react"),{healthCheckType:b("LocationsHealthCheck").DUPLICATE_LOCATION,isSaveEnabled:this.state.selectedLocation!=null,onSave:this.$1},b("React").createElement(b("LMDuplicateLocationsHealthCheckContentWrapper.react"),{editingLocations:this.state.editingLocations,object:this.state.cluster,selectedLocation:this.state.selectedLocation,onSelectedLocationChange:this.$2}))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMLocationHealthDuplicateLocationsSummaryRows.react",["ix","cx","fbt","FDSLink.react","FDSSpinner.react","FDSText.react","FDSTooltip.react","Image.react","Link.react","LMLocationHealthModalUpdateStateDataAction","LMLocationHealthPage","LMLocationHealthPageLocalState","LMLocationHealthPageLocationDetails","React","XVanityURLController","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){__p&&__p();var c=a.cluster.sort(function(a,b){return b.get("likes_count")-a.get("likes_count")});function d(){b("LMLocationHealthModalUpdateStateDataAction").dispatch({updates:{currentlyEditing:a.cluster.map(function(b){return f(b,a.parentPageId)}),healthCheckType:a.plugin.getType(),isOpen:!0}},{line:"59",module:"LMLocationHealthDuplicateLocationsSummaryRows.react.js"})}function e(a,b){__p&&__p();var c=0,d="none";a.forEach(function(a){var e=a.get("id");a=b.find(function(a){return a.get("id").toString()===e.toString()});if(a!=null){a=a.get("status");a==="error"?(d=a,c++):d!=="error"&&a!=="confirmed"&&a!=="none"&&(d=a)}});return{status:d,errorCount:c}}function f(a,c){var d=a.get("coordinates");d=new(b("LMLocationHealthPage"))({id:a.get("id"),local_state:new(b("LMLocationHealthPageLocalState"))(),location:new(b("LMLocationHealthPageLocationDetails"))({city:null,city_id:null,country:null,country_code:null,latitude:d.get("latitude"),longitude:d.get("longitude"),street:null,zip:null}),name:a.get("name"),parent_page_id:c,single_line_address:a.get("address"),store_number:a.get("store_number")});return d}var g=e(c,a.unhealthyLocations);return b("React").createElement(b("React").Fragment,null,b("React").createElement(n,{callToActionText:a.callToActionText,cluster:c,clusterStatus:g,plugin:a.plugin,onClick:d}),c.map(function(c){var d=c.get("id"),e=a.unhealthyLocations.find(function(a){return a.get("id").toString()===d.toString()});return b("React").createElement("div",{key:c.get("id")},b("React").createElement(t,{clusterErrorCount:g.errorCount,page:c,status:e.status}))}))}function k(){return b("React").createElement(b("FDSText.react"),{color:"disabled",size:"meta1"},i._("Updating"))}function l(a){switch(a.status){case"deleted":return null;case"loading":return b("React").createElement(k,null);default:return b("React").createElement(b("FDSLink.react"),{onClick:a.onClick},a.callToActionText)}}function m(a){var c=a.status;a=a.errorCount;switch(c){case"error":return b("React").createElement(b("FDSTooltip.react"),{tooltip:i._({"*":"There was an error deleting these store Pages. Please try again.","_1":"There was an error deleting this store Page. Please try again."},[i._plural(a)]),tooltipWidth:200},b("React").createElement(b("Image.react"),{src:g("505346")}));case"none":return b("React").createElement(b("Image.react"),{src:g("869058")});default:return null}}function n(a){var c=a.clusterStatus,d=a.cluster,e=a.callToActionText,f=a.onClick;a=a.plugin;var g=c.status;c=c.errorCount;return b("React").createElement("div",{className:"_7ib_"},b("React").createElement("div",{className:"_3-9b _3-90 _3-8w"},b("React").createElement(m,{errorCount:c,status:g})),b("React").createElement("div",{className:"_7oha"},b("React").createElement(b("FDSText.react"),{color:g!=="none"?"disabled":"primary"},d.first().get("address"))),e!=null&&a.getHealthCheckActionSection()!=null?b("React").createElement("div",{className:"_7ohb"},b("React").createElement(l,{callToActionText:e,status:g,onClick:f})):null)}function o(a){var c=a.status;a=a.clusterErrorCount;switch(c){case"deleted":return b("React").createElement(b("FDSText.react"),{color:"negative",size:"meta1"},i._("Deleted"));case"loading":return b("React").createElement(b("FDSText.react"),{color:"disabled",size:"meta1"},i._("Updating"));case"confirmed":return a>0?null:b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"meta1"},i._("Confirmed"));default:return null}}function p(a){var c=a.status,d=a.pageID;a=a.address;switch(c){case"loading":return b("React").createElement("div",{className:"_7o_6"},b("React").createElement(b("FDSText.react"),{color:"disabled"},a));case"deleted":return b("React").createElement("div",{className:"_7r7h"},b("React").createElement(b("FDSText.react"),{color:"disabled"},a));default:return b("React").createElement(b("Link.react"),{href:b("XVanityURLController").getURIBuilder().setString("vanity",d.toString()).getURI(),target:"_blank"},a)}}function q(a){var c=a.status;a=a.storeNumber;switch(c){case"loading":return b("React").createElement("span",{className:"_7ic2"},b("React").createElement(b("FDSText.react"),{color:"disabled"},a));case"deleted":return b("React").createElement("span",{className:"_7ic2 _7r8i"},b("React").createElement(b("FDSText.react"),{color:"disabled"},a));default:return b("React").createElement("span",{className:"_7ic2"},b("React").createElement(b("FDSText.react"),{color:"primary"},a))}}function r(a){var c=a.status;a=a.likeCount;switch(c){case"loading":return b("React").createElement("div",{className:"_7icb"},b("React").createElement(b("FDSText.react"),{color:"disabled"},i._({"*":"{number} likes","_1":"1 like"},[i._plural(a,"number")])));case"deleted":return b("React").createElement("div",{className:"_7icb _7r8i"},b("React").createElement(b("FDSText.react"),{color:"disabled"},i._({"*":"{number} likes","_1":"1 like"},[i._plural(a,"number")])));default:return b("React").createElement("div",{className:"_7icb"},b("React").createElement(b("FDSText.react"),{color:"secondary"},i._({"*":"{number} likes","_1":"1 like"},[i._plural(a,"number")])))}}function s(a){var c=a.status;a=a.visitCount;switch(c){case"loading":return b("React").createElement("div",{className:"_7icb"},b("React").createElement(b("FDSText.react"),{color:"disabled"},i._({"*":"{number} were here","_1":"1 was here"},[i._plural(a,"number")])));case"deleted":return b("React").createElement("div",{className:"_7icb _7r8i"},b("React").createElement(b("FDSText.react"),{color:"disabled"},i._({"*":"{number} were here","_1":"1 was here"},[i._plural(a,"number")])));default:return b("React").createElement("div",{className:"_7icb"},b("React").createElement(b("FDSText.react"),{color:"secondary"},i._({"*":"{number} were here","_1":"1 was here"},[i._plural(a,"number")])))}}function t(a){var c=a.clusterErrorCount,d=a.page;a=a.status;return b("React").createElement("div",{className:"_7ic0"},a==="loading"&&b("React").createElement(b("FDSSpinner.react"),{margin:"_3-90",size:"small"}),b("React").createElement(b("Image.react"),{className:"_7ic1",src:d.get("profile_picture_uri")}),b("React").createElement(q,{status:a,storeNumber:d.get("store_number")}),b("React").createElement("div",{className:"_7ic3"},b("React").createElement(p,{address:d.get("address"),pageID:d.get("id"),status:a}),b("React").createElement(o,{clusterErrorCount:c,status:a})),b("React").createElement("div",{className:"_7ya1"},b("React").createElement(r,{likeCount:d.get("likes_count"),status:a}),b("React").createElement(s,{status:a,visitCount:d.get("were_here_count")})))}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return this.props.clusters.map(function(c,d,e){return b("React").createElement("div",{className:"_7icc",key:d},b("React").createElement(j,{callToActionText:a.props.callToActionText,cluster:c,parentPageId:a.props.parentPageId,plugin:a.props.plugin,unhealthyLocations:a.props.unhealthyLocations}))}).toList().flatten()};return c}(b("React").Component);e.exports=a}),null);
__d("LMDuplicateLocationsHealthCheckPlugin",["fbt","LMDefaultHealthCheckPlugin","LMDuplicateLocationsHealthCheckActionSectionContainer.react","LMLocationHealthDuplicateLocationClustersExtraRowDataSelector","LMLocationHealthDuplicateLocationsSummaryRows.react","LocationsHealthCheck","LocationsHealthCheckSourceRefreshRate","React","killswitch"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=babelHelpers["extends"]({},b("LMDefaultHealthCheckPlugin"),{getType:function(){return b("LocationsHealthCheck").DUPLICATE_LOCATION},getHeader:function(a){return g._({"*":"Fix duplicates for {number} stores","_1":"Fix duplicates for 1 store"},[g._plural(a,"number")])},getModalHeader:function(a,b){return g._({"*":"Fix duplicates for {number} stores","_1":"Fix duplicates for 1 store"},[g._plural(a,"number")])},getDescription:function(){return g._("Some of your stores seem to be located at the same address. Your reporting results won't be accurate if you have duplicate stores. Review these store details to make sure that that they're correct.")},getSourceRefreshRate:function(){return b("LocationsHealthCheckSourceRefreshRate").IMMEDIATE},getHealthCheckActionSection:function(){return b("killswitch")("LOCATION_HEALTH_ACTION_DUBLICATES")?null:b("React").createElement(b("LMDuplicateLocationsHealthCheckActionSectionContainer.react"),null)},getBulkActionText:function(a,b){return null},shouldShowStoreCount:function(){return!1},getExtraRowData:function(){return b("LMLocationHealthDuplicateLocationClustersExtraRowDataSelector")},renderSummaryRows:function(a,c){return b("React").createElement(b("LMLocationHealthDuplicateLocationsSummaryRows.react"),{callToActionText:g._("Fix Duplicates"),clusters:c.duplicateLocationClusters,parentPageId:a.first().get("parent_page_id"),plugin:this,unhealthyLocations:a})},isMoveToNextSupported:function(){return!1}});e.exports=a}),null);
__d("AdsGeoPlaceDataLoader",["Promise","AdsGraphAPI","GeoCoordinates","GeoPlace","cachedGraphAPI"],(function(a,b,c,d,e,f){"use strict";var g=b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).root("ads_geo_coding")).cacheFor(60);a={get:function(a){return!a.city||a.street==null||a.street===""?b("Promise").reject(new Error("address has no city or street address")):g.get({address:a.street+", "+a.zip+", "+a.city.name,city_id:parseInt(a.city.key,10),zip:a.zip||" "}).then(function(a){if(!a.data||!a.data[0])throw new Error("no data available");a=a.data[0];return new(b("GeoPlace"))(new(b("GeoCoordinates"))(a.latitude,a.longitude),a.normalized_address,a.country.key)})}};e.exports=a}),null);
__d("LMGeoCodingDataManager",["Promise","AdsGeoPlaceDataLoader","AdsGraphAPI","GeoCoordinates","GeoPlace","LMActions","URI","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){return h(a).then(function(b){if(b)return b;else return i(a)})};a=function(a){return b("promiseDone")(g(a)["catch"](function(a){return a}),function(c){b("LMActions").dispatchActionFromServerResponse({type:"lm.geo_code",address:a,place:c})})};var h=function(a){return b("AdsGeoPlaceDataLoader").get(a)["catch"](function(a){return null})},i=function(a){return b("Promise").resolve(null).then(function(){return a.city?j(a.city):null}).then(function(a){return a!=null&&a!==""?k(a):null})["catch"](function(a){return null})},j=function(a){return b("promiseAsyncRequest")(new(b("URI"))("/ajax/typeahead/global_cities.php").addQueryData({value:a.name,use_fbid:!0}).toString()).then(function(b){b=b.payload.entries.find(function(b){return b.city_id==a.key});return b?""+b.uid:null})},k=function(a){return b("AdsGraphAPI").get(e.id).object("page",a).get({fields:"location{country_code,latitude,longitude},name"}).then(function(a){return!a||!a.location?null:new(b("GeoPlace"))(new(b("GeoCoordinates"))(a.location.latitude,a.location.longitude),a.name,a.location.country_code)})};e.exports={geocodeAddress:a,geocodeAddressWithCityFallback:g}}),null);
__d("AdsPageLatLongEditor.react",["cx","fbt","ix","FBOverlayElement.react","FBTilesMap__DEPRECATED.react","FBTilesMapZoomOverlay__DEPRECATED.react","GeoCoordinates","Image.react","LeafletMarker.react","LeafletUtils","LeafletView","React","TilesMapConfig","XUIButton.react","leaflet","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").Component;var j=200,k=[b("TilesMapConfig").ZOOM_RANGE.MIN,b("TilesMapConfig").ZOOM_RANGE.MAX],l=b("leaflet").divIcon({className:"_5ek8",iconSize:[24,32],iconAnchor:[12,32]}),m={boxZoom:!1,doubleClickZoom:!0,dragging:!0,scrollWheelZoom:!1,touchZoom:!0,zoomControl:!1},n={boxZoom:!1,doubleClickZoom:!1,dragging:!1,scrollWheelZoom:!1,touchZoom:!1,zoomControl:!1},o=b("React").createElement(b("Image.react"),{src:i("22149"),width:"12"}),p=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(27,9),zoom:1});function q(a,c,d){if(!a||!c)return p;a=b("LeafletUtils").circleBounds(b("LeafletUtils").toLatLng(a),j);a=b("LeafletUtils").fitBounds(a,{width:c.x,height:c.y},{zoomRange:k});return d!=null?a.setZoom(d):a}d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$6=function(){var a=d.state.view;a.zoom<k[1]&&d.$2(a.setZoom(a.zoom+1))};d.$7=function(){var a=d.state.view;a.zoom>k[0]&&d.$2(a.setZoom(a.zoom-1))};d.$8=function(){d.setState({view:q(d.props.coordinates,d.state.mapSize,null)})};d.$1=function(a){d.state.mapSize||d.setState({mapSize:a,view:q(d.props.coordinates,a,null)})};d.$2=function(a){d.props.coordinates&&a.center.nearlyEquals(d.props.coordinates)&&(a=new(b("LeafletView"))({center:d.props.coordinates,zoom:a.zoom})),d.setState({view:a})};d.$5=function(a){var c=d.props.onChange;if(c){a=a.target.getLatLng();c(b("LeafletUtils").fromLatLng(a))}};d.state={mapSize:null,view:q(c.coordinates,null,null)};return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=this.props.coordinates;a=a.coordinates;if(a!==b&&(b==null||a==null||!b.nearlyEquals(a))){b=q(a,this.state.mapSize,this.props.shouldResetZoomOnChange?null:this.state.view.zoom);this.setState({view:b})}};d.render=function(){return b("React").createElement(b("FBTilesMap__DEPRECATED.react"),{className:this.props.className,options:this.props.coordinates?m:n,showZoomControls:!1,style:this.props.style,view:this.state.view,onSizeSettled:this.$1,onViewChange:this.$2},this.$3(),this.$4())};d.$3=function(){return!this.props.coordinates?null:b("React").createElement(b("LeafletMarker.react"),{coordinates:this.props.coordinates,eventHandlers:{dragend:this.$5},options:{icon:l,draggable:!this.props.disabled&&!!this.props.onChange}})};d.$4=function(){if(!this.props.coordinates)return null;var a=this.state.view.zoom<k[1]?this.$6:void 0,c=this.state.view.zoom>k[0]?this.$7:void 0;return b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"zoomControls",vertical:"top"},b("React").createElement("div",null,b("React").createElement(b("FBTilesMapZoomOverlay__DEPRECATED.react"),{className:"_3-8j",onZoomIn:a,onZoomOut:c}),b("React").createElement("div",{className:"_qh4"},b("React").createElement(b("XUIButton.react"),{className:"_qh5",image:o,label:h._("Zoom to Fit"),labelIsHidden:!0,type:"button",onClick:this.$8}))))};return c}(c);d.defaultProps={disabled:!1,shouldResetZoomOnChange:!0};d.propTypes={className:a.string,coordinates:a.instanceOf(b("GeoCoordinates")),disabled:a.bool.isRequired,shouldResetZoomOnChange:a.bool.isRequired,style:a.object,onChange:a.func.isRequired};e.exports=d}),null);
__d("LMGeoLocationEditor.react",["ix","cx","fbt","AdsPageLatLongEditor.react","FDSText.react","GeoCoordinates","React","SUIGlyphIcon.react","SUITextInput.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=g("442719"),k=g("412687"),l=g("442714"),m=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={value:String(b.props.value)},b.$1=function(a){var c=parseFloat(a);if(isNaN(c)||String(c)!==a){b.setState({value:a});return}b.props.onChange(c)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState({value:String(a.value)})};d.$2=function(){return this.state.value!==String(this.props.value)?i._("Coordinates must be numeric."):null};d.render=function(){return b("React").createElement("label",{className:"_3uc9"},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-94",size:"meta1",weight:"bold"},this.props.label),b("React").createElement(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:this.$2(),value:this.state.value,onChange:this.$1}))};return a}(b("React").Component);a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isExpanded:!1},d.$1=function(){d.setState(function(a){a=a.isExpanded;return{isExpanded:!a}})},d.$3=function(a){var c=d.props.value;d.props.onChange(new(b("GeoCoordinates"))(a,c.longitude))},d.$4=function(a){var c=d.props.value;d.props.onChange(new(b("GeoCoordinates"))(c.latitude,a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){a.preventDefault()};d.$5=function(){return b("React").createElement(b("AdsPageLatLongEditor.react"),{coordinates:this.props.value,disabled:this.props.disabled,shouldResetZoomOnChange:!1,style:{height:this.props.height},onChange:this.props.onChange})};d.$6=function(){return this.props.isReadOnly?null:b("React").createElement("div",{className:"_3ucb"},b("React").createElement("div",{className:"_3ucc"},b("React").createElement(b("SUIGlyphIcon.react"),{className:"_3ucd",srcDefault:l}),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"inline",size:"meta1"},i._("Drag the pin to update the location"))),b("React").createElement("button",{className:"_3uce",onClick:this.$1,onMouseDown:this.$2},i._("Set Lat\/Long"),b("React").createElement(b("SUIGlyphIcon.react"),{className:"_3ucf",srcDefault:this.state.isExpanded?j:k})))};d.$7=function(){return!this.props.isReadOnly&&!this.state.isExpanded?null:b("React").createElement("div",{className:"_3ucg"},b("React").createElement(m,{disabled:this.props.disabled,label:i._("Latitude"),value:this.props.value.latitude,onChange:this.$3}),b("React").createElement(m,{disabled:this.props.disabled,label:i._("Longitude"),value:this.props.value.longitude,onChange:this.$4}))};d.render=function(){return b("React").createElement(b("React").Fragment,null,this.$5(),this.$6(),this.$7())};return c}(b("React").Component);a.defaultProps={height:300,isReadOnly:!1};e.exports=a}),null);
__d("LMMissingInfoHealthCheckActionSection.react",["cx","fbt","FBCityTypeahead.react","GeoCoordinates","LMBulkUtils","LMGeoLocationEditor.react","React","SUIBusinessThemeContainer.react","SUIFormRow.react","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_7g16"},b("React").createElement(b("SUIBusinessThemeContainer.react"),null,this.$1(),this.$2(),this.$3(),this.$4(),this.$5(),this.$6()))};d.$1=function(){return b("React").createElement(b("SUIFormRow.react"),{label:b("React").createElement("div",{className:"_7g0n"},h._("Store ID"))},b("React").createElement(b("SUITextInput.react"),{disabled:!0,value:this.props.locationPage.get("store_number").toString()}))};d.$2=function(){return b("React").createElement(b("SUIFormRow.react"),{label:b("React").createElement("div",{className:"_7g0n"},h._("Name"))},b("React").createElement(b("SUITextInput.react"),{disabled:!0,value:this.props.locationPage.get("name")}))};d.$3=function(){return b("React").createElement(b("SUIFormRow.react"),{label:b("React").createElement("div",{className:"_7g0n"},h._("Street address"))},b("React").createElement(b("SUITextInput.react"),{errorMessage:this.props.isStreetValid?null:h._("Street address required"),placeholder:h._("Enter street address"),value:this.props.street,onChange:this.props.onStreetChange}))};d.$4=function(){return b("React").createElement(b("SUIFormRow.react"),{label:b("React").createElement("div",{className:"_7g0n"},h._("City\/Town"))},b("React").createElement(b("FBCityTypeahead.react"),{className:"_21op",placeHolder:h._("Enter city\/town name"),value:this.props.city!=null?this.props.city:void 0,xuiError:this.props.isCityValid?null:h._("City\/Town required"),onChange:this.props.onCityChange}))};d.$5=function(){var a=b("LMBulkUtils").isCountryWithoutZip(this.props.countryCode),c=a?h._("Postal code not required"):h._("Enter postal Code");return b("React").createElement(b("SUIFormRow.react"),{label:b("React").createElement("div",{className:"_7g0n"},h._("Postal code"))},b("React").createElement(b("SUITextInput.react"),{disabled:a,errorMessage:this.props.isZipValid?null:h._("Postal code required"),placeholder:c,value:this.props.zip,onChange:this.props.onZipChange}))};d.$6=function(){return b("React").createElement(b("SUIFormRow.react"),{label:b("React").createElement("div",null)},b("React").createElement(b("LMGeoLocationEditor.react"),{disabled:!0,height:275,isReadOnly:!0,value:new(b("GeoCoordinates"))(this.props.latitude==null?0:this.props.latitude,this.props.longitude==null?0:this.props.longitude),onChange:this.$7}))};d.$7=function(){};return c}(b("React").Component);e.exports=a}),null);
__d("LMMissingInfoHealthCheckActionSectionContainer.react",["AdsLocationsHealthChecksDataManager","AdsSelectorUtils","City","FluxContainer","LMBulkUtils","LMGeoCodingDataManager","LMLocationHealthActionSection.react","LMLocationHealthSelectors","LMMissingInfoHealthCheckActionSection.react","LocationsHealthCheck","React","SimpleAddress","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMBulkUtils").isZipValid,h=b("LMLocationHealthSelectors").LMMissingInfoHealthCheckActionSectionStateSelector;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(a){d.setState({city:a!=null?a.name:null,cityID:a!=null?parseInt(a.key,10):null}),d.$7(a,d.state.street,d.state.zip)},d.$5=function(a){d.setState({street:a}),d.$7(d.$3(d.state.city,d.state.cityID),a,d.state.zip)},d.$6=function(a){d.setState({zip:a}),d.$7(d.$3(d.state.city,d.state.cityID),d.state.street,a)},d.$2=function(a,c){var e=d.state.latitude,f=d.state.longitude,h=d.state.countryCode,i=d.state.cityID,j=d.state.street,k=d.state.zip;if(e==null||f==null||i==null||h==null||!g(h,k)||j==null)return;h=a.first();b("AdsLocationsHealthChecksDataManager").saveGeoPlace(c,h.get("id"),h.get("store_number"),e,f,i,j,k)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([h])};c.calculateState=function(){return h()};var d=c.prototype;d.render=function(){var a=this.state.locationPage;return a==null?null:b("React").createElement(b("LMLocationHealthActionSection.react"),{healthCheckType:b("LocationsHealthCheck").MISSING_INFO,isSaveEnabled:this.$1(),onSave:this.$2},b("React").createElement(b("LMMissingInfoHealthCheckActionSection.react"),{city:this.$3(this.state.city,this.state.cityID),countryCode:this.state.countryCode,isCityValid:this.$3(this.state.city,this.state.cityID)!=null,isStreetValid:this.state.street!=null&&this.state.street!="",isZipValid:this.state.countryCode==null||g(this.state.countryCode,this.state.zip),latitude:this.state.latitude,locationPage:a,longitude:this.state.longitude,street:this.state.street,zip:this.state.zip,onCityChange:this.$4,onStreetChange:this.$5,onZipChange:this.$6}))};d.$7=function(a,c,d){var e=this;if(a==null)return;b("promiseDone")(b("LMGeoCodingDataManager").geocodeAddressWithCityFallback(new(b("SimpleAddress"))({city:a,street:c,zip:d!=null?d:""})),function(a){if(a==null)return;e.setState(function(b){return{countryCode:a.countryKey!=null?a.countryKey:b.countryCode,latitude:a.coordinates.latitude,longitude:a.coordinates.longitude}})})};d.$3=function(a,c){return a!=null&&c!=null?new(b("City"))(c.toString(),a):null};d.$1=function(){return this.state.cityID!=null&&this.state.city!=null&&this.state.street!=null&&this.state.countryCode!=null&&g(this.state.countryCode,this.state.zip)};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMLocationHealthMapSummaryRow.react",["LMLocationHealthBaseLocationsSummaryRow.react","React"],(function(a,b,c,d,e,f){"use strict";var g="48px",h="48px";function a(a){return b("React").createElement(b("LMLocationHealthBaseLocationsSummaryRow.react"),{callToActionEditText:a.callToActionEditText,callToActionText:a.callToActionText,defaultIconType:a.defaultIconType,locationPage:a.locationPage,plugin:a.plugin,staticMapProps:{height:h,latitude:a.locationPage.get("location").get("latitude"),longitude:a.locationPage.get("location").get("longitude"),width:g}})}e.exports=a}),null);
__d("LMMissingInfoLocationsHealthCheckPlugin",["fbt","LMDefaultHealthCheckPlugin","LMLocationHealthMapSummaryRow.react","LMMissingInfoHealthCheckActionSectionContainer.react","LocationsHealthCheck","LocationsHealthCheckSourceRefreshRate","React","killswitch"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=babelHelpers["extends"]({},b("LMDefaultHealthCheckPlugin"),{getType:function(){return b("LocationsHealthCheck").MISSING_INFO},getHeader:function(a){return g._({"*":{"*":"Add addresses for {number} stores"},"_1":{"_1":"Add address for 1 store"}},[g._plural(a),g._plural(a,"number")])},getModalHeader:function(a,b){return b?g._({"*":{"*":"Edit addresses for {number} stores"},"_1":{"_1":"Edit address for 1 store"}},[g._plural(a),g._plural(a,"number")]):g._({"*":{"*":"Add addresses for {number} stores"},"_1":{"_1":"Add address for 1 store"}},[g._plural(a),g._plural(a,"number")])},getDescription:function(){return g._("These stores are missing addresses. Add addresses so that people can find your stores.")},getSourceRefreshRate:function(){return b("LocationsHealthCheckSourceRefreshRate").IMMEDIATE},getHealthCheckActionSection:function(){return b("killswitch")("LOCATION_HEALTH_ACTION_MISSING_ADDRESS")?null:b("React").createElement(b("LMMissingInfoHealthCheckActionSectionContainer.react"),null)},renderSummaryRow:function(a){return b("React").createElement(b("LMLocationHealthMapSummaryRow.react"),{callToActionEditText:g._("Edit Address"),callToActionText:g._("Add Address"),defaultIconType:"warning",key:a.get("id"),locationPage:a,plugin:h})},getBulkActionText:function(a,b){return null}});e.exports=h}),null);
__d("BusinessHoursEditorOptionsEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN_FOR_SELECTED:"open_for_selected",ALWAYS_OPEN:"always_open",PERM_CLOSED:"perm_closed",NO_HOURS:"no_hours"})}),null);
__d("BusinessHoursEditor.react",["cx","fbt","BUIForm.react","BUIFormText.react","BUITimeInput.react","BusinessHoursEditorOptionsEnum","BusinessHoursUtils","FDSButton.react","FDSButtonGroup.react","FDSCheckboxInput.maintenance.react","FDSCloseButton.react","FDSModalFooter.react","FDSRadioList.react","FDSRadioListItem.react","FDSSimpleTable.react","FDSSimpleTableColumn.react","FDSTableGenericCell.react","React","SUIBusinessThemeContainer.react","SUINotice.react","SUIPopoverLayer.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("BusinessHoursUtils").ALL_DAYS,j=b("BusinessHoursUtils").DAYS,k=b("BusinessHoursUtils").DAY_NAMES,l=b("BusinessHoursUtils").HEADER_LABELS,m=b("BusinessHoursUtils").EMPTY_DAYS,n=b("BusinessHoursUtils").addTimeSlot,o=b("BusinessHoursUtils").hasAllDays,p=b("BusinessHoursUtils").normalizeHours;a=b("React").Component;c=b("React").PropTypes;var q=b("BusinessHoursEditorOptionsEnum").OPEN_FOR_SELECTED,r=b("BusinessHoursEditorOptionsEnum").ALWAYS_OPEN,s=b("BusinessHoursEditorOptionsEnum").PERM_CLOSED,t=b("BusinessHoursEditorOptionsEnum").NO_HOURS,u=48,v=32,w=400,x=(d={},d[q]=h._("Open for selected hours"),d[r]=h._("Always open"),d[s]=h._("Permanently closed"),d[t]=h._("No hours available"),d);f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(){var a=n(d.props.hours,d.state.open,d.state.close,d.state.selectedDays);a.hasError?d.setState({errorMessage:a.message}):d.setState({errorMessage:null,dialogShown:!1,open:null,close:null,selectedDays:m},function(){d.props.onChange({always_open:!1,permanently_closed:!1,hours:a})})};d.$3=function(){d.setState({dialogShown:!d.state.dialogShown})};d.$4=function(){d.setState({dialogShown:!1})};d.$5=function(a){d.setState({open:a})};d.$6=function(a){d.setState({close:a})};d.$7=function(){return d.refs.addHoursButton};d.$9=function(){d.setState({selectedDays:o(d.state.selectedDays)?m:i})};d.$14=function(a,b){var c=babelHelpers["extends"]({},d.props.hours);delete c[a];delete c[b];d.props.onChange({always_open:!1,permanently_closed:!1,hours:p(c)})};d.$16=function(a){return b("React").createElement(b("FDSTableGenericCell.react"),{align:"left",content:a.day,height:u})};d.$17=function(a){return b("React").createElement(b("FDSTableGenericCell.react"),{align:"left",content:d.$18(a.morning_hours,a.morning_keys),height:u})};d.$19=function(a){return b("React").createElement(b("FDSTableGenericCell.react"),{align:"left",content:d.$18(a.afternoon_hours,a.afternoon_keys),height:u})};d.$20=function(a,c){return b("React").createElement(b("FDSTableGenericCell.react"),{align:"left",content:a[c],hasBorders:!0,height:v})};d.$22=function(a){__p&&__p();d.$1=d.$23()===q?d.props.hours:d.$1,d.setState({dialogShown:!1,hasHours:a===q},function(){switch(a){case q:d.props.onChange({always_open:!1,permanently_closed:!1,hours:d.$1});break;case r:d.props.onChange({always_open:!0,permanently_closed:!1,hours:void 0});break;case s:d.props.onChange({always_open:!1,permanently_closed:!0,hours:void 0});break;case t:d.props.onChange({always_open:!1,permanently_closed:!1,hours:{}});break}})};d.state={errorMessage:null,hasHours:!1,dialogShown:!1,open:null,close:null,selectedDays:m};d.$1={};return d}var d=c.prototype;d.$8=function(a){var b;this.setState({selectedDays:babelHelpers["extends"]({},this.state.selectedDays,(b={},b[a]=!this.state.selectedDays[a],b))})};d.$10=function(a,c){return b("React").createElement(b("FDSButton.react"),{isDepressed:this.state.selectedDays[a],key:a,label:c,minWidth:35,onClick:this.$8.bind(this,a)})};d.$11=function(){var a=this,c=b("React").createElement(b("BUITimeInput.react"),{value:this.state.open,onChange:this.$5}),d=b("React").createElement(b("BUITimeInput.react"),{value:this.state.close,onChange:this.$6});return b("React").createElement("div",null,this.state.errorMessage!=null?b("React").createElement(b("SUINotice.react"),{margin:"_3-95",type:"warning"},this.state.errorMessage):null,b("React").createElement("div",{className:"_3-8x"},h._("From {open} to {close}",[h._param("open",c),h._param("close",d)])),b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FDSButtonGroup.react"),null,j.map(function(b){return a.$10(b,k[b])}))))};d.$12=function(){return b("React").createElement(b("FDSModalFooter.react"),{leftContent:b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:h._("Apply to all days"),value:o(this.state.selectedDays),onChange:this.$9}),primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Add"),use:"primary",onClick:this.$2}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.$4})})};d.$13=function(){return!this.state.dialogShown?null:b("React").createElement(b("SUIPopoverLayer.react"),{content:this.$11(),contentWidthUseSparingly:325,contextRef:this.$7,footer:this.$12(),position:"above"})};d.$15=function(a,b){var c=a+"_1_open",d=a+"_1_close",e=a+"_2_open";a=a+"_2_close";var f=c in this.props.hours,g=e in this.props.hours;return{day:b,is_empty:!(f||g),morning_keys:[c,d],afternoon_keys:[e,a],morning_hours:f?this.props.hours[c]+" - "+this.props.hours[d]:"",afternoon_hours:g?this.props.hours[e]+" - "+this.props.hours[a]:""}};d.$18=function(a,c){return b("React").createElement("div",{className:"_2-h5",width:"100%"},a,a===""?null:b("React").createElement("div",{className:"_2-h9",style:{display:"inline-block"}},b("React").createElement("span",{className:"_7f-v"},b("React").createElement(y,{hours:this.props.hours,timeslot:c,onRemoveTimeSlot:this.$14}))))};d.$21=function(){var a=this;return b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("FDSSimpleTable.react"),{borders:"all",headerProps:{item:l,height:32},items:j.map(function(b){return a.$15(b,k[b])}).filter(function(a){return!a.is_empty}),maxHeight:w,rowHeight:u},b("React").createElement(b("FDSSimpleTableColumn.react"),{cell:this.$16,columnKey:"1",flexibleWidth:{basis:"100px",grow:0},header:this.$20}),b("React").createElement(b("FDSSimpleTableColumn.react"),{cell:this.$17,columnKey:"2",flexibleWidth:{basis:"15%"},header:this.$20}),b("React").createElement(b("FDSSimpleTableColumn.react"),{cell:this.$19,columnKey:"3",flexibleWidth:{basis:"15%"},header:this.$20}))),this.props.disabled?null:b("React").createElement(b("FDSButton.react"),{label:h._("Add Hours"),margin:"_3-8x",ref:"addHoursButton",onClick:this.$3}),this.$13())};d.$23=function(){if(this.props.always_open)return r;else if(this.props.permanently_closed)return s;else if(this.state.hasHours||this.props.hours&&Object.keys(this.props.hours).length)return q;else return t};d.render=function(){var a=this.$23();if(this.props.disabled)return a!==q?b("React").createElement(b("BUIFormText.react"),{density:this.props.density,labelPosition:this.props.labelPosition},x[a]):this.$21();var c=[r,s,q];this.props.isNoHoursSupported&&c.unshift(t);c=c.map(function(a){return b("React").createElement(b("FDSRadioListItem.react"),{"data-testid":a,key:a,label:x[a],value:a})});return b("React").createElement("div",null,b("React").createElement(b("FDSRadioList.react"),{size:"medium",value:a,onChange:this.$22},c),a===q?this.$21():null)};return c}(a);f.defaultProps={disabled:!1,hours:{},isNoHoursSupported:!0};f.propTypes={always_open:c.bool.isRequired,density:b("BUIForm.react").propTypes.density,disabled:c.bool.isRequired,hours:c.object.isRequired,isNoHoursSupported:c.bool.isRequired,labelPosition:b("BUIForm.react").propTypes.labelPosition,permanently_closed:c.bool.isRequired,onChange:c.func.isRequired};var y=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(){b.props.onRemoveTimeSlot(b.props.timeslot[0],b.props.timeslot[1])},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return b("React").createElement(b("FDSCloseButton.react"),{margin:"_3-8s",size:"small",tooltipContent:h._("Remove time slot"),onClick:this.$1})};return a}(b("React").PureComponent);e.exports=f}),null);
__d("BusinessHoursEditorSelectedRow.react",["ix","cx","fbt","BUITimeInput.react","FDSButton.react","Image.react","React","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){if(a){a={close:c.props.hours.close,open:a};c.props.updateHours(c.props.index,a)}},c.$2=function(a){if(a){a={close:a,open:c.props.hours.open};c.props.updateHours(c.props.index,a)}},c.$3=function(){c.props.deleteHoursEntry(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$4=function(){var a=this.props,c=a.index;a=a.lastIndex;return b("React").createElement("div",{className:"_3-9a"},c===a&&b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("483771")}),label:i._("Add"),labelIsHidden:!0,margin:"_3-90",size:"small",onClick:this.props.addHoursEntry}),a!==0&&b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("478237")}),label:i._("Delete"),labelIsHidden:!0,size:"small",onClick:this.$3}))};d.render=function(){return b("React").createElement("div",{className:"_6h7w _1_ja _365e"+(this.props.index!==0?" _3-8y":""),key:this.props.index},b("React").createElement(b("BUITimeInput.react"),{disabled:this.props.disabled,value:this.props.hours.open,onChange:this.$1}),b("React").createElement("div",{className:"_3-8r"},"-"),b("React").createElement(b("BUITimeInput.react"),{disabled:this.props.disabled,value:this.props.hours.close,xuiError:this.props.errorMessage,onChange:this.$2}),this.props.disabled?null:this.$4())};return c}(b("React").Component);e.exports=a}),null);
__d("BusinessHoursEditorRow.react",["cx","BUITimeInput.react","BusinessHoursEditorSelectedRow.react","BusinessHoursUtils","FDSCheckboxInput.react","FDSText.react","React","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BusinessHoursUtils").DAY_NAMES;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.selectDay(c.props.dayKey,a)},c.$2=function(){c.$1(!0)},c.$3=function(a,b){var d=c.props,e=d.dayKey,f=d.hours;d=d.setHours;a=f.get(e).set(a,b);d(f.set(e,a))},c.$4=function(){var a=c.props,b=a.dayKey,d=a.hours;a=a.setHours;var e=d.get(b).last().close;e=e.startOfHour().addHours(1);var f=e.addHours(1);f=d.get(b).push({close:f,open:e});a(d.set(b,f))},c.$5=function(a){var b=c.props,d=b.hours,e=b.dayKey;b=b.setHours;a=d.get(e)["delete"](a);b(d.set(e,a))},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$6=function(){var a=this,c=this.props.dayKey;return b("React").createElement("div",{className:"_8589"},this.props.hours.get(c).map(function(d,e){return b("React").createElement(b("BusinessHoursEditorSelectedRow.react"),{addHoursEntry:a.$4,deleteHoursEntry:a.$5,disabled:a.props.disabled,errorMessage:a.props.errors?a.props.errors.get(e):null,hours:d,index:e,key:e,lastIndex:a.props.hours.get(c).size-1,updateHours:a.$3})}))};d.$7=function(a,c){return b("React").createElement(b("BUITimeInput.react"),{disabled:this.props.disabled,value:a,onChange:c})};d.$8=function(){return b("React").createElement("div",{className:"_6h7w _365e _1_ja"},this.$7(null,this.$2),b("React").createElement("div",{className:"_3-8r"},"-"),this.$7(null,this.$2))};d.render=function(){return b("React").createElement("div",{className:"_3-8y _6h7w _365e"},b("React").createElement("div",{className:"_8588"},b("React").createElement(b("FDSCheckboxInput.react"),{isDisabled:this.props.disabled,label:h[this.props.dayKey],labelIsHidden:!0,value:this.props.selected,onChange:this.$1}),b("React").createElement(b("FDSText.react"),{margin:"_3-8s",weight:this.props.selected?"bold":"normal"},h[this.props.dayKey])),b("React").createElement("div",{className:"_6h7w _365e _1_ja"},this.props.selected?this.$6():this.$8()))};return c}(b("React").Component);e.exports=a}),null);
__d("BusinessHoursEditorNew.react",["cx","fbt","BusinessHoursEditorOptionsEnum","BusinessHoursEditorRow.react","BusinessHoursUtils","FDSRadioList.react","FDSRadioListItem.react","FDSText.react","HoursPermanentStatus","React","RegularHoursType"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("BusinessHoursUtils").DAYS,j=b("BusinessHoursUtils").EMPTY_DAYS,k=(a={},a[b("BusinessHoursEditorOptionsEnum").ALWAYS_OPEN]=h._("Always open"),a[b("BusinessHoursEditorOptionsEnum").NO_HOURS]=h._("No hours available"),a[b("BusinessHoursEditorOptionsEnum").OPEN_FOR_SELECTED]=h._("Open on selected hours"),a[b("BusinessHoursEditorOptionsEnum").PERM_CLOSED]=h._("Permanently closed"),a);c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=d.$1(),d.$5=function(a){d.setState({hoursCache:b("BusinessHoursUtils").hoursToHoursCache(),selectedDays:j,selectedHoursType:a},function(){return d.$4(a)})},d.$6=function(a,c){d.setState(function(b){return{selectedDays:babelHelpers["extends"]({},b.selectedDays,(b={},b[a]=c,b))}},function(){return d.$4(b("BusinessHoursEditorOptionsEnum").OPEN_FOR_SELECTED)})},d.$7=function(a){d.setState({hoursCache:a},function(){return d.$4(b("BusinessHoursEditorOptionsEnum").OPEN_FOR_SELECTED)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){this.props.editingIDs!==a.editingIDs&&this.setState(this.$1())};d.$1=function(){return{hoursCache:b("BusinessHoursUtils").hoursToHoursCache(this.props.hours),selectedDays:this.$2(),selectedHoursType:this.$3()}};d.$4=function(a){__p&&__p();if(a===b("BusinessHoursEditorOptionsEnum").PERM_CLOSED)this.props.onChange({permanent_status:b("HoursPermanentStatus").CLOSED});else{var c=b("RegularHoursType").WEEKLY,d=null;switch(a){case b("BusinessHoursEditorOptionsEnum").ALWAYS_OPEN:c=b("RegularHoursType").ALWAYS_OPEN;break;case b("BusinessHoursEditorOptionsEnum").NO_HOURS:c=b("RegularHoursType").NO_HOURS_AVAILABLE;break;case b("BusinessHoursEditorOptionsEnum").OPEN_FOR_SELECTED:d=b("BusinessHoursUtils").hoursCacheToHours(this.state.hoursCache,this.state.selectedDays);break}this.props.onChange({full_hours:{schedule:d,type:c},permanent_status:b("HoursPermanentStatus").OPEN})}};d.$2=function(){var a=babelHelpers["extends"]({},j);(this.props.hours||[]).forEach(function(b){a[b.key]=!0});return a};d.$3=function(){if(this.props.permanentStatus===b("HoursPermanentStatus").CLOSED)return b("BusinessHoursEditorOptionsEnum").PERM_CLOSED;else switch(this.props.hoursType||""){case b("RegularHoursType").ALWAYS_OPEN:return b("BusinessHoursEditorOptionsEnum").ALWAYS_OPEN;case b("RegularHoursType").WEEKLY:return b("BusinessHoursEditorOptionsEnum").OPEN_FOR_SELECTED;default:return b("BusinessHoursEditorOptionsEnum").NO_HOURS}};d.$8=function(){var a=this;return b("React").createElement("div",{className:"_3-8y"},i.map(function(c){return b("React").createElement(b("BusinessHoursEditorRow.react"),{dayKey:c,disabled:a.props.disabled,errors:a.props.errors?a.props.errors.get(c):null,hours:a.state.hoursCache,key:c,selectDay:a.$6,selected:a.state.selectedDays[c],setHours:a.$7})}))};d.render=function(){var a=this;return this.props.disabled?this.state.selectedHoursType!==b("BusinessHoursEditorOptionsEnum").OPEN_FOR_SELECTED?b("React").createElement(b("FDSText.react"),null,k[this.state.selectedHoursType]):this.$8():b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSRadioList.react"),{size:"medium",value:this.state.selectedHoursType,onChange:this.$5},Object.keys(b("BusinessHoursEditorOptionsEnum")).map(function(c){c=b("BusinessHoursEditorOptionsEnum")[c];return a.props.isNoHoursSupported===!1&&c===b("BusinessHoursEditorOptionsEnum").NO_HOURS?null:b("React").createElement(b("FDSRadioListItem.react"),{"data-testid":c,key:c,label:k[c],value:c})})),this.state.selectedHoursType===b("BusinessHoursEditorOptionsEnum").OPEN_FOR_SELECTED&&this.$8())};return c}(b("React").Component);e.exports=c}),null);
__d("LMMissingOpeningHoursHealthCheckActionSection.react",["fbt","BusinessHoursEditor.react","BusinessHoursEditorNew.react","LMLocationHealthGroupedAddress.react","React","SUIBusinessTheme","SUIFormRow.react","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.storeHours,c=a.always_open,d=a.permanently_closed;a=a.hours;var e=this.props.storeFullHours,f=e.full_hours;e=e.permanent_status;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIFormRow.react"),{label:g._("Store Address"),labelAlign:"top",theme:b("SUIBusinessTheme")},b("React").createElement(b("LMLocationHealthGroupedAddress.react"),{locations:this.props.currentlyEditing})),b("React").createElement(b("SUIFormRow.react"),{label:g._("Business Hours"),labelAlign:"top",theme:b("SUIBusinessTheme")},b("gkx")("972481")?b("React").createElement(b("BusinessHoursEditorNew.react"),{disabled:!1,editingIDs:this.props.currentlyEditing.map(function(a){return a.get("id")}).join(","),errors:this.props.errors,hours:f==null?void 0:f.schedule,hoursType:f==null?void 0:f.type,isNoHoursSupported:!1,permanentStatus:e,onChange:this.props.onFullBusinessHoursChange}):b("React").createElement(b("BusinessHoursEditor.react"),{always_open:c||!1,disabled:!1,hours:a,isNoHoursSupported:!1,permanently_closed:d||!1,onChange:this.props.onBusinessHoursChange})))};return c}(b("React").Component);e.exports=a}),null);
__d("LMMissingOpeningHoursHealthCheckActionSectionContainer.react",["AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction","AdsLocationsHealthChecksDataManager","AdsSelectorUtils","BusinessHoursUtils","FluxContainer","LMLocationHealthActionSection.react","LMLocationHealthSelectors","LMMissingOpeningHoursHealthCheckActionSection.react","LocationsHealthCheck","React","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMLocationHealthSelectors").LMMissingOpeningHoursHealthCheckActionSectionStateSelector;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.setState({storeHours:a})},d.$2=function(a){d.setState({storeFullHours:a})},d.$3=function(a,c){b("AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction").dispatch({currentlyEditing:a,healthCheck:b("LocationsHealthCheck").MISSING_OPENING_HOURS,parentPageID:c,storeFullHours:d.state.storeFullHours,storeHours:d.state.storeHours},{line:"67",module:"LMMissingOpeningHoursHealthCheckActionSectionContainer.react.js"}),a.map(function(a){b("AdsLocationsHealthChecksDataManager").saveStoreHours(c,a.get("id"),a.get("store_number"),d.state.storeHours,d.state.storeFullHours)})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([g])};c.calculateState=function(){return g()};var d=c.prototype;d.render=function(){var a,c=this.state.editingLocations;if(!c||c.isEmpty())return null;a=b("BusinessHoursUtils").validateHours((a=this.state.storeFullHours.full_hours)==null?void 0:a.schedule);return b("React").createElement(b("LMLocationHealthActionSection.react"),{healthCheckType:b("LocationsHealthCheck").MISSING_OPENING_HOURS,isSaveEnabled:!b("gkx")("972481")||a!==null,onSave:this.$3},b("React").createElement(b("LMMissingOpeningHoursHealthCheckActionSection.react"),{currentlyEditing:c,errors:a,storeFullHours:this.state.storeFullHours,storeHours:this.state.storeHours,onBusinessHoursChange:this.$1,onFullBusinessHoursChange:this.$2}))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMMissingOpeningHoursLocationsHealthCheckPlugin",["fbt","LMDefaultHealthCheckPlugin","LMLocationHealthSummaryRow.react","LMMissingOpeningHoursHealthCheckActionSectionContainer.react","LocationsHealthCheck","LocationsHealthCheckSourceRefreshRate","React","killswitch"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=babelHelpers["extends"]({},b("LMDefaultHealthCheckPlugin"),{getType:function(){return b("LocationsHealthCheck").MISSING_OPENING_HOURS},getHeader:function(a){return g._({"*":"Add opening hours for {number} stores","_1":"Add opening hours for 1 store"},[g._plural(a,"number")])},getModalHeader:function(a,b){return b?g._({"*":"Edit opening hours for {number} stores","_1":"Edit opening hours for 1 store"},[g._plural(a,"number")]):g._({"*":"Add opening hours for {number} stores","_1":"Add opening hours for 1 store"},[g._plural(a,"number")])},getDescription:function(){return g._("These stores are missing business hours. Add opening hours so that people know when to visit.")},getSourceRefreshRate:function(){return b("LocationsHealthCheckSourceRefreshRate").IMMEDIATE},getHealthCheckActionSection:function(){return b("killswitch")("LOCATION_HEALTH_ACTION_MISSING_OPENING_HOURS")?null:b("React").createElement(b("LMMissingOpeningHoursHealthCheckActionSectionContainer.react"),null)},renderSummaryRow:function(a){return b("React").createElement(b("LMLocationHealthSummaryRow.react"),{callToActionEditText:g._("Edit Hours"),callToActionText:g._("Add Hours"),defaultIconType:"warning",locationPage:a,plugin:h})},getBulkActionText:function(a,b){return g._({"*":"Add Hours for {number} Stores","_1":"Add Hours for 1 Store"},[g._plural(b,"number")])},getBulkEditActionText:function(){return g._("Edit All")}});e.exports=h}),null);
__d("LMMissingPhoneNumberHealthCheckActionSection.react",["cx","fbt","LMLocationHealthGroupedAddress.react","React","SUIBusinessTheme","SUIFormRow.react","SUITextInput.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("immutable").List;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_7g16"},b("React").createElement(b("SUIFormRow.react"),{label:b("React").createElement("div",{className:"_7g0n"},h._("Store Address")),theme:b("SUIBusinessTheme")},b("React").createElement(b("LMLocationHealthGroupedAddress.react"),{locations:this.props.currentlyEditing})),b("React").createElement(b("SUIFormRow.react"),{label:b("React").createElement("div",{className:"_7g0n"},h._("Phone Number")),theme:b("SUIBusinessTheme")},b("React").createElement(b("SUITextInput.react"),{errorMessage:this.props.errorMessage,placeholder:h._("Enter your store's phone number"),value:this.props.phoneNumber,onChange:this.props.onPhoneNumberChange}),b("React").createElement("div",{className:"_7g0o"},h._("Phone number should include a country code e.g. +18007827282"))))};return c}(b("React").Component);e.exports=a}),null);
__d("LMPhoneNumberErrors",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("You can only use phone numbers in the same country as your store location.");b=g._("Premium phone numbers are not allowed.");c=g._("Sorry, something went wrong while validating the phone number, please try again later.");e.exports={INTERNATIONAL_NUMBER_ERROR:a,PREMIUM_NUMBER_ERROR:b,TECHNICAL_ERROR:c}}),null);
__d("LMPhoneNumberKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({phoneNumber:void 0,regionHint:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMPhoneNumberDataManager",["LMActions","PhoneNumber","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("promiseDone")(b("PhoneNumber").parseNumber(a,c)["catch"](function(a){return a}),function(d){b("LMActions").dispatchActionFromServerResponse({type:"lm.parse_phone_number",phoneNumber:a,regionHint:c,resultOrError:d})})}e.exports={parsePhoneNumber:a}}),null);
__d("LMPhoneNumberStore",["AdsDataAtom","FluxLoadObjectStore","LMPhoneNumberDataManager","LMPhoneNumberKey","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.parse_phone_number"]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.parse_phone_number":var d=new(b("LMPhoneNumberKey"))({phoneNumber:c.phoneNumber,regionHint:c.regionHint});return this.__handleOne(a,d,c.resultOrError);default:return a}};d.__load=function(a){b("LMPhoneNumberDataManager").parsePhoneNumber(a.phoneNumber,a.regionHint)};d.getPhoneNumber=function(c,d){c=new(b("LMPhoneNumberKey"))({phoneNumber:c,regionHint:d});return a.prototype.get.call(this,c)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPhoneNumberUtils",["LMPhoneNumberErrors","LMPhoneNumberKey","LMPhoneNumberStore","LoadObject","PhoneNumber","PhoneNumberCategory","PhoneNumberError","debounce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return b("PhoneNumber").getRawNumberFromTelURI(a.getURI())||a.getDisplayNumber()}function c(a,c){var d=a.getError();if(d!=null){d=d instanceof b("PhoneNumberError")?String(d.defaultXUIError):b("LMPhoneNumberErrors").TECHNICAL_ERROR;return b("LoadObject").withValue(d)}return a.map(function(a){if(a.getCategory()===b("PhoneNumberCategory").PREMIUM_RATE)return b("LMPhoneNumberErrors").PREMIUM_NUMBER_ERROR;return c!=null&&c!==""&&!a.getRegionCodes().includes(c)?b("LMPhoneNumberErrors").INTERNATIONAL_NUMBER_ERROR:null})}var g=b("debounce")(function(a){return void b("LMPhoneNumberStore").get(a)},200);function d(a,c){a=new(b("LMPhoneNumberKey"))({phoneNumber:a,regionHint:c});g(a);return b("LMPhoneNumberStore").getCached(a)}e.exports={formatPhoneNumber:a,getDebouncedPhoneNumber:d,validatePhoneNumber:c}}),null);
__d("LMMissingPhoneNumberHealthCheckActionSectionContainer.react",["AdsLocationsHealthChecksDataManager","AdsSelectorUtils","FluxContainer","LMLocationHealthActionSection.react","LMLocationHealthSelectors","LMMissingPhoneNumberHealthCheckActionSection.react","LMPhoneNumberUtils","LoadObject","LocationsHealthCheck","PhoneNumber","React","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMLocationHealthSelectors").LMLocationHealthCurrentlyEditingLocationsSelector;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){d.setState({phoneNumber:a});var b=!d.state.editingLocations||d.state.editingLocations.isEmpty()?null:d.state.editingLocations.first().location.country_code;d.$4(a,b)},d.$2=function(a,c){var e=d.state.phoneNumber;if(e==null)return;a.map(function(a){b("AdsLocationsHealthChecksDataManager").savePhoneNumber(c,a.get("id"),e,a.get("store_number"))})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([g])};c.calculateState=function(){var a=g();return{editingLocations:a.editingLocations,validationErrorMessage:null,phoneNumber:null}};var d=c.prototype;d.render=function(){var a=this.state.editingLocations;return!a||a.isEmpty()?null:b("React").createElement(b("LMLocationHealthActionSection.react"),{healthCheckType:b("LocationsHealthCheck").MISSING_PHONE_NUMBER,isSaveEnabled:this.$1(),onSave:this.$2},b("React").createElement(b("LMMissingPhoneNumberHealthCheckActionSection.react"),{currentlyEditing:a,errorMessage:this.state.validationErrorMessage,phoneNumber:this.state.phoneNumber,onPhoneNumberChange:this.$3}))};d.$1=function(){return this.state.validationErrorMessage===null&&this.state.phoneNumber!=null};d.$4=function(a,c){var d=this;if(a==null){this.setState({validationErrorMessage:null});return}b("promiseDone")(b("PhoneNumber").parseNumber(a,c),function(a){d.setState({validationErrorMessage:b("LMPhoneNumberUtils").validatePhoneNumber(b("LoadObject").withValue(a),c).getValue(),phoneNumber:b("LMPhoneNumberUtils").formatPhoneNumber(a)})},function(a){return d.setState({validationErrorMessage:a.defaultXUIError})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMMissingPhoneNumberLocationsHealthCheckPlugin",["fbt","LMDefaultHealthCheckPlugin","LMLocationHealthSummaryRow.react","LMMissingPhoneNumberHealthCheckActionSectionContainer.react","LocationsHealthCheck","LocationsHealthCheckSourceRefreshRate","React","gkx","killswitch"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=babelHelpers["extends"]({},b("LMDefaultHealthCheckPlugin"),{getType:function(){return b("LocationsHealthCheck").MISSING_PHONE_NUMBER},getHeader:function(a){return g._({"*":"Add phone numbers for {number} stores","_1":"Add phone numbers for 1 store"},[g._plural(a,"number")])},getModalHeader:function(a,b){return b?g._({"*":"Edit phone numbers for {number} stores","_1":"Edit phone numbers for 1 store"},[g._plural(a,"number")]):g._({"*":"Add phone numbers for {number} stores","_1":"Add phone numbers for 1 store"},[g._plural(a,"number")])},getDescription:function(){return g._("These stores are missing phone numbers. Add phone numbers so that people can contact your stores.")},getSourceRefreshRate:function(){return b("LocationsHealthCheckSourceRefreshRate").IMMEDIATE},getHealthCheckActionSection:function(){return b("killswitch")("LOCATION_HEALTH_ACTION_MISSING_PHONE_NUMBER")?null:b("React").createElement(b("LMMissingPhoneNumberHealthCheckActionSectionContainer.react"),null)},renderSummaryRow:function(a){return b("React").createElement(b("LMLocationHealthSummaryRow.react"),{callToActionEditText:g._("Edit Phone Number"),callToActionText:g._("Add Phone Number"),defaultIconType:"warning",key:a.get("id"),locationPage:a,plugin:h})},getBulkActionText:function(a,c){return b("gkx")("851753")?g._({"*":"Add Phone Number for {number} Stores","_1":"Add Phone Number for 1 Store"},[g._plural(c,"number")]):null},getBulkEditActionText:function(){return g._("Edit All")}});e.exports=h}),null);
__d("LMMissingWifiHealthCheckContent.react",["cx","fbt","FDSText.react","FDSTextInput.react","LMLocationHealthGroupedAddress.react","React","SUIBusinessTheme","SUIRadioList.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("SUIRadioList.react").Item;b("immutable").List;function a(a){var c=a.editingLocations;return c==null||c.size===0?null:b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_7fun"},b("React").createElement("div",{className:"_7fuo"},b("React").createElement(b("FDSText.react"),{color:"secondary"},h._("Store Address"))),b("React").createElement(b("LMLocationHealthGroupedAddress.react"),{locations:c})),b("React").createElement("div",{className:"_7fun"},b("React").createElement("div",{className:"_7fuo"},b("React").createElement(b("FDSText.react"),{color:"secondary"},h._("Wi-Fi Availability"))),b("React").createElement("div",{className:"_7fup"},b("React").createElement(b("SUIRadioList.react"),{theme:b("SUIBusinessTheme"),value:a.wifiAvailability,onChange:a.onWifiAvailabilityChange},b("React").createElement(i,{value:"no-wifi"},h._("No Wi-Fi available")),b("React").createElement(i,{value:"wifi"},h._("Wi-Fi available"))))),b("React").createElement("div",{className:"_7fun"},b("React").createElement("div",{className:"_7fuo"},b("React").createElement(b("FDSText.react"),{color:"secondary"},h._("Wi-Fi Name (SSID)"))),b("React").createElement("div",{className:"_7fuq"},b("React").createElement(b("FDSTextInput.react"),{errorMessage:a.displayWifiNameError?h._("Wifi cannot be 'yes', 'no', 'Y', 'N', 'y' or 'n'."):null,isDisabled:a.wifiAvailability=="no-wifi",label:"Wi-Fi Name",labelIsHidden:!0,placeholder:h._("Please enter your Wi-Fi name (SSID)"),size:"medium",value:a.networkName,onChange:a.onNetworkNameChange}))))}e.exports=a}),null);
__d("LMMissingWifiHealthCheckActionSectionContainer.react",["AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction","AdsLocationsHealthChecksDataManager","AdsSelectorUtils","FluxContainer","LMLocationHealthActionSection.react","LMLocationHealthSelectors","LMMissingWifiHealthCheckContent.react","LMUtils","LocationsHealthCheck","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMLocationHealthSelectors").LMMissingWifiHealthCheckActionSectionStateSelector,h=b("LMUtils").isWifiNameEligible;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction").dispatch({currentlyEditing:a,parentPageID:c,healthCheck:b("LocationsHealthCheck").MISSING_WIFI,networkName:d.state.networkName,wifiAvailability:d.state.wifiAvailability},{line:"79",module:"LMMissingWifiHealthCheckActionSectionContainer.react.js"}),a.forEach(function(a){b("AdsLocationsHealthChecksDataManager").saveWifiNetworkName(c,a.get("id"),a.get("store_number"),d.state.networkName,d.state.wifiAvailability)})},d.$3=function(a){d.setState({wifiAvailability:a})},d.$2=function(a){d.setState({networkName:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([g])};c.calculateState=function(){return g()};var d=c.prototype;d.render=function(){var a=!h(this.state.networkName);return b("React").createElement(b("LMLocationHealthActionSection.react"),{healthCheckType:b("LocationsHealthCheck").MISSING_WIFI,isSaveEnabled:this.state.wifiAvailability=="no-wifi"||this.state.networkName!=""||a,onSave:this.$1},b("React").createElement(b("LMMissingWifiHealthCheckContent.react"),{displayWifiNameError:a,editingLocations:this.state.editingLocations,networkName:this.state.networkName,wifiAvailability:this.state.wifiAvailability,onNetworkNameChange:this.$2,onWifiAvailabilityChange:this.$3}))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMMissingWifiLocationsHealthCheckPlugin",["fbt","LMDefaultHealthCheckPlugin","LMLocationHealthSummaryRow.react","LMMissingWifiHealthCheckActionSectionContainer.react","LocationsHealthCheck","LocationsHealthCheckSourceRefreshRate","React","killswitch"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=babelHelpers["extends"]({},b("LMDefaultHealthCheckPlugin"),{getType:function(){return b("LocationsHealthCheck").MISSING_WIFI},getHeader:function(a){return g._({"*":{"*":"Add Wi-Fi networks for {number} stores"},"_1":{"_1":"Add Wi-Fi network for 1 store"}},[g._plural(a),g._plural(a,"number")])},getModalHeader:function(a,b){return b?g._({"*":{"*":"Edit Wi-Fi networks for {number} stores"},"_1":{"_1":"Edit Wi-Fi network for 1 store"}},[g._plural(a),g._plural(a,"number")]):g._({"*":{"*":"Add Wi-Fi networks for {number} stores"},"_1":{"_1":"Add Wi-Fi network for 1 store"}},[g._plural(a),g._plural(a,"number")])},getDescription:function(){return g._("Include store network details so that people can stay connected when they visit and shop.")},getSourceRefreshRate:function(){return b("LocationsHealthCheckSourceRefreshRate").IMMEDIATE},getHealthCheckActionSection:function(){return b("killswitch")("LOCATION_HEALTH_ACTION_MISSING_WIFI")?null:b("React").createElement(b("LMMissingWifiHealthCheckActionSectionContainer.react"),null)},renderSummaryRow:function(a){return b("React").createElement(b("LMLocationHealthSummaryRow.react"),{callToActionEditText:g._("Edit Network"),callToActionText:g._("Add Network"),defaultIconType:"warning",locationPage:a,plugin:h})},getBulkActionText:function(a,b){return g._({"*":{"*":"Add networks for {number} Stores"},"_1":{"_1":"Add network for 1 Store"}},[g._plural(b),g._plural(b,"number")])},getBulkEditActionText:function(){return g._("Edit All")}});e.exports=h}),null);
__d("LMPinRepositioningBulkHealthCheckContent.react",["cx","fbt","FDSRadioList.react","FDSRadioListItem.react","FDSText.react","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";b("immutable").List;function a(a){var c=a.editingLocations!=null?a.editingLocations.count():0;return b("React").createElement("span",null,b("React").createElement("div",{className:"_2ph-"},b("React").createElement(b("FDSText.react"),null,h._({"*":"The map pin for {locations count} of your shops doesn't seem to be in the right position. You may miss out on visits and sales if people can't find your shops."},[h._param("locations count",c,[0,c])]))),b("React").createElement("div",{className:"_2ph-"},b("React").createElement(b("FDSText.react"),null,h._({"*":"Inaccurate map pins will be updated to our recommended positions in {number} days. You won't have to do anything.","_1":"Inaccurate map pins will be updated to our recommended positions in 1 day. You won't have to do anything."},[h._plural(a.scheduledUpdateDays,"number")]))),b("React").createElement("div",{className:"_2ph-"},b("React").createElement(b("FDSRadioList.react"),{size:"medium",value:a.radioSelection,onChange:a.onRadioSelectionChanged},b("React").createElement(b("FDSRadioListItem.react"),{description:"(Recommended)",label:h._("Update my shop locations now"),value:"update_pins"}),b("React").createElement(b("FDSRadioListItem.react"),{label:h._("I don't want my shop locations to be updated"),value:"original_pins"}))))}e.exports=a}),null);
__d("LMSuggestedPinMap.react",["cx","fbt","ix","FBOverlayElement.react","FBTilesMap__DEPRECATED.react","FBTilesMapZoomOverlay__DEPRECATED.react","GeoCoordinates","Image.react","LeafletMarker.react","LeafletUtils","LeafletView","React","TilesMapConfig","XUIButton.react","leaflet","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").Component;var j=[b("TilesMapConfig").ZOOM_RANGE.MIN,b("TilesMapConfig").ZOOM_RANGE.MAX],k=b("React").createElement(b("Image.react"),{src:i("22149"),width:"12"}),l=b("leaflet").divIcon({className:"_81kt",iconAnchor:[12,24],iconSize:[24,24]}),m=b("leaflet").divIcon({className:"_81ku",iconAnchor:[12,24],iconSize:[24,24]}),n=b("leaflet").divIcon({className:"_81kv",iconAnchor:[6,6],iconSize:[12,12]}),o=b("leaflet").divIcon({className:"_81kw",html:h._("Current Position"),iconAnchor:[-10,16]}),p=b("leaflet").divIcon({className:"_81kw",html:h._("Current Position"),iconAnchor:[50,16]}),q=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(27,9),zoom:1}),r=2;function s(a,c,d,e){if(!d)return q;var f=b("LeafletUtils").toLatLng(a),g=b("LeafletUtils").toLatLng(c),h=f.distanceTo(g)*r;e=e==="static"?b("LeafletUtils").circleBounds(g,h):b("LeafletUtils").circleBounds(f,h);g=c.longitude<a.longitude?"left":"right";f=Math.abs(e.getWest());h=Math.abs(e.getEast());Math.min(h,f)<180&&Math.max(h,f)>180&&Math.min(c.longitude,a.longitude)<0&&Math.max(c.longitude,a.longitude)>0&&(g=g==="left"?"right":"left");return{anchor:g,view:b("LeafletUtils").fitBounds(e,{height:d.y,width:d.x},{zoomRange:j})}}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(){var a=d.state.view;a.zoom<j[1]&&d.$5(a.setZoom(a.zoom+1))};d.$3=function(){var a=d.state.view;a.zoom>j[0]&&d.$5(a.setZoom(a.zoom-1))};d.$4=function(){var a=s(d.props.coordinates,d.props.initialCoordinates,d.state.mapSize,d.props.mapType);d.setState({anchor:a.anchor,view:a.view})};d.$6=function(a){if(!d.state.mapSize){var b=s(d.props.coordinates,d.props.initialCoordinates,a,d.props.mapType);d.setState({anchor:b.anchor,mapSize:a,view:b.view})}};d.$5=function(a){var c=a;d.props.initialCoordinates&&a.center.nearlyEquals(d.props.initialCoordinates)&&(c=new(b("LeafletView"))({center:d.props.initialCoordinates,zoom:a.zoom}));d.setState({view:c})};d.$7=function(a){var c=d.props.onChange;if(c){a=a.target.getLatLng();c(b("LeafletUtils").fromLatLng(a))}};c=s(c.coordinates,c.initialCoordinates,null,c.mapType);d.state={anchor:c.anchor,mapSize:null,view:c.view};return d}var d=c.prototype;d.componentDidUpdate=function(a){var b=this.props.coordinates,c=a.coordinates,d=this.props.initialCoordinates;a=a.initialCoordinates;c=b!==c&&(c==null||b==null||!c.nearlyEquals(b));a=d!==a&&(a==null||d==null||!a.nearlyEquals(d));if(a||c&&this.props.mapType==="dynamic"){a=s(b,d,this.state.mapSize,this.props.mapType);this.setState({anchor:a.anchor,view:a.view})}};d.$1=function(){if(!this.state.view)return null;var a=this.state.view.zoom<j[1]?this.$2:void 0,c=this.state.view.zoom>j[0]?this.$3:void 0;return b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"zoomControls",vertical:"top"},b("React").createElement("div",null,b("React").createElement(b("FBTilesMapZoomOverlay__DEPRECATED.react"),{className:"_3-8j",onZoomIn:a,onZoomOut:c}),b("React").createElement("div",{className:"_qh4"},b("React").createElement(b("XUIButton.react"),{className:"_qh5",image:k,label:h._("Zoom to Fit"),labelIsHidden:!0,type:"button",onClick:this.$4}))))};d.render=function(){var a=b("React").createElement(b("LeafletMarker.react"),{coordinates:this.props.initialCoordinates,options:{draggable:!1,icon:this.props.selected?l:m}}),c=this.props.initialCoordinates,d=new(b("GeoCoordinates"))(c.latitude,c.longitude>this.props.coordinates.longitude?c.longitude-360:c.longitude+360);c=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("LeafletMarker.react"),{coordinates:c,options:{draggable:!1,icon:n}}),b("React").createElement(b("LeafletMarker.react"),{coordinates:c,options:{draggable:!1,icon:this.state.anchor==="left"?p:o}}),b("React").createElement(b("LeafletMarker.react"),{coordinates:d,options:{draggable:!1,icon:n}}),b("React").createElement(b("LeafletMarker.react"),{coordinates:d,options:{draggable:!1,icon:this.state.anchor==="left"?p:o}}),b("React").createElement(b("LeafletMarker.react"),{coordinates:this.props.coordinates,eventHandlers:{dragend:this.$7},options:{draggable:!0,icon:this.props.selected?l:m}}));return b("React").createElement(b("FBTilesMap__DEPRECATED.react"),{style:{height:284,width:228},view:this.state.view,onSizeSettled:this.$6,onViewChange:this.$5},this.props.mapType==="dynamic"?c:a,this.$1())};return c}(a);e.exports=c}),null);
__d("LMPinRepositioningHealthCheckContent.react",["cx","fbt","FDSRadioList.react","FDSRadioListItem.react","FDSText.react","GeoCoordinates","LMGeoLocationEditor.react","LMSuggestedPinMap.react","React","SUIBusinessThemeContainer.react","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("immutable").List;function a(a){__p&&__p();var c=a.editingLocations;if(c==null||c.size===0)return null;var d=a.initialLatitude!=null&&a.initialLongitude!=null?new(b("GeoCoordinates"))(a.initialLatitude,a.initialLongitude):null,e=null,f=c.first().get("suggestions");if(f!=null){var g=f.get("suggestedLatitude");f=f.get("suggestedLongitude");e=g!=null&&f!=null?new(b("GeoCoordinates"))(g,f):null}g=null;if(a.latitude!=null&&a.longitude!=null)g=new(b("GeoCoordinates"))(a.latitude,a.longitude);else if(e!=null)g=e;else{f=c.first().get("location").get("latitude");var i=c.first().get("location").get("longitude");g=f!=null&&i!=null?new(b("GeoCoordinates"))(f,i):null}if(g==null||d==null)return null;if(e==null)return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_3-96"},h._("The address {=[address]} doesn't seem to match the pin position on the map. Adjust the pin to make sure it's in the right place.",[h._param("=[address]",b("React").createElement(b("FDSText.react"),{weight:"bold"},h._("{address}",[h._param("address",c.first().get("single_line_address"))])))])),b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("LMGeoLocationEditor.react"),{disabled:!1,height:275,value:g,onChange:a.onPinMoved})));else return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_8214"},b("React").createElement("div",{className:"_3-97"},h._("The pin for {=[name][address]} doesn't seem to be in the right place. Update it to the recommended position or drag the pin to choose a different position.",[h._param("=[name][address]",b("React").createElement(b("FDSText.react"),{weight:"bold"},h._("{name}, {address}",[h._param("name",c.first().get("name")),h._param("address",c.first().get("single_line_address"))])))])),b("React").createElement(b("FDSRadioList.react"),{size:"medium",value:a.radioSelection,onChange:a.onRadioSelectionChanged},b("React").createElement("div",{className:"_81k_"},b("React").createElement("div",{className:"_81l0"+(a.radioSelection==="initial_pin"?" _81l1":"")},b("React").createElement("div",{className:"_81l3"},b("React").createElement(b("FDSRadioListItem.react"),{label:"",value:"initial_pin"})),b("React").createElement("div",{className:"_8215"},b("React").createElement(b("LMSuggestedPinMap.react"),{coordinates:g,initialCoordinates:d,mapType:"static",selected:a.radioSelection==="initial_pin",onChange:a.onPinMoved})),b("React").createElement("div",{className:"_81l2"},h._("{=Keep Current Position}",[h._param("=Keep Current Position",b("React").createElement(b("FDSText.react"),{color:a.radioSelection==="initial_pin"?"highlight":"placeholder",weight:"bold"},h._("Keep Current Position")))]))),b("React").createElement("div",{className:"_81l0"+(a.radioSelection==="new_pin"?" _81l1":"")},b("React").createElement("div",{className:"_81l3"},b("React").createElement(b("FDSRadioListItem.react"),{label:"",value:"new_pin"})),b("React").createElement("div",{className:"_8215"},b("React").createElement(b("LMSuggestedPinMap.react"),{coordinates:g,initialCoordinates:d,mapType:"dynamic",selected:a.radioSelection==="new_pin",onChange:a.onPinMoved})),b("React").createElement("div",{className:"_81l2"},h._("{=Update Position} {=(Recommended)}",[h._param("=Update Position",b("React").createElement(b("FDSText.react"),{color:a.radioSelection==="new_pin"?"highlight":"placeholder",weight:"bold"},h._("Update Position"))),h._param("=(Recommended)",b("React").createElement(b("FDSText.react"),{color:a.radioSelection==="new_pin"?"highlight":"placeholder"},h._("(Recommended)")))])))))))}e.exports=a}),null);
__d("LMPinRepositioningHealthCheckActionSectionContainer.react",["AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction","AdsLocationHealthUpdateStateUnhealthyLocationsDataAction","AdsLocationsHealthChecksDataManager","AdsSelectorUtils","FluxContainer","LMLocationHealthActionSection.react","LMLocationHealthSelectors","LMPinRepositioningBulkHealthCheckContent.react","LMPinRepositioningHealthCheckContent.react","LocalDate","LocationsHealthCheck","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMLocationHealthSelectors").LMPinRepositioningHealthCheckActionSectionStateSelector,h=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){__p&&__p();a.forEach(function(a){a.local_state.pin_alarmclock_status==="active"&&b("AdsLocationsHealthChecksDataManager").updateAlarmclock(a.id,b("LocationsHealthCheck").INNACURATE_PIN,"defused")});if(d.$2())d.$6(a,c);else{var e=d.state.latitude,f=d.state.longitude,g=a.first(),h=g.get("location").get("city_id");d.state.radioSelection==="initial_pin"&&(e=d.state.initialLatitude,f=d.state.initialLongitude);if(h==null||e==null||f==null)return;b("AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction").dispatch({currentlyEditing:a,healthCheck:b("LocationsHealthCheck").INNACURATE_PIN,latitude:e,longitude:f,parentPageID:c,pinAlarmClockStatus:"defused"},{line:"164",module:"LMPinRepositioningHealthCheckActionSectionContainer.react.js"});b("AdsLocationsHealthChecksDataManager").saveGeoCoordinates(c,g.get("id"),g.get("store_number"),e,f,h)}},d.$4=function(a){d.setState(function(b){b=b.editingLocations;if(b==null||b.size===0)return;var c=b.first(),d=c.get("location").set("latitude",a.latitude).set("longitude",a.longitude);c=c.set("location",d);return{editingLocations:b.set(0,c),latitude:a.latitude,longitude:a.longitude}})},d.$3=function(a){d.setState({bulkRadioSelection:a})},d.$5=function(a){d.setState({radioSelection:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([g])};c.calculateState=function(){return g()};var d=c.prototype;d.render=function(){__p&&__p();var a=!1,c=null;if(this.state.editingLocations!=null){var d=this.state.editingLocations.first().get("suggestions");d!=null&&d.get("suggestedLatitude")!=null&&d.get("suggestedLongitude")!=null&&(a=!0,c=d.get("pinScheduledUpdateTime"))}d=null;if(c!=null){c=b("LocalDate").fromISOString(c);var e=b("LocalDate").today(1);c.isAfter(e)&&(d=c.daysBetween(e))}return b("React").createElement(b("LMLocationHealthActionSection.react"),{healthCheckType:b("LocationsHealthCheck").INNACURATE_PIN,isSaveEnabled:a?!0:this.state.latitude!=null&&this.state.longitude!=null,onSave:this.$1},this.$2()&&d!=null?b("React").createElement(b("LMPinRepositioningBulkHealthCheckContent.react"),{editingLocations:this.state.editingLocations,radioSelection:this.state.bulkRadioSelection,scheduledUpdateDays:d,onRadioSelectionChanged:this.$3}):b("React").createElement(b("LMPinRepositioningHealthCheckContent.react"),{editingLocations:this.state.editingLocations,initialLatitude:this.state.initialLatitude,initialLongitude:this.state.initialLongitude,latitude:this.state.latitude,longitude:this.state.longitude,radioSelection:this.state.radioSelection,onPinMoved:this.$4,onRadioSelectionChanged:this.$5}))};d.$2=function(){var a=this.state.editingLocations;if(a==null)return!1;var b=a.filter(function(a){return a.local_state.pin_alarmclock_status==="active"});return a.size>1&&b.size>0};d.$6=function(a,c){__p&&__p();if(this.state.bulkRadioSelection==="original_pins"){b("AdsLocationHealthUpdateStateUnhealthyLocationsDataAction").dispatch({editingLocationsIDs:a.map(function(a){return a.get("id")}),healthCheckType:"innacurate_pin",parentPageID:c,status:"none"},{line:"189",module:"LMPinRepositioningHealthCheckActionSectionContainer.react.js"});b("AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction").dispatch({currentlyEditing:a,healthCheck:b("LocationsHealthCheck").INNACURATE_PIN,parentPageID:c,pinAlarmClockStatus:"defused"},{line:"195",module:"LMPinRepositioningHealthCheckActionSectionContainer.react.js"});return}var d=[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;g.suggestions!=null&&g.suggestions.suggestedLatitude!=null&&g.suggestions.suggestedLongitude!=null&&g.location.city_id!=null&&d.push([g,g.suggestions.suggestedLatitude,g.suggestions.suggestedLongitude,g.location.city_id])}d.forEach(function(a){var d=a[0],e=a[1],f=a[2];a=a[3];b("AdsLocationHealthUnhealthyLocationsUpdateLocalStateAction").dispatch({currentlyEditing:h.of(d),healthCheck:b("LocationsHealthCheck").INNACURATE_PIN,latitude:e,longitude:f,parentPageID:c,pinAlarmClockStatus:"defused"},{line:"227",module:"LMPinRepositioningHealthCheckActionSectionContainer.react.js"});b("AdsLocationsHealthChecksDataManager").saveGeoCoordinates(c,d.id,d.store_number,e,f,a)})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMPinRepositioningLocationsHealthCheckPlugin",["fbt","LMDefaultHealthCheckPlugin","LMLocationHealthSummaryRow.react","LMPinRepositioningHealthCheckActionSectionContainer.react","LocationsHealthCheck","LocationsHealthCheckSourceRefreshRate","React","killswitch"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=babelHelpers["extends"]({},b("LMDefaultHealthCheckPlugin"),{getBulkActionText:function(a,b){if(a!=null&&a>0)return g._("Manage Scheduled Update");else return null},getType:function(){return b("LocationsHealthCheck").INNACURATE_PIN},getHeader:function(a){return g._({"*":{"*":"Adjust map pins for {number} stores"},"_1":{"_1":"Adjust map pin for 1 store"}},[g._plural(a),g._plural(a,"number")])},getModalHeader:function(a,b){return g._({"*":{"*":"Adjust map pins for {number} stores"},"_1":{"_1":"Adjust map pin for 1 store"}},[g._plural(a),g._plural(a,"number")])},getDescription:function(){return g._("The map pins for these stores may not be in the right positions. Update map pins so that people can find your stores.")},getSourceRefreshRate:function(){return b("LocationsHealthCheckSourceRefreshRate").DAYS_7},getHealthCheckActionSection:function(){return b("killswitch")("LOCATION_HEALTH_ACTION_INCORRECT_PIN_POSITION")?null:b("React").createElement(b("LMPinRepositioningHealthCheckActionSectionContainer.react"),null)},renderSummaryRow:function(a){return b("React").createElement(b("LMLocationHealthSummaryRow.react"),{callToActionText:g._("Reposition Pin"),defaultIconType:"warning",key:a.get("id"),locationPage:a,plugin:h})}});e.exports=h}),null);
__d("AdsLocationHealthUnhealthyLocationsDataProviderPlugin",["AdsLocationsHealthChecksDataManager","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){return b("LoadObjectMap").create(function(c){b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(d){a(function(a){return a.setLoading(c)});return b("AdsLocationsHealthChecksDataManager").getUnhealthyLocationsForCheck(d.pageID,d.healthCheck)}),function(b){a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("AdsLocationHealthPageInformationDataProviderPlugin",["AdsLocationsHealthChecksDataManager","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){return b("LoadObjectMap").create(function(c){b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(c){a(function(a){return a.setLoading(c)});return b("AdsLocationsHealthChecksDataManager").getPageInformation(c)}),function(b){return a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("AdsLocationHealthPageInformationDataProvider",["Laminar","AdsLocationHealthPageInformationDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLocationHealthPageInformationDataProviderPlugin"),"AdsLocationHealthPageInformationDataProviderPlugin")}),null);
__d("AdsLocationHealthSummaryDataProviderPlugin",["AdsLocationsHealthChecksDataManager","LoadObject","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){return b("LoadObjectMap").create(function(c){b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(c){a(function(a){return a.set(c,b("LoadObject").loading())});return b("AdsLocationsHealthChecksDataManager").getSummary(c)}),function(b){a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("AdsLocationHealthSummaryDataProvider",["Laminar","AdsLocationHealthSummaryDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLocationHealthSummaryDataProviderPlugin"),"AdsLocationHealthSummaryDataProviderPlugin")}),null);
__d("AdsLocationMetaActionsTypeUpdateDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationMetaActionsType_.UPDATE");e.exports=a}),null);
__d("AdsLocationMetaActionsTypeUpdateRadiusAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationMetaActionsType_.UPDATE_RADIUS");e.exports=a}),null);
__d("AdsPageSelectorSearchDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{searchQuery:b.searchQuery})}};e.exports=a}),null);
__d("AdsPageSelectorSearchDataAction",["Laminar","AdsPageSelectorSearchDataReducerPlugin","AdsPageSelectorProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsPageSelectorSearchDataReducerPlugin"),b("AdsPageSelectorProvider"),{})]},function(){return[]},"PAGE.SELECTOR.SEARCH");e.exports=a}),null);
__d("XLocationManagerEditableCountriesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/location-manager-editable-countries/",{page_id:{type:"FBID",required:!0}})}),null);
__d("LMCountryPermissionsDataManager",["XLocationManagerEditableCountriesController","promiseAsyncRequest"],(function(a,b,c,d,e,f){"use strict";var g={method:"GET",isReadOnly:!0},h="ALL_COUNTRIES_TOKEN";function a(a){a=b("XLocationManagerEditableCountriesController").getURIBuilder().setFBID("page_id",a).getURI();return b("promiseAsyncRequest")(a,g).then(function(a){a=a.payload;return a==null?[h]:a.countries})}e.exports={ALL_COUNTRIES_TOKEN:h,getFor:a}}),null);
__d("LMCountryPermissionsProviderPlugin",["LMCountryPermissionsDataManager","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(a){return b("LMCountryPermissionsDataManager").getFor(a)}),function(b){a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("LMCountryPermissionsProvider",["Laminar","LMCountryPermissionsProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("LMCountryPermissionsProviderPlugin"),"LMCountryPermissionsProviderPlugin")}),null);
__d("LMLocationSetCreateDialogEditorUpdateStateReducerPlugin",["LMLocationSetCreateDialogEditorState"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return a.update(c.key,function(a){return(a||new(b("LMLocationSetCreateDialogEditorState"))()).merge(c.updates)})}};e.exports=a}),null);
__d("LMLocationSetCreateDialogEditorUpdateStateAction",["Laminar","LMLocationSetCreateDialogEditorUpdateStateReducerPlugin","LMLocationSetCreateDialogEditorProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("LMLocationSetCreateDialogEditorUpdateStateReducerPlugin"),b("LMLocationSetCreateDialogEditorProvider"),{})]},function(){return[]},"LMLocationSetCreateDialogEditorUpdateStateActionPlugin");e.exports=a}),null);
__d("LMLocationSetCreationSaveFromPageIDListAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeActionsType.SAVE_FROM_PAGE_ID_LIST");e.exports=a}),null);
__d("LMLocationSetEditorResetStateReducerPlugin",["LMLocationSetCreateDialogEditorState"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return a.set(c.key,new(b("LMLocationSetCreateDialogEditorState"))())}};e.exports=a}),null);
__d("LMLocationSetEditorResetStateAction",["Laminar","LMLocationSetEditorResetStateReducerPlugin","LMLocationSetCreateDialogEditorProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("LMLocationSetEditorResetStateReducerPlugin"),b("LMLocationSetCreateDialogEditorProvider"),{})]},function(){return[]},"LMLocationSetEditorResetStateActionPlugin");e.exports=a}),null);
__d("LMLocationSetsTabUpdateStateReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.merge(b.updates)}};e.exports=a}),null);
__d("LMLocationSetsTabUpdateStateAction",["Laminar","LMLocationSetsTabUpdateStateReducerPlugin","LMLocationSetsTabStateProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("LMLocationSetsTabUpdateStateReducerPlugin"),b("LMLocationSetsTabStateProvider"),{})]},function(){return[]},"LMLocationSetsTabUpdateStateActionPlugin");e.exports=a}),null);
__d("XLocationManagerSharedInsightsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/shared_insights/",{parent_page_id:{type:"FBID",required:!0},business_id:{type:"FBID"},brand_page_id:{type:"FBID"},insights_start_date:{type:"String"},insights_end_date:{type:"String"},insights_attribution_window:{type:"String"}})}),null);
__d("LMSharedLocationStructureBrandInsightsProviderPlugin",["LoadObjectMap","XLocationManagerSharedInsightsController","promiseAsyncRequest","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){__p&&__p();return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(a){var c=a.parentPageID,d=a.businessID,e=a.brandPageID,f=a.insightsAttributionWindow,g=a.insightsEndDate;a=a.insightsStartDate;c=b("XLocationManagerSharedInsightsController").getURIBuilder().setFBID("parent_page_id",c).setFBID("business_id",d).setFBID("brand_page_id",e).setString("insights_attribution_window",f).setString("insights_start_date",a).setString("insights_end_date",g).getURI();return b("promiseAsyncRequest")(c).then(function(a){return a.payload.data})}),function(b){a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("LMSharedLocationStructureBrandInsightsProvider",["Laminar","LMSharedLocationStructureBrandInsightsProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("LMSharedLocationStructureBrandInsightsProviderPlugin"),"LMSharedLocationStructureBrandInsightsProviderPlugin")}),null);
__d("LMSharedLocationStructureCampaignInsightsProviderPlugin",["LoadObjectMap","XLocationManagerSharedInsightsController","promiseAsyncRequest","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initialState:function(a){__p&&__p();return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(a){var c=a.parentPageID,d=a.businessID,e=a.brandPageID,f=a.insightsAttributionWindow,g=a.insightsEndDate;a=a.insightsStartDate;c=b("XLocationManagerSharedInsightsController").getURIBuilder().setFBID("parent_page_id",c).setFBID("business_id",d).setFBID("brand_page_id",e).setString("insights_attribution_window",f).setString("insights_start_date",a).setString("insights_end_date",g).getURI();return b("promiseAsyncRequest")(c).then(function(a){return a.payload.data})}),function(b){a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("LMSharedLocationStructureCampaignInsightsProvider",["Laminar","LMSharedLocationStructureCampaignInsightsProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("LMSharedLocationStructureCampaignInsightsProviderPlugin"),"LMSharedLocationStructureCampaignInsightsProviderPlugin")}),null);
__d("BLRouting",["EventListener","HistoryManager","Run","URI"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){var d=a.addListener(function(){var c=a.getURI().toString(),d=new(b("URI"))(window.location.href).getUnqualifiedURI().toString();c!==d&&b("HistoryManager").go(c,!1,!1)}),e=b("EventListener").listen(window,"popstate",c);b("Run").onLeave(function(){d.remove(),e.remove()})};e.exports={init:a}}),null);
__d("AdsNewLocationTargetingRadiusSizeInput.react",["cx","fbt","AdTargetSpecDistanceUnit","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FlexLayout.react","LocationConstants","React","SUIBusinessTheme","SUICloseButton.react","SUITextInput.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){__p&&__p();if(a.isDistanceEmpty())return h._("Radius can't be empty");if(a.isDistanceTooLarge()){var b=a.getMaxDistanceToOneDecimal();return h._("Radius can't be more than {max distance value} {distance unit}",[h._param("max distance value",b),h._param("distance unit",j(a,b))])}if(a.isDistanceTooSmall()){b=a.getMinDistanceToOneDecimal();return h._("Minimum radius can't be less than {min distance value} {distance unit}",[h._param("min distance value",b),h._param("distance unit",j(a,b))])}return null}function j(a,c){c=c!=null?c:parseInt(b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(a.distanceUnit),10);return k(c,a.distanceUnit)}function k(a,c){return c===b("AdTargetSpecDistanceUnit").KILOMETER?h._({"*":"kilometres","_1":"kilometre"},[h._plural(a)]):h._({"*":"miles","_1":"mile"},[h._plural(a)])}function l(a,b){switch(b){case"distance":return(b=a.radiuses.get("distance"))==null?void 0:b.value;case"max_radius":return(b=a.radiuses.get("audience"))==null?void 0:b.max;default:return null}}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){if(!/(^[1-9]\d{0,2}$)|(^0{0,1}\.\d?$)|(^[1-9]?\d\.\d?$)|(^0$)|(^$)/.test(a))return;c.props.onRadiusSizeChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement(b("FlexLayout.react"),null,b("React").createElement("div",{className:"_3d-f"},b("React").createElement(b("SUITextInput.react"),{errorMessage:i(this.props.metadata),theme:b("SUIBusinessTheme"),value:l(this.props.metadata,this.props.currentValueType),onChange:this.$1})),b("React").createElement("div",{className:"_3d-g"},b("React").createElement(b("FDSDropdownSelector.react"),{value:this.props.metadata.distanceUnit,onChange:this.props.onDistanceUnitChange},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("AdTargetSpecDistanceUnit").KILOMETER},k(parseFloat(this.props.metadata.radiuses.get("distance").value),b("AdTargetSpecDistanceUnit").KILOMETER)),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("AdTargetSpecDistanceUnit").MILE},k(parseFloat(this.props.metadata.radiuses.get("distance").value),b("AdTargetSpecDistanceUnit").MILE))),this.props.onHide!=null?b("React").createElement(b("SUICloseButton.react"),{margin:"_3-99",theme:b("SUIBusinessTheme"),onClick:this.props.onHide}):null))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LocationSetProgressBar.react",["cx","fbt","AdsStoreTrafficRenamingUtils","AdsXUIProgressBar.react","CenteredContainer.react","FDSText.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsStoreTrafficRenamingUtils").adsStoreTrafficRenaming,j=100;function a(a){return b("React").createElement(b("CenteredContainer.react"),{horizontal:!0,vertical:!0},b("React").createElement(b("FDSText.react"),{color:"primary",size:"body3",weight:"bold"},a.customText!=null?a.customText:i(h._("Creating location set"),h._("Creating shop set"))),b("React").createElement("div",{className:"_1-o1"},b("React").createElement(b("AdsXUIProgressBar.react"),{max:j,striped:!0,value:a.currentProgress})))}e.exports=a}),null);
__d("AdsNewLocationTargetingSummaryUtils",["fbt","AdsLocationMetaConstant","AdTargetSpecDistanceUnit"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){switch(a.selectedRadiusType){case b("AdsLocationMetaConstant").DISTANCE:return g._("Fixed radius ({radius label})",[g._param("radius label",h(a.distanceUnit,a.radiuses.get("distance").value))]);case b("AdsLocationMetaConstant").AUDIENCE:var c=a.radiuses.get("audience"),d=c==null?void 0:c.max;return(c==null?void 0:c.hasMax)&&d!=null?g._("Automatic radius, max. {max radius with units}",[g._param("max radius with units",h(a.distanceUnit,d))]):g._("Automatic radius");case b("AdsLocationMetaConstant").MARKETING_AREA:return g._("Marketing areas");default:return g._("Unavailable")}}function h(a,c){if(!c)return g._("Unavailable");c=Number(c);return isNaN(c)?g._("Unavailable"):a===b("AdTargetSpecDistanceUnit").KILOMETER?g._({"*":"{number} kilometres","_1":"1 kilometre"},[g._plural(c,"number")]):g._({"*":"{number} miles","_1":"1 mile"},[g._plural(c,"number")])}e.exports={getTargetingAreaLabel:a}}),null);
__d("AdsBulkSingleSelector.react",["fbt","AdsBulkValueUtils","AdsMixedValue","AdsStrings","FDSBaseSelector.react","FDSSelectorItem.react","React","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","XUIError.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h="_NULL_",i=b("React").createContext(!1);function j(a){var c=a.children,d=a.media;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","media"]);var e=b("React").useContext(i);return e===!0?b("React").createElement(b("FDSSelectorItem.react"),{isDisabled:a.disabled,label:c,media:d,subText:a.description,value:a.value}):b("React").createElement(b("SUISelectorOption.react"),babelHelpers["extends"]({theme:b("SUIBusinessTheme")},a),c)}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a===h?d.props.onChange(""):a!==b("AdsBulkValueUtils").MIXED_VALUE&&d.props.onChange(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(this.props.value)||h,c=this.props,d=c["data-testid"];c=babelHelpers.objectWithoutPropertiesLoose(c,["data-testid"]);return this.props.useNewSelector===!0?b("React").createElement(i.Provider,{value:!0},b("React").createElement(b("FDSBaseSelector.react"),{"data-testid":d,hasError:!!this.props.xuiError,isDisabled:this.props.disabled,media:this.props.media,placeholder:this.props.defaultLabel,size:this.props.size,value:a,onChange:this.$1},this.$2())):b("React").createElement(b("XUIError.react"),c,b("React").createElement(b("SUISelector.react"),{button:this.props.button,contextualLayerBehaviors:this.props.contextualLayerBehaviors,"data-testid":d,disabled:this.props.disabled,errorMessage:this.props.xuiError,errorTooltipPosition:this.props.xuiErrorPosition,maxHeight:this.props.maxHeight,maxWidth:350,theme:b("SUIBusinessTheme"),value:a,onChange:this.$1},this.$2()))};d.$2=function(){var a=[];b("React").Children.forEach(this.props.children,function(b){return a.push(b)});var c=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(this.props.value);(!c||this.props.allowRemovingSelection)&&!this.props.useNewSelector&&a.unshift(b("React").createElement(j,{key:h,value:h},this.props.defaultLabel));this.props.value instanceof b("AdsMixedValue")?a.unshift(b("React").createElement(j,{key:b("AdsBulkValueUtils").MIXED_VALUE,value:b("AdsBulkValueUtils").MIXED_VALUE},this.props.mixedLabel)):c&&!this.$3(c)&&a.unshift(b("React").createElement(j,{key:c,value:c},g._("Unknown ({application URL})",[g._param("application URL",c)])));return a};d.$3=function(a){return this.props.children.some(function(b){return b.props.value===a})};return c}(b("React").PureComponent);c.propTypes={"data-testid":a.string,allowRemovingSelection:a.bool,button:a.node,contextualLayerBehaviors:a.object,defaultLabel:a.node.isRequired,disabled:a.bool,maxHeight:a.number,media:a.element,mixedLabel:a.node.isRequired,size:a.oneOf(["medium","large"]),useNewSelector:a.bool,xuiError:a.node,xuiErrorPosition:a.string,onChange:a.func.isRequired};c.defaultProps={defaultLabel:g._("Choose one..."),mixedLabel:b("AdsStrings").MixedValuePlaceholder,allowRemovingSelection:!1,size:"large"};c.Option=j;e.exports=c}),null);
__d("loadObjectComponentWithSpinner",["cx","CenteredContainer.react","FDSSpinner.react","React","ReactDOM","Style","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c){__p&&__p();c===void 0&&(c=!0);var d=babelHelpers["extends"]({},a,{loading:function(c,d,e){return c==null?b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement(b("FDSSpinner.react"),null)):b("React").createElement("div",{className:"_1-r2"},b("React").createElement("div",{className:"_1-r4"},a.loaded(c,e)),b("React").createElement("div",{className:"_1-r5"},b("React").createElement(b("FDSSpinner.react"),null)))}}),e=function(e){__p&&__p();babelHelpers.inheritsLoose(a,e);function a(){return e.apply(this,arguments)||this}var f=a.prototype;f.render=function(){return this.props.object.match(d,this.props)};f.componentDidUpdate=function(a){c&&a.object.isLoading()&&a.object.hasValue()&&!this.props.object.isLoading()&&this.$1()};f.$1=function(){var a=b("ReactDOM").findDOMNode(this),c=!1;b("ifRequired")("ScrollableArea",function(b){b=b.getInstance(a);b&&(b.scrollToTop(),c=!0)});if(!c){var d=b("Style").getScrollParent(a);d&&d.scrollIntoView(!0)}};return a}(b("React").PureComponent);return e}e.exports=a}),null);
__d("LMPublishingUtils",["ix","cx","fbt","Image.react","React","asset","immutable","intlList"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a={progress:b("React").createElement(b("Image.react"),{className:"_4m1_",src:g("412113")}),success:b("React").createElement(b("Image.react"),{src:g("394787")}),fail:b("React").createElement(b("Image.react"),{src:g("599954")})};c={progress:i._("Importing locations"),fail:i._("Failed importing locations"),success:i._("Finished importing locations")};d=function(a){__p&&__p();var c=k(a);a=a.operationType;c=c.countBy(j);var d=c.get("success",0),e=c.get("fail",0);c=c.get("progress",0);if(c>0)return i._({"add":{"*":"Adding {number} locations","_1":"Adding 1 location"},"claim_page":{"*":"Claiming {number} locations","_1":"Claiming 1 location"},"delete":{"*":"Removing {number} locations","_1":"Removing 1 location"},"edit":{"*":"Editing {number} locations","_1":"Editing 1 location"}},[i._enum(a,{add:"Adding",claim_page:"Claiming","delete":"Removing",edit:"Editing"}),i._plural(c,"number")]);c=d>0?i._({"add":{"*":"Added {number} locations","_1":"Added 1 location"},"claim_page":{"*":"Claimed {number} locations","_1":"Claimed 1 location"},"delete":{"*":"Removed {number} locations","_1":"Removed 1 location"},"edit":{"*":"Edited {number} locations","_1":"Edited 1 location"}},[i._enum(a,{add:"Added",claim_page:"Claimed","delete":"Removed",edit:"Edited"}),i._plural(d,"number")]):null;d=e>0?i._({"add":{"*":"Error adding {number} locations","_1":"Error adding 1 location"},"claim_page":{"*":"Error claiming {number} locations","_1":"Error claiming 1 location"},"delete":{"*":"Error removing {number} locations","_1":"Error removing 1 location"},"edit":{"*":"Error editing {number} locations","_1":"Error editing 1 location"}},[i._enum(a,{add:"adding",claim_page:"claiming","delete":"removing",edit:"editing"}),i._plural(e,"number")]):null;a=[];c!=null&&a.push(c);d!=null&&a.push(d);return b("intlList")(a,b("intlList").CONJUNCTIONS.NONE,b("intlList").DELIMITERS.COMMA)};f=function(a){a=k(a);if(a.some(function(a){return a.hasOperation()}))return"progress";return a.some(function(a){return a.hasError()})?"fail":"success"};var j=function(a){if(a.hasOperation())return"progress";return a.hasError()?"fail":"success"},k=function(a){return a.operationType==="add"?a.newLocations.valueSeq():a.existingLocations.valueSeq()};h=function(a,c){__p&&__p();return b("immutable").Map().withMutations(function(b){__p&&__p();for(var d=a.values(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g.existingLocations.entries();for(var h=h,i=Array.isArray(h),k=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(i){if(k>=h.length)break;l=h[k++]}else{k=h.next();if(k.done)break;l=k.value}l=l;var m=l[0];l=l[1];l=j(l);(l!=="success"||c)&&b.set(m,g)}}})};var l=function(a){var b=a.map(function(a){return a.store_number}).getValue();a=a.getError();if(a==null)return null;return b==null?a.message:i._("Location {location store_number}: {error text}",[i._param("location store_number",b),i._param("error text",a.message)])};g=function(a){return k(a).map(l).filter(function(a){return a!=null}).toArray().join("\n")};var m=function(a){return a.match({error:function(){return""},loading:function(){return""},loaded:function(a){var b=a.has_edit_permission;a=a.geo_location;return b===!1?i._("You don't have permission to edit locations in {location country}",[i._param("location country",a==null?void 0:a.country)]):""}})};e.exports={getCheckboxTooltip:m,getLocations:k,getLocationStatus:j,getLocationToLastOperation:h,getLocationTooltip:l,getOperationLabel:d,getOperationStatus:f,getOperationTooltip:g,ICONS:a,IMPORT_LABELS:c}}),null);
__d("LMTableUtils",["LMActions","LMConfigStore","LMFilterLocationsStore","LMPublishingUtils","LMQueryLocationStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMPublishingUtils").getLocationStatus;function a(a,b){return a.hasValue()&&g(a)!=="progress"&&b&&((b=a.getValue())==null?void 0:b.has_edit_permission)===!0}function c(){var a=b("LMQueryLocationStore").getState(),c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;var d=b("LMFilterLocationsStore").getFor(c,a);d=d.map(function(a){return a.isExhausted?a.ids:null}).getValue();b("LMActions").dispatchActionFromView({type:"lm.select_all.start",allIDs:d,parentPageID:c,query:a})}function d(a,c,d){if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.select_all.start",allIDs:null,parentPageID:a,query:c,selectedIDs:d})}e.exports={canSelectLocation:a,selectAll:c,selectSome:d}}),null);
__d("LMShortcutsConfig",["fbt","LMActions","LMTableUtils","LMUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMActions").dispatchActionFromView;a=b("LMTableUtils").selectAll;c=b("LMUtils").applySTORenaming;d=[{key:"+",ctrlOrCmd:!0,preventDefault:!0,title:c(g._("Add Location"),g._("Add store")),description:c(g._("Opens a dialog to add a new location"),g._("Opens a dialog box to add a new store")),handler:function(){return h({type:"lm.import_menu.toggle.keyboard"})}},{key:["Delete","Backspace"],title:c(g._("Delete location(s)"),g._("Delete store(s)")),description:c(g._("Deletes all selected locations"),g._("Deletes all selected stores")),handler:function(){return h({type:"lm.modal.toggle_deletion_confirmation.keyboard"})}},{key:"e",ctrlOrCmd:!0,preventDefault:!0,title:c(g._("Edit location(s)"),g._("Edit store(s)")),description:c(g._("Opens the edit dialog for all selected locations"),g._("Opens a dialog box to edit a selected store")),handler:function(){return h({type:"lm.click_bulk_edit_locations.keyboard"})}},{key:"a",ctrlOrCmd:!0,preventDefault:!0,title:c(g._("Select all locations"),g._("Select all stores")),description:c(g._("Selects all locations shown in the table"),g._("Selects all stores shown in a table")),handler:a},{key:"shift",title:c(g._("Multi select"),g._("Select multiple stores")),description:c(g._("After selecting a location hold shift and select another location to select all locations in between"),g._("After selecting a store, hold down the shift key and then select another store to select all the stores in between")),handler:function(){return h({type:"lm.keyboard.shift",shift:!0})},releaseHandler:function(){return h({type:"lm.keyboard.shift",shift:!1})}}];e.exports=d}),null);
__d("LMShortcuts",["BanzaiODS","LMShortcutsConfig","Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set(["input","textarea"]);a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.registeredShortcuts=new Map();this.$1=null;this.$2=null;this.$3=!1;this.registerShortcut=function(a){var d=b("Random").uint32();c.registeredShortcuts.set(d,a);return d};this.$4=function(a){c.$6(a,function(b){b.preventDefault===!0&&a.preventDefault(),b.handler(a)})};this.$5=function(a){c.$6(a,function(b){b.releaseHandler&&b.releaseHandler(a)})};(a||[]).map(this.registerShortcut)}var c=a.prototype;c.getAllShortcuts=function(){return this.registeredShortcuts};c.init=function(){if(this.$3)return;this.$1=window.addEventListener("keydown",this.$4);this.$2=window.addEventListener("keyup",this.$5);this.$3=!0};c.cleanup=function(){if(!this.$3)return;window.removeEventListener(this.$1);window.removeEventListener(this.$2);this.$3=!1};c.$6=function(a,c){if(a.target instanceof HTMLElement&&g.has(a.target.tagName.toLowerCase()))return;this.registeredShortcuts.forEach(function(d){[].concat(d.key).forEach(function(e){(d.alt==null||d.alt!=null&&d.alt===a.altKey)&&(d.ctrl==null||d.ctrl!=null&&d.crtl===a.ctrlKey)&&(d.ctrlOrCmd==null||d.ctrlOrCmd!=null&&d.ctrlOrCmd===a.metaKey||d.ctrlOrCmd!=null&&d.ctrlOrCmd===a.ctrlKey)&&(d.shift==null||d.shift!=null&&d.shift===a.shiftKey)&&e.toLowerCase()===a.key.toLowerCase()&&(b("BanzaiODS").bumpEntityKey(2966,"offline_solutions","lm_shortcut_clicks"),c(d))})})};return a}();e.exports=new a(b("LMShortcutsConfig"))}),null);
__d("LMBulkEditableBusinessLocationStoreState",["immutable","LoadObject"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({bulkLocation:b("LoadObject").empty(),changedToPermanentlyClosed:!1,hasLocationChanged:!1,isConfirmModalShown:!1,operationID:null,operationType:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMChildPageSlowFields",["ApiPageFields"],(function(a,b,c,d,e,f){"use strict";a=[b("ApiPageFields").ID,b("ApiPageFields").STORE_LOCATION_DESCRIPTOR_AUTOGENERATED].join(",");e.exports=a}),null);
__d("LMChildPageSlowFieldsDataManager",["fbt","regeneratorRuntime","AdsGraphAPI","LMAbstractBatchedDataManager","LMActions","LMChildPageSlowFields","LMConfigStore","LMUtils","LocationManagerUtils","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMActions").dispatchActionFromServerResponse,i=b("LMUtils").processMultigetResponse,j=b("LocationManagerUtils").getAccessToken,k=function(a,b){return i(a,b,function(a){return new Error(g._("Failed to load page {page_id}",[g._param("page_id",a)]))})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,{timeout:100,maxBatchSize:5,concurrency:1})||this}var d=c.prototype;d.__genData=function(a){__p&&__p();var c,d,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:c=b("LMConfigStore").getState(),d=c.parentPageID;g.next=3;return b("regeneratorRuntime").awrap(j(b("nullthrows")(d)));case 3:f=g.sent;g.next=6;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).objectsByName("page",a).get({access_token:f,fields:b("LMChildPageSlowFields")}));case 6:return g.abrupt("return",g.sent);case 7:case"end":return g.stop()}},null,this)};d.__processResultOrError=function(a,b){h({type:"lm.child_page_non_table.batch_loaded",child_pages:k(a,b)})};return c}(b("LMAbstractBatchedDataManager"));e.exports=new a()}),null);
__d("LMChildPageSlowFieldsStore",["AdsDataAtom","FluxLoadObjectStore","LMChildPageSlowFieldsDataManager","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.child_page_non_table.batch_loaded","lm.locations.location_updated"]:null};d.reduce=function(a,b){b=b.action;switch(b.type){case"lm.child_page_non_table.batch_loaded":return this.__handleMap(a,b.child_pages);case"lm.locations.location_updated":return a["delete"](b.newLocation.id);default:return a}};d.__loadAll=function(a){b("LMChildPageSlowFieldsDataManager").loadAll(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("FluxSimpleDerivedStore",["FluxReduceStore","abstractMethod","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516"),h=function(a){return a.hasChanged()};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;g||(b.$FluxSimpleDerivedStore2=b.__getStores(),b.$FluxSimpleDerivedStore3=b.$FluxSimpleDerivedStore2.map(function(a){return a.getDispatchToken()}));return b}var d=c.prototype;d.getInitialState=function(){this.$FluxSimpleDerivedStore1=this.__getData();return this.__computeResult(this.$FluxSimpleDerivedStore1)};d.__getActionTypes=function(){return g?[]:null};d.reduce=function(a,b){__p&&__p();if(g){this.getDispatcher().waitFor(this.getDependencyDispatchTokens());if(this.getDependencyStores().some(h)){b=this.$FluxSimpleDerivedStore1;var c=this.__getData(b);if(!b||!this.__areEqual(b,c)){this.$FluxSimpleDerivedStore1=c;return this.__computeResult(c,a)}}}else{this.getDispatcher().waitFor(this.$FluxSimpleDerivedStore3);if(this.$FluxSimpleDerivedStore2.some(h)){b=this.$FluxSimpleDerivedStore1;c=this.__getData(b);if(!b||!this.__areEqual(b,c)){this.$FluxSimpleDerivedStore1=c;return this.__computeResult(c,a)}}}return a};d.__getStores=function(){return b("abstractMethod")("FluxSimpleDerivedStore","__getStores")};d.__getData=function(a){return b("abstractMethod")("FluxSimpleDerivedStore","__getData")};d.__computeResult=function(a,c){return b("abstractMethod")("FluxSimpleDerivedStore","__computeResult")};d.__areEqual=function(a,b){return a===b};d.__getDependencyStores=function(){return this.__getStores()};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("LMEditedLocationIDsStore",["AdsDataAtom","FluxReduceStore","LMSelectedLocationIDsStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").OrderedSet();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.click_bulk_edit_locations.keyboard":case"lm.click_bulk_edit_locations":b("AdsDataAtom").waitFor([b("LMSelectedLocationIDsStore").getDispatchToken()]);return b("LMSelectedLocationIDsStore").getState();case"lm.click_edit_location":return b("immutable").OrderedSet.of(c.locationID);case"lm.close_dialog":return g;default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPublishingDataManager",["regeneratorRuntime","Promise","FBLogger","GraphAPIPolling","LMActions","LMFilterLocationsDataManager","LocationManagerUtils","dangerouslyBypassDispatchError","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromServerResponse,h=b("LMActions").dispatchActionFromView;a={startPublishing:function(a,c){b("promiseDone")(i(a,c))}};function i(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;b("dangerouslyBypassDispatchError")(function(){return h({type:"lm.close_dialog"})});e.next=4;return b("regeneratorRuntime").awrap(j(c,a));case 4:d=e.sent;e.next=7;return b("regeneratorRuntime").awrap(o(c,d));case 7:g({type:"lm.publish.done",operationID:c.id,parentPageID:c.parentPageID,results:d});e.next=14;break;case 10:e.prev=10;e.t0=e["catch"](0);b("FBLogger")("location_manager").catching(e.t0).mustfix("publishing_failed");throw e.t0;case 14:case"end":return e.stop()}},null,this,[[0,10]])}function j(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:d=a.operationType,e=a.parentPageID;f.t0=d;f.next=f.t0==="add"?4:f.t0==="edit"?7:f.t0==="delete"?10:f.t0==="claim_page"?13:16;break;case 4:f.next=6;return b("regeneratorRuntime").awrap(b("Promise").all(c.map(function(a){return k(e,a)})));case 6:return f.abrupt("return",f.sent);case 7:f.next=9;return b("regeneratorRuntime").awrap(b("Promise").all(c.map(function(a){return l(e,a)})));case 9:return f.abrupt("return",f.sent);case 10:f.next=12;return b("regeneratorRuntime").awrap(b("Promise").all(c.map(function(a){return n(e,a)})));case 12:return f.abrupt("return",f.sent);case 13:f.next=15;return b("regeneratorRuntime").awrap(b("Promise").all(c.map(function(a){return m(e,a)})));case 15:return f.abrupt("return",f.sent);case 16:throw new Error("Invalid operation");case 17:case"end":return f.stop()}},null,this)}function k(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(b("LocationManagerUtils").saveLocation(a,c.id,c));case 3:d=e.sent;g({type:"lm.locations.location_added",parentPageID:a,newLocation:d});return e.abrupt("return",{oldLocation:c,newLocation:d,error:null});case 8:e.prev=8;e.t0=e["catch"](0);return e.abrupt("return",{oldLocation:c,newLocation:null,error:e.t0});case 11:case"end":return e.stop()}},null,this,[[0,8]])}function l(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(b("LocationManagerUtils").saveLocation(a,c.id,c));case 3:d=e.sent;g({type:"lm.locations.location_updated",parentPageID:a,oldLocation:c,newLocation:d});return e.abrupt("return",{oldLocation:c,newLocation:d,error:null});case 8:e.prev=8;e.t0=e["catch"](0);return e.abrupt("return",{oldLocation:c,newLocation:null,error:e.t0});case 11:case"end":return e.stop()}},null,this,[[0,8]])}function m(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(b("LocationManagerUtils").saveLocation(a,c.id,c));case 3:d=e.sent;g({type:"lm.locations.location_updated",parentPageID:a,oldLocation:c,newLocation:d});return e.abrupt("return",{oldLocation:c,newLocation:d,error:null});case 8:e.prev=8;e.t0=e["catch"](0);return e.abrupt("return",{oldLocation:c,newLocation:null,error:e.t0});case 11:case"end":return e.stop()}},null,this,[[0,8]])}function n(a,c){__p&&__p();return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return b("regeneratorRuntime").awrap(b("LocationManagerUtils").removeLocation(a,c));case 3:g({type:"lm.locations.location_deleted",parentPageID:a,locationID:c.id});return d.abrupt("return",{oldLocation:c,newLocation:null,error:null});case 7:d.prev=7;d.t0=d["catch"](0);return d.abrupt("return",{oldLocation:c,newLocation:null,error:d.t0});case 10:case"end":return d.stop()}},null,this,[[0,7]])}function o(a,c){__p&&__p();var d,e,f,g,h,i,j,k,l,m,n,o,q,r;return b("regeneratorRuntime").async(function(s){__p&&__p();while(1)switch(s.prev=s.next){case 0:d=a.operationType,e=a.parentPageID;s.t0=d;s.next=s.t0==="claim_page"?4:s.t0==="add"?4:s.t0==="edit"?23:s.t0==="delete"?24:43;break;case 4:f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 5:if(!g){s.next=11;break}if(!(h>=f.length)){s.next=8;break}return s.abrupt("break",22);case 8:i=f[h++];s.next=15;break;case 11:h=f.next();if(!h.done){s.next=14;break}return s.abrupt("break",22);case 14:i=h.value;case 15:j=i;k=j.newLocation;if(!(k&&!j.error)){s.next=20;break}s.next=20;return b("regeneratorRuntime").awrap(p(e,k.id,!0));case 20:s.next=5;break;case 22:return s.abrupt("break",43);case 23:return s.abrupt("break",43);case 24:l=c,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 25:if(!m){s.next=31;break}if(!(n>=l.length)){s.next=28;break}return s.abrupt("break",42);case 28:o=l[n++];s.next=35;break;case 31:n=l.next();if(!n.done){s.next=34;break}return s.abrupt("break",42);case 34:o=n.value;case 35:q=o;r=q.oldLocation;if(!(r&&!q.error)){s.next=40;break}s.next=40;return b("regeneratorRuntime").awrap(p(e,r.id,!1));case 40:s.next=25;break;case 42:return s.abrupt("break",43);case 43:case"end":return s.stop()}},null,this)}function p(a,c,d){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(b("GraphAPIPolling").poll(function(){return b("LMFilterLocationsDataManager").genIsLocationInIndex(a,c)},function(a){return a===d})());case 2:case"end":return e.stop()}},null,this)}e.exports=a}),null);
__d("LMPublishingOperation",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({id:void 0,operationType:void 0,parentPageID:void 0,existingLocations:b("immutable").Map(),newLocations:b("immutable").List()});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMPublishingStore",["AdsDataAtom","FBLogger","FluxReduceStore","LMPublishingDataManager","LMPublishingOperation","LMPublishingUtils","LoadObject","gkx","guid","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMPublishingUtils").getLocations,h=b("LMPublishingUtils").getLocationStatus,i=b("LMPublishingUtils").getLocationToLastOperation,j=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").OrderedMap()};d.__getActionTypes=function(){return j?["lm.publish.done","lm.publish.remove_operation","lm.publish.start"]:null};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.publish.start":var d=k(a,c.locations,c.operationType,c.parentPageID,c.operationID);b("LMPublishingDataManager").startPublishing(c.locations,d);return l(a,d);case"lm.publish.done":d=c.operationID;var e=c.results;return a.update(d,function(a){return m(a,e)});case"lm.publish.remove_operation":return a["delete"](c.operationID);default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;var k=function(a,c,d,e,f){__p&&__p();if(d==="add")return new(b("LMPublishingOperation"))({id:f!=null&&f!=""?f:b("guid")(),operationType:d,parentPageID:e,newLocations:b("immutable").List(c.map(function(a){return b("LoadObject").withValue(a).creating()}))});var g=i(a,!1);f=b("immutable").Seq(c).filter(function(a){return a.id!=null}).map(function(a){return g.get(a.id)}).map(function(a){return a?a.id:null}).toSet();if(f.size===1&&f.first()!=null){f=b("nullthrows")(f.first());a=a.get(f);return a.update("existingLocations",function(a){__p&&__p();return a.withMutations(function(a){__p&&__p();for(var d=c,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;a.set(g.id,b("LoadObject").withValue(g).updating())}})})}else{f=b("immutable").Map(c.map(function(a){return[a.id,b("LoadObject").withValue(a).updating()]}));return new(b("LMPublishingOperation"))({id:b("guid")(),operationType:d,parentPageID:e,existingLocations:f})}},l=function(a,b){__p&&__p();a=a;for(var c=a.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f.id===b.id||f.operationType==="add")continue;for(var i=b.existingLocations.keys(),j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;l=[f.id,"existingLocations",l];var m=a.getIn(l);m&&h(m)!=="success"&&(a=a.deleteIn(l))}m=a.get(f.id);g(m).size===0&&(a=a["delete"](m.id))}return a.set(b.id,b)};function m(a,c){__p&&__p();c.forEach(function(c,d){__p&&__p();var e=c.newLocation||c.oldLocation,f=a;f=f.operationType;var g=f==="add"?"newLocations":"existingLocations";f=f==="add"?d:e?e.id:null;if(f==null){b("FBLogger")("location_manager").warn("Invalid state in LMPublishingStore");return}a=a.updateIn([g,f],b("LoadObject").empty(),function(a){return n(a,c)})});return a}function n(a,b){a=a;a=a.removeOperation();var c=b.newLocation||b.oldLocation||null;c&&(a=a.setValue(c));b.error?a=a.setError(b.error):a=a.removeError();return a}e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMLastPublishingOperationStore",["AdsDataAtom","FluxSimpleDerivedStore","LMPublishingStore","LMPublishingUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMPublishingUtils").getLocationToLastOperation;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LMPublishingStore")]};d.__getData=function(){return b("LMPublishingStore").getState()};d.__computeResult=function(a){return g(a,!0)};return c}(b("FluxSimpleDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMLocationPublishingStateStore",["AdsDataAtom","FluxDerivedStore","LMLastPublishingOperationStore","LoadObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LMLastPublishingOperationStore")]};d.__getData=function(a){return b("LMLastPublishingOperationStore").getState().getIn([a,"existingLocations",a],b("LoadObject").empty())};d.__computeResult=function(a,b){return b};return c}(b("FluxDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMEditedLocationsStore",["AdsDataAtom","FluxSimpleDerivedStore","LMChildPageFastFieldsStore","LMEditedLocationIDsStore","LMLocationPublishingStateStore","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LMEditedLocationIDsStore"),b("LMChildPageFastFieldsStore"),b("LMLocationPublishingStateStore")]};d.__getData=function(){var a=b("LMEditedLocationIDsStore").getState(),c=b("LMChildPageFastFieldsStore").getAll(a),d=b("LMLocationPublishingStateStore").getAll(a);return a.map(function(a){var e=d.get(a);return!e.isEmpty()?e.removeError().removeOperation():c.get(a)||b("LoadObject").loading()})};d.__areEqual=function(a,c){return b("immutable").is(a,c)};d.__computeResult=function(a){return a};return c}(b("FluxSimpleDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMGeoCodingStore",["AdsDataAtom","FluxLoadObjectStore","LMGeoCodingDataManager","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.geo_code"]:null};d.reduce=function(a,b){b=b.action;switch(b.type){case"lm.geo_code":return this.__handleOne(a,b.address,b.place);default:return a}};d.__load=function(a){b("LMGeoCodingDataManager").geocodeAddress(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMGeoCodingUtils",["LMGeoCodingStore","debounce"],(function(a,b,c,d,e,f){"use strict";var g=b("debounce")(function(a){return void b("LMGeoCodingStore").get(a)},200);function a(a){g(a);return b("LMGeoCodingStore").getCached(a)}e.exports={getDebouncedGeoPlace:a}}),null);
__d("LMMaxStoreNumberStore",["AdsDataAtom","FluxDerivedStore","LMChildPageFastFieldsStore","LMFilterLocationsStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={activeFilters:b("immutable").Set(),searchText:"",sortColumn:"parent_store_number",sortDirection:"DESC",selectedEntries:b("immutable").Map()},h=0;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LMFilterLocationsStore"),b("LMChildPageFastFieldsStore")]};d.__getData=function(a,c){return b("LMFilterLocationsStore").getFor(a,g).map(function(a){return a.ids.first()}).map(function(a){return a?b("LMChildPageFastFieldsStore").get(a).map(function(a){return a.store_number}):h})};d.__computeResult=function(a,b,c){return b};return c}(b("FluxDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMBulkEditableBusinessLocationStore",["AdsBulkValueUtils","AdsDataAtom","AdsEmptyValue","AdsLoadObjectUtils","AdsUniformValue","CurrentUser","FluxReduceStore","LMBulkEditableBusinessLocation","LMBulkEditableBusinessLocationStoreState","LMBulkUtils","LMChildPageFastFieldsStore","LMChildPageSlowFieldsStore","LMConfigStore","LMEditedLocationsStore","LMFilterLocationsStore","LMGeoCodingStore","LMGeoCodingUtils","LMMaxStoreNumberStore","LMOwnedPageStore","LMPhoneNumberStore","LMPhoneNumberUtils","LMPublishingUtils","LMQueryLocationStore","LoadObject","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMBulkUtils").getBulkEditableBusinessLocation,h=b("LMBulkUtils").getHasSomeClosedStores,i=b("LMBulkUtils").getSimpleAddress,j=b("LMBulkUtils").isCountryWithoutZip;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("LMBulkEditableBusinessLocationStoreState"))({operationType:"edit"})};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.hide_confirm_modal":return a.set("isConfirmModalShown",!1);case"lm.show_confirm_modal":return a.set("isConfirmModalShown",!0);case"lm.publish.start":return a.set("hasLocationChanged",!1).set("isConfirmModalShown",!1);case"lm.update_location":var d=a.bulkLocation.map(i).getValue(),e=c.location.map(i).getValue();d=b("immutable").is(d,e)?c.location:c.location.map(k);e=a.bulkLocation.map(h).getValue();var f=c.location.map(h).getValue();return a.set("bulkLocation",d.map(l).map(m)).set("changedToPermanentlyClosed",e===!1&&f===!0).set("hasLocationChanged",!0);case"lm.click_bulk_edit_locations.keyboard":case"lm.click_bulk_edit_locations":case"lm.click_edit_location":case"lm.close_dialog":b("AdsDataAtom").waitFor([b("LMEditedLocationsStore").getDispatchToken()]);d=o(b("LMEditedLocationsStore").getState());return d.set("hasLocationChanged",!1);case"lm.click_add_new_page":b("AdsDataAtom").waitFor([b("LMOwnedPageStore").getDispatchToken(),b("LMConfigStore").getDispatchToken(),b("LMMaxStoreNumberStore").getDispatchToken()]);e=b("LMConfigStore").getState();f=e.parentPageID;if(f==null)return a;var j=b("LMOwnedPageStore").get(f).getValue();if(j==null)return a;d=b("LMMaxStoreNumberStore").get(f);var n=this.$LMBulkEditableBusinessLocationStore1();d.hasError()&&(d=b("LoadObject").withValue(null));e=d.map(function(a){return new(b("LMBulkEditableBusinessLocation"))().set("id",new(b("AdsUniformValue"))(null)).set("name",new(b("AdsUniformValue"))(j.name)).set("place_topics",n?new(b("AdsUniformValue"))([n]):b("AdsEmptyValue").instance()).set("store_number",a!=null?new(b("AdsUniformValue"))(a+1):b("AdsEmptyValue").instance())});return new(b("LMBulkEditableBusinessLocationStoreState"))({bulkLocation:e,operationID:null,operationType:"add"});case"lm.publish.restore_edit_session":f=c.operation;d=g(b("LMPublishingUtils").getLocations(f).filter(function(a){return a.hasError()}).map(function(a){return a.getValueEnforcing()}).toArray());return new(b("LMBulkEditableBusinessLocationStoreState"))({bulkLocation:b("LoadObject").withValue(d),operationID:f.id,operationType:f.operationType});case"lm.claim_page.edit":b("AdsDataAtom").waitFor([b("LMOwnedPageStore").getDispatchToken(),b("LMConfigStore").getDispatchToken()]);e=c.location;d=c.newStoreNumber;f=b("LMConfigStore").getState();f=f.parentPageID;if(f==null)return a;f=b("LMOwnedPageStore").get(f).getValue();if(f==null)return a;e=g([e]).set("store_number",new(b("AdsUniformValue"))(d));!f.can_use_any_name_for_child_location&&!b("CurrentUser").isEmployee()&&(e=e.set("name",new(b("AdsUniformValue"))(f.name)));return new(b("LMBulkEditableBusinessLocationStoreState"))({bulkLocation:b("LoadObject").withValue(e),operationID:null,operationType:"claim_page"})}if(a.bulkLocation.hasOperation())return a;switch(c.type){case"lm.geo_code":return a.update("bulkLocation",function(a){return a.map(k)});case"lm.parse_phone_number":return a.update("bulkLocation",function(a){return a.map(l)});case"lm.child_page_non_table.batch_loaded":return a.update("bulkLocation",function(a){return a.map(m)})}return a};d.$LMBulkEditableBusinessLocationStore1=function(){__p&&__p();b("AdsDataAtom").waitFor([b("LMChildPageFastFieldsStore").getDispatchToken(),b("LMConfigStore").getDispatchToken(),b("LMFilterLocationsStore").getDispatchToken(),b("LMQueryLocationStore").getDispatchToken()]);var a="",c=0,d="",e=new Map(),f=b("LMQueryLocationStore").getState(),g=b("LMConfigStore").getState();g=g.parentPageID;if(g==null)return null;g=b("LMFilterLocationsStore").getFor(g,f).map(function(a){return a.ids}).getValue();if(!g)return null;f=g.flatten();b("LMChildPageFastFieldsStore").getAll(f).map(function(a){return a.getValue()}).forEach(function(b){if(!b||!b.place_topics)return;b.place_topics.forEach(function(b){var f=b.name;b=b.id;e.has(f)||e.set(f,0);var g=e.get(f)+1;e.set(f,g);g>c&&(c=g,a=f,d=b)})});return c===0?null:{id:d,name:a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;function k(a){b("AdsDataAtom").waitFor([b("LMGeoCodingStore").getDispatchToken()]);var c=i(a);if(c==null)return a;c=b("LMGeoCodingUtils").getDebouncedGeoPlace(c).getValue();if(c==null)return a;var d=c.countryKey!=null?new(b("AdsUniformValue"))(c.countryKey):a.geo_location.country_code;return a.set("geo_location",a.geo_location.set("country_code",d).set("latitude",new(b("AdsUniformValue"))(c.coordinates.latitude)).set("longitude",new(b("AdsUniformValue"))(c.coordinates.longitude)).set("single_line_address",c.name!=null?new(b("AdsUniformValue"))(c.name):a.geo_location.single_line_address).set("zip",d instanceof b("AdsUniformValue")&&!j(d.getValue())?a.geo_location.zip:new(b("AdsUniformValue"))("")))}function l(a){b("AdsDataAtom").waitFor([b("LMPhoneNumberStore").getDispatchToken()]);var c=b("AdsBulkValueUtils").getUniformValue(a.geo_location.country_code,null),d=b("AdsBulkValueUtils").getUniformValue(a.phone,null);if(d==null)return a;d=b("LMPhoneNumberUtils").getDebouncedPhoneNumber(d,c).map(b("LMPhoneNumberUtils").formatPhoneNumber).getValue();return d==null?a:a.set("phone",new(b("AdsUniformValue"))(d))}function m(a){__p&&__p();b("AdsDataAtom").waitFor([b("LMChildPageSlowFieldsStore").getDispatchToken()]);var c=b("filterNulls")(a.id.getValues().filter(function(a){return a!=null})),d=b("LMChildPageSlowFieldsStore").getAll(c).map(function(a){return a.getValue()}).filter(function(a){return a!=null}).map(function(a){return a?a.store_location_descriptor_autogenerated||"":""}),e=[];for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;e.push(d.get(h))}h=b("AdsBulkValueUtils").aggregate(e);return a.set("store_location_descriptor_autogenerated",h)}var n=new(b("LMBulkEditableBusinessLocationStoreState"))({operationType:"edit"});function o(a){a=a.size>0?n.set("bulkLocation",b("AdsLoadObjectUtils").all(a).map(g)):n;return a.update("bulkLocation",function(a){return a.map(m)})}e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMChildCountDataManager",["AdsGraphAPI","LMActions","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("LMActions").dispatchActionFromServerResponse,h={summary:!0,limit:0};a={load:function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").get(h)["catch"](function(a){return a}),function(b){return g({type:"lm.child_page_count.loaded",pageID:a,count:b.summary.total_count})})}};e.exports=a}),null);
__d("LMChildCountStore",["AdsDataAtom","FluxLoadObjectStore","LMChildCountDataManager","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.child_page_count.loaded"]:null};d.reduce=function(a,b){b=b.action;switch(b.type){case"lm.child_page_count.loaded":return this.__handleOne(a,b.pageID,b.count);default:return a}};d.__load=function(a){b("LMChildCountDataManager").load(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMChoosePageToClaimStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({isDialogShown:!1,rawPageID:null,selectedPageID:null});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMChoosePageToClaimStore",["AdsDataAtom","FluxReduceStore","LMChoosePageToClaimStoreState","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("LMChoosePageToClaimStoreState"))()};d.__getActionTypes=function(){return g?["lm.claim_page.dialog.confirm","lm.claim_page.dialog.hide","lm.claim_page.dialog.set_raw_page_id","lm.claim_page.dialog.set_selected_page_id","lm.claim_page.edit","lm.click_add_existing_page"]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.click_add_existing_page":return new(b("LMChoosePageToClaimStoreState"))().set("isDialogShown",!0);case"lm.claim_page.dialog.hide":case"lm.claim_page.edit":return a.set("isDialogShown",!1);case"lm.claim_page.dialog.confirm":return a.set("isDialogShown",!1);case"lm.claim_page.dialog.set_selected_page_id":return a.set("selectedPageID",c.pageID);case"lm.claim_page.dialog.set_raw_page_id":return a.set("rawPageID",c.rawPageID);default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMColumnKeys",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({address:null,can_others_add_photos_and_videos:null,can_others_message:null,can_others_post:null,city:null,country_code:null,id:null,is_eligible_for_store_visit_reporting:null,is_review_eligible:null,latitude:null,link:null,longitude:null,name:null,phone:null,price_range:null,select:null,state:null,status:null,store_code:null,store_number:null,street:null,website:null,wifi_information_name:null,zip:null});e.exports=a}),null);
__d("LMDefaultColumns",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").OrderedMap([["select",{width:46}],["store_number",{width:100}],["name",{width:400}],["store_code",{width:200}],["address",{width:400}],["phone",{width:160}],["website",{width:null}],["status",{width:null}]]);e.exports=a}),null);
__d("LMFilterEditableLocationsIDsSelector",["AdsStoreUtils","LMConfigStore","LMCountryPermissionsDataManager","LMCountryPermissionsProvider","LMFilterLocationsStore","LMQueryLocationStore","LoadObject","SearchableEntry","adsCreateSelector","adsCreateStoreThunkSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMCountryPermissionsDataManager").ALL_COUNTRIES_TOKEN,h=b("immutable").List;function i(a,c){return a.includes(g)?c:c.update("activeFilters",function(a){return a.add("country")}).update("selectedEntries",function(c){return c.set("country",h(a.map(function(a){return new(b("SearchableEntry"))({title:"editable_country",uniqueID:a})})))})}a=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("LMConfigStore")),b("AdsStoreUtils").toSelector(b("LMQueryLocationStore")),b("adsCreateStoreThunkSelector")(b("LMFilterLocationsStore"),function(a,c){return a==null?b("LoadObject").empty():b("LMFilterLocationsStore").getFor(a,c)}),b("LMCountryPermissionsProvider").toFluxSelector()],function(a,b,c,d){var e=a.parentPageID;return e==null?h():d.get(e).map(function(a){return c(e,i(a,b))}).map(function(a){return a.ids}).getValue()||h()},{name:e.id+".LMAllEditableLocationsIDsSelector"});c=b("adsCreateSelector")([a],function(a){return function(b){return b.filter(function(b){return a.includes(b)})}},{name:e.id+".LMFilterEditableLocationsIDsSelector"});e.exports={LMFilterEditableLocationsIDsSelector:c,getCountryPermissionsQuery:i}}),null);
__d("LMSelectAllDataManager",["regeneratorRuntime","LMActions","LMChildPageFastFieldsStore","LMCountryPermissionsDataManager","LMFilterEditableLocationsIDsSelector","LMFilterLocationsDataManager","chunkArray","immutable","promiseDone","promiseStoreGet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMFilterEditableLocationsIDsSelector").getCountryPermissionsQuery;a=function(){__p&&__p();function a(){}var c=a.prototype;c.loadAll=function(a,c,d,e){b("promiseDone")(this.genLoadAll(a,c,d,e),function(a){if(a==null)return;b("LMActions").dispatchActionFromServerResponse({type:"lm.select_all.done",ids:a.ids,childPages:a.childPages,editableIds:a.editableIds,parentPageID:c,query:d})})};c.cancel=function(a){var b=h.get(a);b&&(b(),h["delete"](a))};c.genLoadAll=function(a,c,d,e){__p&&__p();var f,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return b("regeneratorRuntime").async(function(x){__p&&__p();while(1)switch(x.prev=x.next){case 0:f=i(c),h=f.clearCancelCallback,j=f.isCanceled;if(!(a==null)){x.next=7;break}x.next=4;return b("regeneratorRuntime").awrap(b("LMFilterLocationsDataManager").genLoadAllIDs(c,d));case 4:x.t0=x.sent;x.next=8;break;case 7:x.t0=a;case 8:k=x.t0,k=e?e.filter(function(a){return k.includes(a)}):k,l=b("chunkArray")(k.toArray(),50),m=0,n=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:if(!p){e.next=6;break}if(!(q>=o.length)){e.next=3;break}return e.abrupt("return","break");case 3:r=o[q++];e.next=10;break;case 6:q=o.next();if(!q.done){e.next=9;break}return e.abrupt("return","break");case 9:r=q.value;case 10:a=r;e.next=13;return b("regeneratorRuntime").awrap(b("promiseStoreGet").all(b("LMChildPageFastFieldsStore"),function(){return b("LMChildPageFastFieldsStore").getAll(a)}));case 13:if(!j()){e.next=15;break}return e.abrupt("return",{v:null});case 15:m+=a.length,b("LMActions").dispatchActionFromServerResponse({type:"lm.select_all.progress",parentPageID:c,query:d,totalCount:k.size,loadedCount:m});case 17:case"end":return e.stop()}},null,this)},(o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 14:x.next=16;return b("regeneratorRuntime").awrap(n());case 16:s=x.sent;x.t1=s;x.next=x.t1==="break"?20:21;break;case 20:return x.abrupt("break",25);case 21:if(!(typeof s==="object")){x.next=23;break}return x.abrupt("return",s.v);case 23:x.next=14;break;case 25:x.next=27;return b("regeneratorRuntime").awrap(b("LMCountryPermissionsDataManager").getFor(c));case 27:t=x.sent;x.next=30;return b("regeneratorRuntime").awrap(b("LMFilterLocationsDataManager").genLoadAllIDs(c,g(t,d)));case 30:u=x.sent;v=k.filter(function(a){return u.includes(a)});w=b("LMChildPageFastFieldsStore").getAll(k);h();return x.abrupt("return",{ids:k,childPages:w,editableIds:v});case 35:case"end":return x.stop()}},null,this)};return a}();var h=new Map();function i(a){var b=!1,c=function(){return b},d=function(){b=!0},e=function(){h["delete"](a)};h.set(a,d);return{clearCancelCallback:e,isCanceled:c}}e.exports=new a()}),null);
__d("LMSelectAllStoreValue",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({total:void 0,loaded:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMSelectAllStore",["AdsDataAtom","FluxMapStore","LMSelectAllDataManager","LMSelectAllStoreValue","LoadObject","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getFor=function(a){return this.get(a)||b("LoadObject").empty()};d.__getActionTypes=function(){return g?["lm.select_all.cancel","lm.select_all.clear","lm.select_all.done","lm.select_all.progress","lm.select_all.start"]:null};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.select_all.start":var d=c.allIDs,e=c.parentPageID,f=c.query;b("LMSelectAllDataManager").loadAll(d,e,f,c.selectedIDs);return a.set(e,b("LoadObject").withValue(new(b("LMSelectAllStoreValue"))({total:d?d.size:0,loaded:0})).loading());case"lm.select_all.progress":f=c.totalCount;e=c.loadedCount;d=c.parentPageID;return a.set(d,b("LoadObject").withValue(new(b("LMSelectAllStoreValue"))({total:f,loaded:e})).loading());case"lm.select_all.done":d=c.childPages;f=c.parentPageID;return a.set(f,b("LoadObject").withValue(new(b("LMSelectAllStoreValue"))({total:d.size,loaded:d.size})));case"lm.select_all.clear":return a["delete"](c.parentPageID);case"lm.select_all.cancel":b("LMSelectAllDataManager").cancel(c.parentPageID);return a["delete"](c.parentPageID);default:return a}};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMSelectAllTableCheckboxContainer.react",["FluxContainer","LMActions","LMConfigStore","LMFilterEditableLocationsIDsSelector","LMFilterLocationsStore","LMQueryLocationStore","LMSelectAllStore","LMSelectedLocationIDsStore","LMTableUtils","LoadObject","React","SUICheckboxInput.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMFilterEditableLocationsIDsSelector").LMFilterEditableLocationsIDsSelector,h=b("LMTableUtils").selectAll;function i(){var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.select_all.cancel",parentPageID:a})}function j(){var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.select_all.clear",parentPageID:a})}var k={isChecked:!1,isSelectingAll:!1};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a?h():c.state.isSelectingAll?i():j()},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("LMConfigStore"),b("LMSelectAllStore"),b("LMSelectedLocationIDsStore"),b("LMQueryLocationStore"),b("LMFilterLocationsStore")].concat(g.getStores())};c.calculateState=function(){__p&&__p();var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return k;var c=b("LMQueryLocationStore").getState(),d=b("LMSelectAllStore").get(a)||b("LoadObject").empty();a=b("LMFilterLocationsStore").getFor(a,c).map(function(a){return g()(a.ids).size}).getValue();c=b("LMSelectedLocationIDsStore").getState().size;c=c===a;a=d.isLoading();return{isChecked:a||c,isSelectingAll:a}};var d=c.prototype;d.render=function(){return b("React").createElement(b("SUICheckboxInput.react"),{value:this.state.isChecked,onChange:this.$1})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMTableBulletIndicator.react",["ix","Image.react","React","asset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{src:h(a.color)})," ",a.label)}function h(a){switch(a){case"green":return g("411333");case"yellow":return g("663293");case"red":default:return g("412323")}}e.exports=a}),null);
__d("LocationManagerWebDriverTestIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BULK_EDIT_BUTTON:"locations-bulk-edit-button",BULK_LOCATION_FORM_SAVE_BUTTON:"bulk-locations-form-save-button",HOME_TAB_LINK:"home-tab-link",LOCATION_FORM_RUNNING_ADS_CONFIRM_BUTTON:"location-form-running-ads-confirm-button",LOCATION_MANAGER:"location-manager",LOCATION_SETS_TAB_LINK:"location-sets-tab-link",LOCATIONS_TAB:"locations-tab",LOCATIONS_TAB_LINK:"locations-tab-link",LOCATIONS_TABLE_SELECT_CELL:"locations-table-select-cell",SETTINGS_TAB:"settings-tab",SETTINGS_TAB_LINK:"settings-tab-link",SHARING_INSIGHTS_TABLE:"sharing-insights-table",SHARING_INSIGHTS_TABLE_BRAND_BUSINESS_PREFIX:"brand-business-id-",SHARING_INSIGHTS_TABLE_BREADCRUMBS_HEADER:"insights-tab-breadcrumbs-header",SHARING_INSIGHTS_TABLE_CAMPAIGN_PREFIX:"campaign-id-",SHARING_TAB:"sharing-tab",SHARING_TAB_LINK:"sharing-tab-link",TABLE_LOADING_SPINNER:"table-loading-spinner"})}),null);
__d("LMTableCheckbox.react",["LMPublishingUtils","LMTableUtils","LocationManagerWebDriverTestIDs","React","SUICheckboxInput.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMPublishingUtils").getCheckboxTooltip,h=b("LMTableUtils").canSelectLocation;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=c.props.location.map(function(a){return a.id}).getValue();b!=null&&c.props.onToggleSelected(b,a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.canSelectAnyLocation,d=a.location,e=a.selectedLocations;a=d.map(function(a){return a.store_number}).getValue();var f=e&&d.map(function(a){return e.has(a.id)}).getValue();return b("React").createElement(b("SUICheckboxInput.react"),{"data-testid":b("LocationManagerWebDriverTestIDs").LOCATIONS_TABLE_SELECT_CELL+(a!=null&&a!==0?"::"+a:""),disabled:!h(d,c),tooltip:g(d),value:!!f,onChange:this.$1})};return c}(b("React").Component);e.exports=a}),null);
__d("LMTablePageName.react",["ix","cx","fbt","FDSButton.react","FDSLink.react","FDSText.react","LMLoggingUtils","LMPublishingUtils","React","SUIGlyphIcon.react","Tooltip","XVanityURLController","asset","loadObjectComponent","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMPublishingUtils").getLocationStatus,k=b("LMPublishingUtils").getLocationTooltip,l=b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("363756"),srcDisabled:g("363754"),srcHover:g("407298")}),m=b("loadObjectComponent")({error:function(a){return b("React").createElement(b("FDSText.react"),{color:"secondary",display:"truncate",size:"meta1"},a.message)},loaded:function(a){return b("React").createElement(b("FDSLink.react"),babelHelpers["extends"]({display:"truncateInline",href:b("XVanityURLController").getURIBuilder().setString("vanity",a.id).getURI(),size:"meta1",target:"_blank"},b("Tooltip").propsFor(i._("Open page in new tab")),{onClick:n}),a.name_with_location_descriptor)},loading:function(){return null}});function n(a){a.stopPropagation()}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("LMLoggingUtils").logAction("lm.inline_editing.click_edit"),a.stopPropagation(),d.props.onEdit(d.props.location.map(function(a){return a.id}).getValueEnforcing())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c=this.props.permissions.getValue();a=this.props.location.hasOperation()||this.props.location.getValue()==null||((a=this.props.location.getValue())==null?void 0:a.has_edit_permission)===!1||c==null||!c.canEdit;return b("React").createElement(b("React").Fragment,null,b("React").createElement(o,{disabled:a,location:this.props.location,onClickEdit:this.$1}),b("React").createElement(m,{object:this.props.location}),b("React").createElement("div",{className:"_m7e",key:"moreActions"},b("React").createElement(b("FDSButton.react"),{icon:l,isDisabled:a,label:i._("Edit"),labelIsHidden:!0,onClick:this.$1})))};return c}(b("React").Component);function o(a){var c=j(a.location);switch(c){case"fail":c=k(a.location);return b("React").createElement("span",{className:"_3-90"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("390678")}),isDisabled:a.disabled,label:i._("Edit"),labelIsHidden:!0,tooltip:c,tooltipPosition:"below",onClick:a.onClickEdit}));case"progress":return b("React").createElement("span",{className:"_3-90"},b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("501421")}));default:return null}}e.exports=a}),null);
__d("LMTablePageSetting.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.settingValue){case!1:return g._("Disabled");case!0:return g._("Enabled");default:return null}}e.exports=a}),null);
__d("LMTablePriceRange.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){switch(a.priceRange){case"Unspecified":return g._("Unspecified");case"$":return g._("\u00a3");case"$$":return g._("\u00a3\u00a3");case"$$$":return g._("\u00a3\u00a3\u00a3");case"$$$$":return g._("\u00a3\u00a3\u00a3\u00a3");default:return null}}e.exports=a}),null);
__d("LMTableColumns",["ix","fbt","AdsNotAvailable.react","AdsShimmerBar.react","FBClipboardLink.react","FDSLink.react","FDSText.react","Image.react","LMSelectAllTableCheckboxContainer.react","LMTableBulletIndicator.react","LMTableCheckbox.react","LMTablePageName.react","LMTablePageSetting.react","LMTablePriceRange.react","React","XVanityURLController","asset","immutable","loadObjectComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=[{columnKey:"select",defaultWidth:46,flexGrow:null,isColumnVisible:function(a){return a.selectedLocations!=null},isRequired:!0,isResizable:!1,isFixed:!0,CellComponent:b("LMTableCheckbox.react"),renderHeader:function(){return b("React").createElement(b("LMSelectAllTableCheckboxContainer.react"),null)},label:h._("Select"),sortColumn:null},{columnKey:"store_number",defaultWidth:100,flexGrow:null,isRequired:!0,isResizable:!0,CellComponent:a(function(a){return a.store_number}),label:h._("Store ID"),sortColumn:"parent_store_number",defaultSortDirection:"DESC"},{columnKey:"name",defaultWidth:400,minWidth:400,flexGrow:null,isRequired:!0,isResizable:!0,CellComponent:b("LMTablePageName.react"),label:h._("Name"),sortColumn:"name"},{CellComponent:a(function(a){return a.store_code}),columnKey:"store_code",defaultWidth:200,flexGrow:1,isColumnVisible:function(a){return a.isStoreCodeVisible},isRequired:!1,isResizable:!0,label:h._("Store Code"),sortColumn:null},{columnKey:"address",defaultWidth:400,minWidth:400,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.single_line_address}),label:h._("Full Address"),sortColumn:"address"},{columnKey:"street",defaultWidth:400,minWidth:400,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.street}),label:h._("Street"),sortColumn:null},{columnKey:"city",defaultWidth:120,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.city}),label:h._("City"),sortColumn:null},{columnKey:"zip",defaultWidth:100,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.zip}),label:h._("ZIP"),sortColumn:null},{columnKey:"state",defaultWidth:120,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.region}),label:h._("Region"),sortColumn:null},{columnKey:"country_code",defaultWidth:100,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.country_code}),label:h._("Country"),sortColumn:null},{columnKey:"phone",defaultWidth:160,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.phone}),label:h._("Phone"),sortColumn:"phone"},{columnKey:"website",defaultWidth:160,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.website}),label:h._("Website"),sortColumn:null},{columnKey:"status",defaultWidth:200,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return i(a)}),label:h._("Status"),popover:{title:h._("Status"),content:h._("If a store shows 'Unpublished' or 'Permanently Closed', you won't be able to use it in your store visits campaigns.")},sortColumn:null},{columnKey:"price_range",defaultWidth:150,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePriceRange.react"),{priceRange:a.price_range})}),label:h._("Price Range"),sortColumn:null},{columnKey:"id",defaultWidth:160,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("FDSLink.react"),{onClick:l},b("React").createElement(b("FBClipboardLink.react"),{alignment:"center",position:"right",tooltip:h._("Copy Page ID to clipboard"),tooltipSuccess:h._("Copied {page_id} to clipboard",[h._param("page_id",a.id)]),value:a.id},a.id))}),label:h._("Page ID"),sortColumn:null},{columnKey:"is_review_eligible",defaultWidth:140,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePageSetting.react"),{settingValue:a.is_review_eligible})}),label:h._("Reviews"),sortColumn:null},{columnKey:"can_others_add_photos_and_videos",defaultWidth:240,minWidth:240,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePageSetting.react"),{settingValue:a.can_others_add_photos_and_videos})}),label:h._("Can Others Add Photos and Videos"),sortColumn:null},{columnKey:"can_others_message",defaultWidth:160,minWidth:160,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePageSetting.react"),{settingValue:a.can_others_message})}),label:h._("Can Others Message"),sortColumn:null},{columnKey:"can_others_post",defaultWidth:140,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePageSetting.react"),{settingValue:a.can_others_post})}),label:h._("Can Others Post"),sortColumn:null},{columnKey:"link",defaultWidth:60,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("FDSLink.react"),{href:b("XVanityURLController").getURIBuilder().setString("vanity",a.id).getURI()},b("React").createElement(b("Image.react"),{src:g("412487")}))}),label:h._("Link"),sortColumn:null},{columnKey:"is_eligible_for_store_visit_reporting",defaultWidth:300,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTableBulletIndicator.react"),{color:a.is_eligible_for_store_visit_reporting?"green":"red",label:a.is_eligible_for_store_visit_reporting?h._("Measurable"):h._("Not Measurable")})}),label:h._("Store Visits Measurement"),popover:{title:h._("Store Visits Measurement"),content:h._("See if store visits are measurable at your locations. If they are measurable, you can run ads using store visits optimization. Store visits optimization is only available for a limited number of advertisers at present. If your locations aren't yet measurable, make sure all their details are accurate and up to date."),helpLink:h._("{=Learn more}",[h._param("=Learn more",b("React").createElement(b("FDSLink.react"),{href:"https://www.facebook.com/business/help/175683976191028",target:"_blank"},h._("Learn more")))])},sortColumn:null},{columnKey:"wifi_information_name",defaultWidth:220,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.wifi_information_name}),label:h._("Wi-Fi Network Name"),popover:{title:h._("Wi-Fi Network Name"),content:b("React").createElement("span",null,h._("Help customers find Wi-Fi at your locations by including your network name. Add this information for each of your business locations via CSV, using the 'Download Locations' button."))},sortColumn:null},{columnKey:"latitude",defaultWidth:150,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.latitude}),label:h._("Latitude"),sortColumn:null},{columnKey:"longitude",defaultWidth:150,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.longitude}),label:h._("Longitude"),sortColumn:null}];function i(a){var c=a.is_published,d=a.is_visible_only_in_ads;a=a.permanently_closed;var e=null,f=null;!c?(e=d===!0?h._("Not published, visible only in ads"):h._("Not published"),f="red"):a?(e=d===!0?h._("Permanently Closed, visible only in ads"):h._("Permanently Closed"),f="yellow"):(e=d===!0?h._("Published, visible only in ads"):h._("Published"),f="green");return b("React").createElement(b("LMTableBulletIndicator.react"),{color:f,label:e})}function j(){return b("React").createElement(b("AdsShimmerBar.react"),null)}function k(){return b("React").createElement(b("AdsNotAvailable.react"),null)}function a(a){var c=b("loadObjectComponent")({loading:j,error:k,loaded:function(c){return b("React").createElement(b("FDSText.react"),{display:"truncate",size:"meta1"},a(c))}}),d=function(a){var d=a.location;a=babelHelpers.objectWithoutPropertiesLoose(a,["location"]);return b("React").createElement(c,babelHelpers["extends"]({object:d},a))};d.displayName="CellComponent";return d}function l(a){a.stopPropagation()}e.exports=b("immutable").OrderedMap(c.map(function(a){return[a.columnKey,a]}))}),null);
__d("LMColumnStoreUtils",["LMColumnKeys","LMDefaultColumns","LMTableColumns","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return JSON.stringify(a.toJS())}var g=b("LMTableColumns").filter(function(a){return a.isRequired}).keySeq().toOrderedSet();function c(a){__p&&__p();if(a==null)return b("LMDefaultColumns");try{a=JSON.parse(a)}catch(a){return b("LMDefaultColumns")}var c=Object.entries(a);if(a==null||c.length===0)return b("LMDefaultColumns");a=c.filter(function(a){if(a==null||!Array.isArray(a))return!1;else return b("LMTableColumns").has(b("LMColumnKeys")[String(a[0])])});c=b("immutable").OrderedMap(a.map(function(a){return[b("LMColumnKeys")[a[0]],a[1]]}));if(c.size===0)return b("LMDefaultColumns");a=b("immutable").OrderedMap(g.map(function(a){return[a,{width:null}]}));return a.concat(c)}e.exports={deserialize:c,serialize:a}}),null);
__d("LMLocalStorage",["CurrentUser","WebStorage"],(function(a,b,c,d,e,f){"use strict";var g=b("WebStorage").getLocalStorage(),h="lm_"+b("CurrentUser").getID()+"_";function a(a){return g==null?null:g.getItem(""+h+a)}function c(a,c){g!=null&&b("WebStorage").setItemGuarded(g,""+h+a,c)}e.exports={getItem:a,setItem:c}}),null);
__d("LMColumnStore",["AdsDataAtom","FluxReduceStore","LMColumnStoreUtils","LMLocalStorage","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="table_columns_config",h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){var a=b("LMLocalStorage").getItem(g);return b("LMColumnStoreUtils").deserialize(a)};d.__getActionTypes=function(){return h?["lm.table_settings.resize_column","lm.table_settings.save_columns"]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.table_settings.save_columns":b("LMLocalStorage").setItem(g,b("LMColumnStoreUtils").serialize(c.columns));return c.columns;case"lm.table_settings.resize_column":b("LMLocalStorage").setItem(g,b("LMColumnStoreUtils").serialize(c.columns));return c.columns;default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMColumnEditStore",["AdsDataAtom","FluxReduceStore","LMColumnStore","LMDefaultColumns"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return null};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.table_settings.click":b("AdsDataAtom").waitFor([b("LMColumnStore").getDispatchToken()]);return b("LMColumnStore").getState();case"lm.table_settings.set_columns":return c.columns;case"lm.table_settings.cancel":case"lm.table_settings.hide":return null;case"lm.table_settings.save_columns":b("AdsDataAtom").waitFor([b("LMColumnStore").getDispatchToken()]);return null;case"lm.table_settings.reset_columns":return b("LMDefaultColumns");default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XLocationManagerPagesWhitelistEligibilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/location-manager-pages-whitelist-eligibility/",{page_ids:{type:"FBIDVector",required:!0}})}),null);
__d("LMPageWhitelistEligibilityDataManager",["fbt","regeneratorRuntime","LMAbstractBatchedDataManager","LMActions","LMUtils","XLocationManagerPagesWhitelistEligibilityController","immutable","promiseAsyncRequest"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMActions").dispatchActionFromServerResponse,i=b("LMUtils").processMultigetResponse,j=function(a,b){return i(a,b,function(a){return new Error(g._("Failed to load page {page_id}",[g._param("page_id",a)]))})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__genData=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:c=b("XLocationManagerPagesWhitelistEligibilityController").getURIBuilder().setFBIDVector("page_ids",a).getURI();return d.abrupt("return",b("promiseAsyncRequest")(c).then(function(a){return a.payload}));case 2:case"end":return d.stop()}},null,this)};d.__processResultOrError=function(a,b){h({type:"lm.page_whitelist_eligibility.batch_loaded",eligibilities:j(a,b)})};return c}(b("LMAbstractBatchedDataManager"));e.exports=new a()}),null);
__d("LMPageWhitelistEligibilityStore",["AdsDataAtom","FluxLoadObjectStore","LMPageWhitelistEligibilityDataManager","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.onboarding.redirect_to_location_manager","lm.page_whitelist_eligibility.batch_loaded"]:null};d.reduce=function(a,b){b=b.action;switch(b.type){case"lm.page_whitelist_eligibility.batch_loaded":return this.__handleMap(a,b.eligibilities);case"lm.onboarding.redirect_to_location_manager":return a["delete"](b.page.id);default:return a}};d.__loadAll=function(a){b("LMPageWhitelistEligibilityDataManager").loadAll(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMCoreNavStore",["AdsDataAtom","FluxSimpleDerivedStore","LMChildCountStore","LMConfigStore","LMOwnedPageStore","LMPageWhitelistEligibilityStore","LMUtils","LoadObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LMChildCountStore"),b("LMConfigStore"),b("LMOwnedPageStore"),b("LMPageWhitelistEligibilityStore")]};d.__getData=function(a){a=b("LMConfigStore").getState();var c=a.parentPageID!=null&&a.parentPageID!==""?b("LMPageWhitelistEligibilityStore").get(a.parentPageID):b("LoadObject").empty(),d=a.parentPageID!=null&&a.parentPageID!==""?b("LMOwnedPageStore").get(a.parentPageID):b("LoadObject").empty(),e=a.parentPageID!=null&&a.parentPageID!==""?b("LMChildCountStore").get(a.parentPageID):b("LoadObject").empty();return{childCount:e,config:a,eligibility:c,parentPage:d}};d.__computeResult=function(a,c){__p&&__p();c=a.childCount;var d=a.config,e=a.eligibility;a=a.parentPage;if(d.parentPageID==null)return"no_page_selected";if(d.environment==="intern")return"edit_locations";d=e.getValue();if(d==null)return"loading";if(b("LMUtils").isPageAlreadyParentPage(d)){e=a.getValue();a=c.getValue();if(e==null||a==null)return"loading";return a===0&&b("LMUtils").hasPagePlace(e)?"remove_address":"edit_locations"}return b("LMUtils").isPageEligibleForWhitelist(d)?"convert_to_main_page":"page_not_eligible"};return c}(b("FluxSimpleDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMErrorSpec",["immutable","LoadObject"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({geo_location_city:b("LoadObject").empty(),geo_location_city_id:b("LoadObject").empty(),geo_location_latitude:b("LoadObject").empty(),geo_location_longitude:b("LoadObject").empty(),geo_location_single_line_address:b("LoadObject").empty(),geo_location_street:b("LoadObject").empty(),geo_location_zip:b("LoadObject").empty(),hours:b("LoadObject").empty(),phone:b("LoadObject").empty(),place_topics:b("LoadObject").empty(),store_location_descriptor:b("LoadObject").empty(),store_number:b("LoadObject").empty(),store_code:b("LoadObject").withValue(null),vanity_name:b("LoadObject").empty()});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("BusinessPageUsernameUtils",["fbt","Promise","LFUCache","XPageUsernameCheckAvailabilityAsyncController","promiseAsyncRequest"],(function(a,b,c,d,e,f,g){__p&&__p();var h=new(b("LFUCache"))();function i(a){if(!/^[A-Za-z0-9\.]*$/.test(a))return{hasError:!0,error:"INVALID_CHARACTERS",message:g._("This username isn't available. It has characters that aren't allowed.")};if(a.replace(/\./g,"").length<5)return{hasError:!0,error:"TOO_SHORT",message:g._("This username isn't available. It must be at least 5 characters long.")};return a[0]==="."||a[a.length-1]==="."?{hasError:!0,error:"ENDS_WITH_SPECIAL",message:g._("This username isn't available. Usernames must start and end with a letter or number.")}:{hasError:!1}}function a(a,c){__p&&__p();var d=i(a);if(d.hasError)return b("Promise").resolve(d);d=a+":"+(c||"");var e=h.get(d);if(e)return e;e=b("XPageUsernameCheckAvailabilityAsyncController").getURIBuilder().setFBID("page_id",c).setString("desired_username",a).getURI();c=b("promiseAsyncRequest")(e).then(function(a){a=a.getPayload();return!a.is_available?{hasError:!0,error:"NOT_AVAILBLE",message:a.error_message}:{hasError:!1}});h.set(d,c);return c}e.exports={validateUsername:a}}),null);
__d("LMVanityNameDataManager",["BusinessPageUsernameUtils","LMActions","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromServerResponse;a=function(){function a(){}var c=a.prototype;c.load=function(a,c){b("promiseDone")(b("BusinessPageUsernameUtils").validateUsername(c,a),function(b){return g({type:"lm.verify_vanity_name.loaded",pageID:a,vanityName:c,result:b})},function(b){return g({type:"lm.verify_vanity_name.error",pageID:a,vanityName:c,error:new Error(b?b.errorSummary:null)})})};return a}();e.exports=new a()}),null);
__d("LMVanityNameStore",["AdsDataAtom","FBLogger","FluxLoadObjectStore","LMVanityNameDataManager","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516"),h=b("immutable").Record({pageID:null,vanityName:""});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getFor=function(a,b){return this.get(h({pageID:a,vanityName:b}))};d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.verify_vanity_name.error","lm.verify_vanity_name.loaded"]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.verify_vanity_name.loaded":return this.__handleOne(a,h({pageID:c.pageID,vanityName:c.vanityName}),c.result);case"lm.verify_vanity_name.error":b("FBLogger")("location_manager").catching(c.error).mustfix("failed to verify vanity name");return this.__handleOne(a,h({pageID:c.pageID,vanityName:c.vanityName}),c.error);default:return a}};d.__load=function(a){b("LMVanityNameDataManager").load(a.pageID,a.vanityName)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMErrorSpecStore",["fbt","AdsBulkValueUtils","AdsDataAtom","AdsEmptyValue","AdsUniformValue","BusinessHoursUtils","CurrentUser","FluxSimpleDerivedStore","LMBulkEditableBusinessLocationStore","LMBulkUtils","LMErrorSpec","LMPhoneNumberStore","LMPhoneNumberUtils","LMSitevarConfig","LMVanityNameStore","LoadObject","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BusinessHoursUtils").validateHours,i=b("LMBulkUtils").isZipValid,j=b("LMPhoneNumberUtils").getDebouncedPhoneNumber,k=b("LMPhoneNumberUtils").validatePhoneNumber,l=new(b("LMErrorSpec"))();c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LMBulkEditableBusinessLocationStore"),b("LMPhoneNumberStore"),b("LMVanityNameStore")]};d.__getData=function(a){a===void 0&&(a=l);var c=b("LMBulkEditableBusinessLocationStore").getState().bulkLocation;return a.withMutations(function(a){return void a.set("phone",c.map(q)).set("store_number",c.map(w).map(n).map(r)).set("store_code",b("LoadObject").withValue(null)).set("place_topics",c.map(x).map(n).map(s)).set("geo_location_street",c.map(y).map(n).map(F)).set("geo_location_city",c.map(z).map(n).map(G)).set("geo_location_city_id",c.map(A).map(m)).set("geo_location_latitude",c.map(B).map(m)).set("geo_location_longitude",c.map(C).map(m)).set("geo_location_single_line_address",c.map(D).map(m)).set("geo_location_zip",c.map(E).map(u)).set("store_location_descriptor",c.map(p)).set("vanity_name",c.map(t)).set("hours",c.map(v))})};d.__computeResult=function(a){return a};return c}(b("FluxSimpleDerivedStore"));c.__moduleID=e.id;function m(a){return a instanceof b("AdsEmptyValue")?b("LoadObject").empty():b("LoadObject").withValue(null)}function n(a){return a instanceof b("AdsEmptyValue")?b("LoadObject").empty():b("LoadObject").withValue(b("AdsBulkValueUtils").getUniformValueOrDefault(a,null))}var o=/\((.*?)\)/;function p(a){__p&&__p();var c=a.id.getValues().length>1,d=a.store_location_descriptor.getValues();d=b("immutable").Seq(d).filter(function(a){return a!=null&&a!==""}).countBy(function(a){return a}).some(function(a){return a>1});if(c&&d)return b("LoadObject").withValue(g._("You can't use the same location descriptor for more than 1 location. Each one has to be unique or empty."));d=b("AdsBulkValueUtils").getUniformValueOrDefault(a.store_location_descriptor,"");a=b("AdsBulkValueUtils").getUniformValueOrDefault(a.store_location_descriptor_autogenerated,"");if(!c&&d!=null&&d.length>b("LMSitevarConfig").max_descriptor_length&&d!==a)return b("LoadObject").withValue(g._("This is too long. Your location descriptor needs to be under {max_length} characters.",[g._param("max_length",b("LMSitevarConfig").max_descriptor_length)]));a=d==="";return!c&&!a&&o.test(d)?b("LoadObject").withValue(g._("You can't use brackets in your location descriptor.")):b("LoadObject").withValue(null)}function q(a){return n(a.phone).map(function(c){if(c==null)return null;if(c==="")return g._("You must enter a phone number.");var d=b("AdsBulkValueUtils").getUniformValueOrDefault(a.geo_location.country_code,null);c=j(c,d);return k(c,d)})}function r(a){if(a==null)return null;if(a==="")return g._("You must enter a store number.");return!/^\d{1,10}$/.test(a+"")||typeof a!=="number"?g._("The store number must be a positive whole number with fewer than 10 digits."):null}function s(a){if(a==null)return null;if(a.length===0)return g._("Please add at least one sub category.");return a.length>b("LMSitevarConfig").max_location_categories?g._("Choose up to {category count} categories.",[g._param("category count",b("LMSitevarConfig").max_location_categories)]):null}function t(a){var c=b("AdsBulkValueUtils").getUniformValueOrDefault(a.id,null);a=b("AdsBulkValueUtils").getUniformValueOrDefault(a.page_username,null);if(a==null||a==="")return b("LoadObject").withValue(null);c=b("LMVanityNameStore").getFor(c,a);return b("CurrentUser").isEmployee()&&c.hasError()?b("LoadObject").withValue(null):c.map(function(a){return a.hasError?a.message:null})}function u(a){a=a.getValue();return a==null||a.countryCode==null?null:i(a.countryCode,a.zip)?null:g._("ZIP Code required")}function v(a){a=b("AdsBulkValueUtils").getUniformValueOrDefault(a.full_hours);return h(a==null?void 0:a.schedule)}function w(a){return a.store_number}function x(a){return a.place_topics}function y(a){return a.geo_location.street}function z(a){return a.geo_location.city}function A(a){return a.geo_location.city_id}function B(a){return a.geo_location.latitude}function C(a){return a.geo_location.longitude}function D(a){return a.geo_location.single_line_address}function E(a){return new(b("AdsUniformValue"))({countryCode:n(a.geo_location.country_code).getValue(),zip:n(a.geo_location.zip).getValue()})}function a(a){return function(b){return b===""?g._("{field_name} required",[g._param("field_name",a)]):null}}var F=a(g._("Street address")),G=a(g._("City\/Town"));e.exports=new c(b("AdsDataAtom"))}),null);
__d("LMImportMenuStore",["AdsDataAtom","FluxReduceStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return null};c.__getActionTypes=function(){return g?["lm.claim_page.edit","lm.click_add_new_page","lm.import_menu.click_upload_csv","lm.import_menu.close","lm.import_menu.toggle","lm.import_menu.open","lm.import_menu.toggle.keyboard","lm.onboarding.redirect_to_location_manager","lm.upload_locations.confirm_upload"]:null};c.reduce=function(a,b){b=b.action;switch(b.type){case"lm.import_menu.toggle":case"lm.import_menu.toggle.keyboard":return a==="entry"?null:"entry";case"lm.import_menu.open":return"entry";case"lm.onboarding.redirect_to_location_manager":return b.redirectTo;case"lm.import_menu.close":case"lm.upload_locations.confirm_upload":return null;case"lm.import_menu.click_upload_csv":return"upload";case"lm.click_add_new_page":case"lm.claim_page.edit":return null;default:return a}};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMKeyboardShortcutsModalStore",["AdsDataAtom","FluxReduceStore","LMSelectedLocationIDsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{isRemoveLocationsConfirmModalShown:!1,isRemoveLocationsCheckboxTicked:!1}};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.modal.deletion_confirmation_checkbox":return{isRemoveLocationsCheckboxTicked:!a.isRemoveLocationsCheckboxTicked,isRemoveLocationsConfirmModalShown:a.isRemoveLocationsConfirmModalShown};case"lm.modal.toggle_deletion_confirmation.keyboard":case"lm.modal.toggle_deletion_confirmation":b("AdsDataAtom").waitFor([b("LMSelectedLocationIDsStore").getDispatchToken()]);return b("LMSelectedLocationIDsStore").getState().isEmpty()?a:{isRemoveLocationsCheckboxTicked:!1,isRemoveLocationsConfirmModalShown:!a.isRemoveLocationsConfirmModalShown};default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMKeyboardStore",["AdsDataAtom","FluxReduceStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={showDeletionConfirmation:!1,shift:!1},h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return g};c.__getActionTypes=function(){return h?["lm.keyboard.shift"]:null};c.reduce=function(a,b){b=b.action;switch(b.type){case"lm.keyboard.shift":return babelHelpers["extends"]({},a,{shift:b.shift});default:return a}};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XBusinessLocationManagerAdsUsingLocationSetsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/ads_using_location_sets/",{page_set_ids:{type:"FBIDSet",required:!0}})}),null);
__d("XBusinessLocationManagerAdsUsingLocationsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/ads_using_locations/",{root_page_id:{type:"FBID",required:!0},page_ids:{type:"FBIDSet",required:!0}})}),null);
__d("LMLocationHasRunningAdsDataManager",["Promise","AsyncRequest","LMActions","XBusinessLocationManagerAdsUsingLocationsController","XBusinessLocationManagerAdsUsingLocationSetsController","immutable","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromServerResponse,h=100,i={loadFromPageIDs:function(a){__p&&__p();var c=a.page_ids.getValues().filter(Boolean),d=b("XBusinessLocationManagerAdsUsingLocationsController").getURIBuilder().setFBID("root_page_id",a.root_page_id),e=Array.from({length:Math.ceil(c.length/h)},function(a,e){a=c.slice(e*h,e*h+h);var f=d.setFBIDSet("page_ids",a).getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))().setURI(f).setHandler(function(b){b=b.payload;return a(b.data)}).setErrorHandler(c).send()})});b("Promise").all(e).then(function(b){return g({type:"lm.location_has_running_ads.loaded",key:a,hasRunningAds:b.reduce(function(a,b){return a||b},!1)})})["catch"](function(b){return g({type:"lm.location_has_running_ads.error",key:a,error:b})})},loadFromPageSets:function(a){__p&&__p();b("promiseDone")(b("promiseAsyncRequest")(b("XBusinessLocationManagerAdsUsingLocationSetsController").getURIBuilder().setFBIDSet("page_set_ids",a.map(function(a){return a.page_set_id}).toArray()).getURI()),function(b){var c=new Map(),d=function(d){c.set(a.find(function(a){return a.page_set_id===d}),b.payload.data[d])};for(var e in b.payload.data)d(e);g({type:"lm.location_has_running_ads.batch_loaded",hasRunningAds:c})},function(b){return g({type:"lm.location_has_running_ads.batch_loaded",hasRunningAds:new Map(a.map(function(a){return[a,b]}))})})},loadAll:function(a){var c=b("immutable").Set(a).filter(function(a){return a.page_set_id!=null});c.size>0&&i.loadFromPageSets(c);a=b("immutable").Set(a).subtract(c);a.forEach(function(a){return i.loadFromPageIDs(a)})}};e.exports=i}),null);
__d("LMLocationHasRunningAdsStore",["fbt","AdsDataAtom","FBLogger","FluxLoadObjectStore","LMLocationHasRunningAdsDataManager","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return h?[this.getActionTypeStartLoad(),"lm.location_has_running_ads.batch_loaded","lm.location_has_running_ads.error","lm.location_has_running_ads.loaded"]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.location_has_running_ads.loaded":return this.__handleOne(a,c.key,c.hasRunningAds);case"lm.location_has_running_ads.batch_loaded":return this.__handleMap(a,c.hasRunningAds);case"lm.location_has_running_ads.error":b("FBLogger")("location_manager").catching(c.error).mustfix("failed to check if location has running ads");return this.__handleOne(a,c.key,new Error(g._("Failed to check if the locations have running ads")));default:return a}};d.__loadAll=function(a){b("LMLocationHasRunningAdsDataManager").loadAll(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMNuxStore",["AdsDataAtom","FluxMapStore","SimpleNUXMessage","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["133083510632974","1803266369965541"],h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map(g.map(function(a){return[a,b("SimpleNUXMessage").hasUserSeenMessage(a)]}))};d.__getActionTypes=function(){return h?["lm.dismiss_nux"]:null};d.reduce=function(a,b){b=b.action;switch(b.type){case"lm.dismiss_nux":return a.set(b.nuxID,!0);default:return a}};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPageSelectorStore",["AdsDataAtom","FluxReduceStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516"),h=b("immutable").Record({dialogShown:!1});a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return h()};c.__getActionTypes=function(){return g?["lm.navigation.selected_page_change","lm.page_selector.dialog"]:null};c.reduce=function(a,b){b=b.action;switch(b.type){case"lm.page_selector.dialog":return a.set("dialogShown",b.dialogShown);case"lm.navigation.selected_page_change":return a.set("dialogShown",!1);default:return a}};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPageSettingsDataManager",["invariant","regeneratorRuntime","Promise","AdsGraphAPI","LMActions","LocationManagerUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LocationManagerUtils").getAccessToken;function i(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(h(a));case 2:c=d.sent;return d.abrupt("return",b("AdsGraphAPI").get(e.id).object("page",a).edge("settings").get({access_token:c,locale:"en_US"}).then(function(a){a=a.data;return a}));case 4:case"end":return d.stop()}},null,this)}function a(a){b("promiseDone")(i(a),function(c){return b("LMActions").dispatchActionFromServerResponse({type:"lm.page_settings.success",pageID:a,pageSettings:c})},function(c){return b("LMActions").dispatchActionFromServerResponse({type:"lm.page_settings.error",pageID:a,error:c})})}function j(a,c){__p&&__p();var d,f,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(h(a));case 2:f=k.sent;k.next=5;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).object("page",a).edge("settings").batched().post({access_token:f,locale:"en_US",option:(d={},d[c.setting]=c.value,d)}));case 5:i=k.sent,j=i.success,j||g(0,369,c.setting,c.value);case 8:case"end":return k.stop()}},null,this)}function c(a,c,d){d=d.filter(function(a){return c.some(function(b){return b.setting===a.setting&&b.value!==a.value})});b("promiseDone")(b("Promise").all(d.map(function(b){return j(a,b)})).then(function(){return i(a)}),function(c){return b("LMActions").dispatchActionFromServerResponse({type:"lm.page_settings.success",pageID:a,pageSettings:c})},function(c){b("LMActions").dispatchActionFromServerResponse({type:"lm.page_settings.error",pageID:a,error:c})})}e.exports={load:a,save:c}}),null);
__d("LMPageSettingsStore",["AdsDataAtom","FBLogger","FluxLoadObjectStore","LMPageSettingsDataManager","LoadObject","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),"lm.page_settings.error","lm.page_settings.save","lm.page_settings.success"]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.page_settings.error":b("FBLogger")("location_manager").catching(c.error).mustfix("failed to save page settings");return a.set(c.pageID,b("LoadObject").withError(c.error));case"lm.page_settings.success":return this.__handleOne(a,c.pageID,c.pageSettings);case"lm.page_settings.save":var d=a.get(c.pageID,b("LoadObject").empty()).getValue();b("LMPageSettingsDataManager").save(c.pageID,d!=null?d:[],c.pageSettings);return a.set(c.pageID,b("LoadObject").withValue(c.pageSettings).updating());default:return a}};d.__load=function(a){b("LMPageSettingsDataManager").load(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPageUtils",["ApiPagePaths","CurrentUser","PageAdminTypes","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set([b("PageAdminTypes").CONTENT_CREATOR]),h=new Set([b("PageAdminTypes").MANAGER]);function i(a){return k(a)||l(a,g)}function j(a){return l(a,h)}function k(a){return b("CurrentUser").isEmployee()||j(a)}function l(a,b){return a.some(function(a){return b.has(a)})}function a(a){a=b("getByPath")(a,b("ApiPagePaths").USERPERMISSIONS.DATA,[]);a=a.filter(function(a){return a.user!=null&&a.user.id===b("CurrentUser").getID()}).map(function(a){return a.role});return{canEdit:i(a),isAdmin:k(a),isExplicitAdmin:j(a),roles:a}}function c(a){return a.filter(function(a){return a.hasValue()}).map(function(a){return a.getValueEnforcing()})}e.exports={getPermissions:a,getLoadedPages:c}}),null);
__d("LMPermissionsStore",["AdsDataAtom","FluxDerivedStore","LMOwnedPageStore","LMPageUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LMOwnedPageStore")]};d.__getData=function(a){return b("LMOwnedPageStore").get(a)};d.__computeResult=function(a,c){return c.map(b("LMPageUtils").getPermissions)};return c}(b("FluxDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMRowStoreData",["immutable","LoadObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").List;c=b("immutable").Map;d=b("immutable").Record({countryPermissions:b("LoadObject").empty(),filterData:b("LoadObject").empty(),isSelectingAll:!1,locationIDs:a(),originalLocations:c(),publishedLocations:c()});f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d);e.exports=f}),null);
__d("LMRowStoreResult",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({filterData:void 0,isSelectingAll:void 0,rows:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMRowStore",["AdsDataAtom","AdsLoadObjectUtils","FluxSimpleDerivedStore","LMChildPageFastFieldsStore","LMConfigStore","LMCountryPermissionsDataManager","LMCountryPermissionsProvider","LMFilterLocationsStore","LMLocationPublishingStateStore","LMQueryLocationStore","LMRowStoreData","LMRowStoreResult","LMSelectAllStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMCountryPermissionsProvider").toFluxSelector(),h=new(b("LMRowStoreData"))();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LMChildPageFastFieldsStore"),b("LMConfigStore")].concat(g.getStores(),[b("LMQueryLocationStore"),b("LMFilterLocationsStore"),b("LMLocationPublishingStateStore"),b("LMSelectAllStore")])};d.__getData=function(a){__p&&__p();var c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return h;var d=b("LMQueryLocationStore").getState(),e=g().get(c);d=b("LMFilterLocationsStore").getFor(c,d);var f=d.map(function(a){return a.ids}).getValue()||b("immutable").List(),i=b("LMChildPageFastFieldsStore").getAll(f,a?a.originalLocations:null),j=b("LMLocationPublishingStateStore").getAll(f,a?a.publishedLocations:null);c=b("LMSelectAllStore").getFor(c).isLoading();a=(a||h).set("isSelectingAll",c).set("locationIDs",f).set("filterData",d).set("originalLocations",i).set("publishedLocations",j).set("countryPermissions",e);return a};d.__computeResult=function(a){var c=a.countryPermissions,d=a.filterData,e=a.isSelectingAll,f=a.locationIDs,g=a.originalLocations,h=a.publishedLocations;a=f.map(function(a){var b=h.get(a);return!b.isEmpty()?b:g.get(a)}).map(function(a){return b("AdsLoadObjectUtils").all([a,c]).map(function(a){var c=a[0];a=a[1];return c.setHasEditPermissions(a.includes(c.geo_location.country_code)||a.includes(b("LMCountryPermissionsDataManager").ALL_COUNTRIES_TOKEN))})});return new(b("LMRowStoreResult"))({filterData:d,isSelectingAll:e,rows:a})};return c}(b("FluxSimpleDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XBusinessWhitelistParentPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/whitelist/",{})}),null);
__d("LMSetupWizardDataManager",["CurrentUser","LMActions","LocationManagerUtils","WebFunnelLogger","XBusinessWhitelistParentPageController","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LocationManagerUtils").createChildLocationFromOwnedPage;function h(a,c,d,e){b("promiseDone")(b("promiseAsyncRequest")(b("XBusinessWhitelistParentPageController").getURIBuilder().getURI(),{method:"POST",data:{page_id:a,remove_address_only:c}}),function(){new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a).setAction("main_page_conversion_success").log(),d&&e!=null?i(a,e):b("LMActions").dispatchActionFromServerResponse({type:"lm.onboarding.main_page_conversion.success",pageID:a})},function(a){b("LMActions").dispatchActionFromServerResponse({type:"lm.onboarding.main_page_conversion.error",error:a.toError()})})}function i(a,c){var d=c.location!=null?c.location:{},e=c.single_line_address!=null?c.single_line_address:"";b("promiseDone")(g(a,c.location!=null?c.location:{}),function(c){var e=c.id;b("LMActions").dispatchActionFromServerResponse({type:"lm.onboarding.child_page_creation.success",childPageID:e,parentLocation:d,parentPageID:a});b("LMActions").dispatchActionFromServerResponse({type:"lm.locations.location_added",parentPageID:a,newLocation:c});b("LMActions").dispatchActionFromServerResponse({type:"lm.load_first_location_page",parentPageID:a})},function(c){b("LMActions").dispatchActionFromServerResponse({type:"lm.onboarding.child_page_creation.error",parentPageID:a,parentSingleLineAddress:e,error:c})})}function a(a,b){h(a.id,!1,b,a)}function c(a){h(a,!0,!1,null)}e.exports={removeAddress:c,whitelistPageWithOptionalChildCreation:a}}),null);
__d("LocationManagerWebdriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ONBOARDING_START:"lm-onboarding-start",ONBOARDING_CONFIRM:"lm-onboarding-confirm",ONBOARDING_REDIRECT:"lm-onboarding-redirect"})}),null);
__d("LMSetupWizardSteps",["cx","fbt","ix","ApiPageFields","CurrentUser","FDSButton.react","FDSDivider.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSText.react","Image.react","LMUtils","LocationManagerUtils","LocationManagerWebdriverIDs","React","SUIRadioList.react","FDSCheckboxInput.maintenance.react","SUINotice.react","WebFunnelLogger","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMUtils").applySTORenaming,k=b("LocationManagerUtils").isAddressEligibleForChildPageCreation,l=b("SUIRadioList.react").Item,m=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=function(){d.props.onGetStarted();var a=d.props.selectedPage.getValue();if(a==null)return;var c=!!a.single_line_address===!0?"parent_page_has_address":"parent_page_does_not_have_address";new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("select_get_started").log();new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction(c).log()},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.componentDidMount=function(){var a=this.props.selectedPage.getValue();a!=null&&new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("onboarding_wizard_loaded").markStart().log()};d.render=function(){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_START,label:h._("Get Started"),size:"large",use:"special",onClick:this.$1})};return a}(b("React").Component);a={start:{canContinue:function(a){return!0},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){return b("React").createElement("div",{className:"_3-8l _66mx"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ocl _ock"},b("React").createElement(b("Image.react"),{src:i("477285")})),b("React").createElement("div",{className:"_3qxo"},h._("Promote Your Stores"))),b("React").createElement("div",null,h._("If you have multiple places of business, like stores or restaurants, you can encourage people nearby to visit and shop.")),b("React").createElement("div",{className:"_1-kv"},b("React").createElement("div",{className:"_1-kw"},b("React").createElement(b("Image.react"),{className:"_1-kx",src:i("945191")}),b("React").createElement("div",{className:"_1-ky"},h._("Add Store Details")),b("React").createElement("div",{className:"_1-kz"},h._("Choose a main Page to represent your business and then upload information about all of your stores."))),b("React").createElement("div",{className:"_1-kw"},b("React").createElement("div",{className:"_1-kx"},b("React").createElement(b("Image.react"),{className:"_1-kx",src:i("945194")})),b("React").createElement("div",{className:"_1-ky"},h._("Create Ads for Your Stores")),b("React").createElement("div",{className:"_1-kz"},h._("Reach people in the area. Store traffic ads include details like location maps and opening hours."))),b("React").createElement("div",{className:"_1-kw"},b("React").createElement(b("Image.react"),{className:"_1-kx",src:i("945197")}),b("React").createElement("div",{className:"_1-ky"},h._("Optimize and Grow")),b("React").createElement("div",{className:"_1-kz"},h._("Certain businesses can optimize their ad campaigns for even more store visits or sales.")))))},renderCustomFooter:function(a){return b("React").createElement(m,a)}},remove_address:{canContinue:function(a){return a.addressRemovalAccepted},isLoading:function(a){return a.whitelistStatus.hasOperation()||a.childPageCreationStatus.hasOperation()},onClickContinue:function(a){var b=a.selectedPage.getValue();if(b==null)return;a.onConfirmRemoveAddress(b,a.shouldAutoCreateChild,a.businessID)},renderContent:function(a){var c=a.selectedPage.getValue();if(c==null)return null;var d=!!c.single_line_address;return b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ocl _ock"},b("React").createElement(b("Image.react"),{src:i("398198")})),b("React").createElement("div",{className:"_3qxo"},j(h._("Create Your Main Page"),h._("Choose Your Main Page"))),b("React").createElement("div",null,j(h._("All your locations will be managed through this Page."),h._("You'll manage all your stores through this Page.")))),b("React").createElement("div",{className:"_oci"}),b("React").createElement("div",{className:"_66my"},j(h._("{page_name} will become the main Page for your business. You'll be able to create a page for each location, so your customers can find information like opening hours, contact details, reviews and directions for the store that's nearest them.",[h._param("page_name",c.name)]),h._("{page_name} will become the main Page for your business. When you add store details, you'll also create a new Page for each store you add. These store Pages will be linked to your main Page and you'll be able to manage them all from your main Page as well.",[h._param("page_name",c.name)]))),d?b("React").createElement("div",null,b("React").createElement("div",{className:"_66my"},b("React").createElement("div",{className:"_oci"}),b("React").createElement(b("SUINotice.react"),{type:"warning"},b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{size:"meta1",weight:"bold"},h._("This Page has an existing address"))),b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1",weight:"normal"},j(h._("Your main Page should represent your whole brand, not a specific store or location, so it can't have an address."),h._("Your main Page will represent your whole business, not a specific store, so it can't have an address.")))),b("React").createElement("div",{className:"_3-8y"},n(a))),b("React").createElement("div",{className:"_3-8y"},j(h._("We'll remove this address when you make your main Page. If you want your customers to find you by this address, make a new location Page once this step is complete."),h._("We'll remove this address when you make {page_name} your main Page. If there's a store at this address, you can add those store details and create a new store Page once you're done this step.",[h._param("page_name",c.name)]))),b("React").createElement("div",{className:"_ocu"},b("React").createElement("div",null,b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:h._("Remove address and make {page_name} my main Page",[h._param("page_name",b("React").createElement("strong",null,c.name))]),value:a.addressRemovalAccepted,onChange:a.onAddressRemovalAcceptedChange})))),a.addressRemovalAccepted&&k(c)?b("React").createElement("div",{className:"_66my"},b("React").createElement("div",{className:"_oci"}),b("React").createElement("div",{className:"_3-8y"},h._("Would you like to create a location Page for {page_location}",[h._param("page_location",c.single_line_address)])),b("React").createElement("div",{className:"_ocu"},b("React").createElement("div",null,b("React").createElement(b("SUIRadioList.react"),{value:a.shouldAutoCreateChild?"auto_create":"permanent_delete",onChange:a.onAutoCreateChildChange},b("React").createElement(l,{value:"auto_create"},h._("Yes. Use {page_location} to create my first location page",[h._param("page_location",c.single_line_address)])),b("React").createElement(l,{value:"permanent_delete"},h._("No. Permanently delete this address.")))))):null):b("React").createElement("div",{className:"_66my _3-8-"},b("React").createElement("div",null,b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{label:h._("Make {page_name} my main page",[h._param("page_name",b("React").createElement("strong",null,c.name))]),value:a.addressRemovalAccepted,onChange:a.onAddressRemovalAcceptedChange}))))},renderCustomFooter:function(a){return null}},whitelist_error:{canContinue:function(a){return!1},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){a=a.whitelistStatus.getError();return b("React").createElement("div",{className:"_3-8l"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocr"},b("React").createElement(b("Image.react"),{src:i("402790")})),b("React").createElement("div",{className:"_3qxo"},h._("There was an error while making your page a Main Page.")),a!=null?b("React").createElement("div",null,h._("{error_message}.",[h._param("error_message",a.description!=null&&a.description!==""?a.description:a.message)])):null))},renderCustomFooter:function(a){return null}},whitelist_success:{canContinue:function(a){return!1},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){return b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocq"},b("React").createElement(b("Image.react"),{src:i("381759")})),b("React").createElement("div",{className:"_3qxo"},h._("Success!")),b("React").createElement("div",null,j(h._("You've created your Page and you're ready to start adding locations."),h._("You've created your main Page and you're ready to start adding stores.")))))},renderCustomFooter:function(a){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_REDIRECT,label:j(h._("Add Locations"),h._("Add Stores")),size:"large",use:"special",onClick:a.onRedirectToLocationManager})}},child_page_creation_success:{canContinue:function(a){return!1},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){var c=a.selectedPage.getValue();if(c==null)return null;var d;a.parentLocation!=null&&a.parentLocation.city!=null&&a.parentLocation.country!=null&&(d=" ("+a.parentLocation.city+", "+a.parentLocation.country+")");return b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocq"},b("React").createElement(b("Image.react"),{src:i("381759")})),b("React").createElement("div",{className:"_3qxo"},h._("Success!")),b("React").createElement("div",null,h._("You've created your main Page, {main_page_name} and your first location page, {child_page_name}",[h._param("main_page_name",c.name),h._param("child_page_name",c.name)]),d!=null&&d!=void 0?h._("{city_and_country}",[h._param("city_and_country",d)]):null,h._(". To add the rest of your locations, you can add them one at a time or upload them all in bulk using a spreadsheet."))))},renderCustomFooter:function(a){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_REDIRECT,label:h._("Go To Location Manager"),size:"large",use:"special",onClick:a.onRedirectToLocationManager})}},child_page_creation_error:{canContinue:function(a){return!1},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){var c=a.selectedPage.getValue();if(c==null)return null;a=h._("There was an error making your first location Page at {parent_single_line_address} and it couldn't be created. Creating a location Page manually will take just a few minutes - you can add details for each one at a time or upload them all in bulk using a spreadsheet.",[h._param("parent_single_line_address",a.parentSingleLineAddress)]);return b("React").createElement("div",{className:"_3-8l"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocq"},b("React").createElement(b("Image.react"),{src:i("381759")})),b("React").createElement("div",{className:"_3qxo"},h._("{page_name} is now your main page",[h._param("page_name",c.name)])),b("React").createElement("div",null,h._("Your main Page has been published."))),b("React").createElement(b("FDSDivider.react"),{margin:"_3-8q"}),b("React").createElement("div",{className:"_6llf"},b("React").createElement(b("FDSGuidanceCard.react"),{category:"warning"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,h._("Error making your first location Page")),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,a)))))},renderCustomFooter:function(a){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_REDIRECT,label:h._("Add Locations"),size:"large",use:"special",onClick:a.onRedirectToLocationManager})}}};function n(a){a=a.selectedPage.getValue();return!a||a[b("ApiPageFields").SINGLE_LINE_ADDRESS]==null||a[b("ApiPageFields").SINGLE_LINE_ADDRESS]===""?null:a[b("ApiPageFields").SINGLE_LINE_ADDRESS].split(", ").map(function(a,c){return b("React").createElement("div",{key:"token_"+c},a)})}e.exports=a}),null);
__d("LMSetupWizardStoreState",["immutable","LMSetupWizardSteps","LoadObject"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({addressRemovalAccepted:!1,childPageCreationStatus:b("LoadObject").empty(),currentStep:b("LMSetupWizardSteps").start,parentLocation:b("immutable").Map(),parentSingleLineAddress:"",previousSteps:b("immutable").List(),shouldAutoCreateChild:!0,whitelistStatus:b("LoadObject").empty()});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMSetupWizardStore",["AdsDataAtom","CurrentUser","FBLogger","FluxReduceStore","LMSetupWizardDataManager","LMSetupWizardSteps","LMSetupWizardStoreState","LMUtils","LoadObject","WebFunnelLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMUtils").chainReducers,h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("LMSetupWizardStoreState"))()};d.__getActionTypes=function(){return h?["lm.navigation.selected_page_change","lm.onboarding.child_page_creation.error","lm.onboarding.child_page_creation.success","lm.onboarding.click_back","lm.onboarding.confirm_remove_address","lm.onboarding.get_started","lm.onboarding.main_page_conversion.error","lm.onboarding.main_page_conversion.success","lm.onboarding.redirect_to_location_manager","lm.onboarding.remove_address_only","lm.onboarding.toggle_address_removal_accepted","lm.onboarding.toggle_auto_create_child_page"]:null};d.reduce=function(a,c){__p&&__p();var d=c.action;switch(d.type){case"lm.onboarding.get_started":return o(a,b("LMSetupWizardSteps").remove_address);case"lm.onboarding.confirm_remove_address":return i(a,d.page,d.shouldAutoCreateChild,d.businessID);case"lm.onboarding.toggle_address_removal_accepted":return a.set("addressRemovalAccepted",d.isChecked);case"lm.onboarding.toggle_auto_create_child_page":return a.set("shouldAutoCreateChild",d.shouldAutoCreateChild);case"lm.onboarding.main_page_conversion.success":return g(a,function(a){return k(a)},function(a){return o(a,b("LMSetupWizardSteps").whitelist_success)});case"lm.onboarding.redirect_to_location_manager":new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",d.page.id).setAction("redirect_to_location_manager").log();return a;case"lm.onboarding.main_page_conversion.error":var e=d.error;b("FBLogger")("location_manager").catching(d.error).mustfix("failed to convert main page");return g(a,function(a){return n(a,e)},function(a){return o(a,b("LMSetupWizardSteps").whitelist_error)});case"lm.onboarding.child_page_creation.success":new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",d.parentPageID).setAction("child_page_creation_success").log();return g(a,function(a){return a.set("parentLocation",d.parentLocation)},function(a){return k(a)},function(a){return l(a)},function(a){return o(a,b("LMSetupWizardSteps").child_page_creation_success)});case"lm.onboarding.child_page_creation.error":var f=d.error;c=d.parentPageID;b("FBLogger")("location_manager").mustfix("failed to create the first child page for parentID %s",c.toString());return g(a,function(a){return a.set("parentSingleLineAddress",d.parentSingleLineAddress)},function(a){return k(a)},function(a){return m(a,f)},function(a){return o(a,b("LMSetupWizardSteps").child_page_creation_error)});case"lm.onboarding.click_back":return a.set("currentStep",a.previousSteps.last()).set("previousSteps",a.previousSteps.pop());case"lm.navigation.selected_page_change":return new(b("LMSetupWizardStoreState"))();case"lm.onboarding.remove_address_only":return j(a,d.pageID)}return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;function i(a,c,d,e){b("LMSetupWizardDataManager").whitelistPageWithOptionalChildCreation(c,d);e=a;e=e.set("whitelistStatus",b("LoadObject").updating());d&&(e=e.set("childPageCreationStatus",b("LoadObject").updating()));return e}function j(a,c){b("LMSetupWizardDataManager").removeAddress(c);return a.set("whitelistStatus",b("LoadObject").updating())}function k(a){return a.set("whitelistStatus",b("LoadObject").withValue(void 0))}function l(a){return a.set("childPageCreationStatus",b("LoadObject").withValue("success"))}function m(a,c){return a.set("childPageCreationStatus",b("LoadObject").withError(c))}function n(a,c){return a.set("whitelistStatus",b("LoadObject").withError(c))}function o(a,b){return a.update("previousSteps",function(b){return b.push(a.currentStep)}).set("currentStep",b)}e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMSidebarStore",["AdsDataAtom","FluxReduceStore","LMLocalStorage","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="sidebar_is_expanded",h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){var a=b("LMLocalStorage").getItem(g);return a==null||a==="true"};d.__getActionTypes=function(){return h?["lm.sidebar.toggle"]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case"lm.sidebar.toggle":b("LMLocalStorage").setItem(g,String(!a));return!a;default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMUploadConstants",[],(function(a,b,c,d,e,f){e.exports={ERROR_UPLOADING_FILE:"ERROR_UPLOADING_FILE",UPLOAD_COMPLETE_SUCCESS:"UPLOAD_COMPLETE_SUCCESS",UPLOAD_COMPLETE_WITH_COLUMN_ERRORS:"UPLOAD_COMPLETE_WITH_COLUMN_ERRORS",UPLOAD_COMPLETE_WITH_ROW_ERRORS:"UPLOAD_COMPLETE_WITH_ROW_ERRORS",UPLOADING_FILE:"UPLOADING_FILE"}}),null);
__d("LMUploadLocationsStore",["AdsDataAtom","FluxMapStore","LMUploadConstants","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?["lm.upload_locations.cancel_upload","lm.upload_locations.chosen_file","lm.upload_locations.confirm_upload","lm.upload_locations.error_uploading_file","lm.upload_locations.upload_complete_success","lm.upload_locations.upload_complete_with_column_errors","lm.upload_locations.upload_complete_with_row_errors","lm.upload_locations.upload_progress"]:null};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.upload_locations.cancel_upload":return a["delete"](c.parentPageID);case"lm.upload_locations.error_uploading_file":return a.set(c.parentPageID,{stage:b("LMUploadConstants").ERROR_UPLOADING_FILE,fileUploadError:c.fileUploadError});case"lm.upload_locations.chosen_file":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOADING_FILE,progressPercentage:0});case"lm.upload_locations.upload_progress":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOADING_FILE,progressPercentage:c.progressPercentage});case"lm.upload_locations.upload_complete_with_row_errors":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOAD_COMPLETE_WITH_ROW_ERRORS,totalRowCount:c.totalRowCount,errorRowCount:c.errorRowCount,errorDownloadUrl:c.errorDownloadUrl,sid:c.sid});case"lm.upload_locations.upload_complete_with_column_errors":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOAD_COMPLETE_WITH_COLUMN_ERRORS,missingColumns:c.missingColumns,invalidHeaders:c.invalidHeaders,duplicateColumns:c.duplicateColumns});case"lm.upload_locations.upload_complete_success":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOAD_COMPLETE_SUCCESS,totalRowCount:c.totalRowCount,sid:c.sid});case"lm.upload_locations.confirm_upload":return a["delete"](c.parentPageID);default:return a}};d.getUploadStatus=function(a){return this.get(a)};d.getUploadStatusStage=function(a){a=this.get(a);return a!=null?a.stage:null};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMStores",["LMBulkEditableBusinessLocationStore","LMChildCountStore","LMChildPageFastFieldsStore","LMChildPageSlowFieldsStore","LMChoosePageToClaimStore","LMColumnEditStore","LMColumnStore","LMConfigStore","LMCoreNavStore","LMEditedLocationIDsStore","LMEditedLocationsStore","LMErrorSpecStore","LMFilterLocationsStore","LMGeoCodingStore","LMImportMenuStore","LMImportStatusStore","LMKeyboardShortcutsModalStore","LMKeyboardStore","LMLastPublishingOperationStore","LMLocationHasRunningAdsStore","LMMaxStoreNumberStore","LMNuxStore","LMOwnedPageStore","LMPageSelectorStore","LMPageSettingsStore","LMPageWhitelistEligibilityStore","LMPermissionsStore","LMPhoneNumberStore","LMPublishingStore","LMQueryLocationStore","LMRowStore","LMSelectAllStore","LMSelectedLocationIDsStore","LMSetupWizardStore","LMSidebarStore","LMUploadLocationsStore","LMVanityNameStore"],(function(a,b,c,d,e,f){"use strict";a=[b("LMBulkEditableBusinessLocationStore"),b("LMChildCountStore"),b("LMChildPageFastFieldsStore"),b("LMChildPageSlowFieldsStore"),b("LMChoosePageToClaimStore"),b("LMColumnEditStore"),b("LMColumnStore"),b("LMConfigStore"),b("LMCoreNavStore"),b("LMEditedLocationIDsStore"),b("LMEditedLocationsStore"),b("LMErrorSpecStore"),b("LMFilterLocationsStore"),b("LMGeoCodingStore"),b("LMImportMenuStore"),b("LMImportStatusStore"),b("LMKeyboardShortcutsModalStore"),b("LMKeyboardStore"),b("LMKeyboardStore"),b("LMLastPublishingOperationStore"),b("LMLocationHasRunningAdsStore"),b("LMMaxStoreNumberStore"),b("LMNuxStore"),b("LMOwnedPageStore"),b("LMPageSelectorStore"),b("LMPageSettingsStore"),b("LMPageWhitelistEligibilityStore"),b("LMPermissionsStore"),b("LMPhoneNumberStore"),b("LMPublishingStore"),b("LMQueryLocationStore"),b("LMRowStore"),b("LMSelectAllStore"),b("LMSelectedLocationIDsStore"),b("LMSetupWizardStore"),b("LMSidebarStore"),b("LMUploadLocationsStore"),b("LMVanityNameStore")];e.exports={LIST:a}}),null);
__d("LMUploadLocationsActionCreators",["LMActions","LMImportStatusDataManager","LMUploadConstants","LMUploadLocationsStore","LMUploadLocationsUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromServerResponse,h=b("LMActions").dispatchActionFromView;function a(){h({type:"lm.upload_locations.open_upload"})}function c(a,c){__p&&__p();h({type:"lm.upload_locations.chosen_file",parentPageID:a});var d=!1,e=b("LMUploadLocationsStore").addListener(function(){b("LMUploadLocationsStore").getUploadStatusStage(a)!==b("LMUploadConstants").UPLOADING_FILE&&(d=!0)});b("promiseDone")(b("LMUploadLocationsUtils").uploadExcel(a,c,function(b){if(d)return;g({type:"lm.upload_locations.upload_progress",parentPageID:a,progressPercentage:b})}),function(b){__p&&__p();e.remove();if(d)return;switch(b.type){case"COLUMN_ERRORS":g({type:"lm.upload_locations.upload_complete_with_column_errors",parentPageID:a,missingColumns:b.missingColumns,invalidHeaders:b.invalidHeaders,duplicateColumns:b.duplicateColumns});break;case"ROW_ERRORS":g({type:"lm.upload_locations.upload_complete_with_row_errors",parentPageID:a,sid:b.sid,totalRowCount:b.totalRowCount,errorRowCount:b.errorRowCount,errorDownloadUrl:b.errorDownloadUrl});break;case"ERROR":g({type:"lm.upload_locations.error_uploading_file",parentPageID:a,fileUploadError:b.error});break;case"SUCCESS":g({type:"lm.upload_locations.upload_complete_success",parentPageID:a,sid:b.sid,totalRowCount:b.totalRowCount});break}},function(b){e.remove();if(d)return;g({type:"lm.upload_locations.error_uploading_file",parentPageID:a,fileUploadError:b.message})})}function d(a,c,d){h({type:"lm.upload_locations.confirm_upload",parentPageID:a,totalLocations:d}),b("promiseDone")(b("LMUploadLocationsUtils").beginImport(c),function(){b("LMImportStatusDataManager").load(a)})}e.exports={onConfirmImport:d,onFileSelected:c,onOpenUpload:a}}),null);
__d("LMEmployeeInternSwitchNotice.react",["cx","fbt","CurrentUser","FDSLink.react","LMEnvironment","React","SUINotice.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.permissions.getValue();return this.props.environment===b("LMEnvironment").INTERN||!b("CurrentUser").isEmployee()||a==null||a.roles.length>0?null:b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("SUINotice.react"),{type:"warning"},h._("[FB only] Looks like you're an employee using Business Location Manager. Employees should use Internal Location Manager for managing client pages.")," ",b("React").createElement(b("FDSLink.react"),{href:"https://our.intern.facebook.com/intern/pages/locations/"},h._("Switch to internal location manager."))))};return c}(b("React").Component);e.exports=a}),null);
__d("LMHealthCheckStatsUtils",["LocationsHealthCheck"],(function(a,b,c,d,e,f){function a(a){return a.reduce(function(a,c){return c.health_check===b("LocationsHealthCheck").DUPLICATE_LOCATION?a+c.checked_count:a},0)}function c(a){return a.reduce(function(a,b){return a+b.unhealthy_count},0)}e.exports={getTotalIssueCount:c,getTotalStoreCount:a}}),null);
__d("LMPageInformationCard.react",["cssVar","fbt","AdsLoadObjectUtils","FDSText.react","FlexLayout.react","Image.react","LMHealthCheckStatsUtils","React","loadObjectComponent","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LMHealthCheckStatsUtils").getTotalIssueCount,j=b("LMHealthCheckStatsUtils").getTotalStoreCount,k=b("loadObjectComponent")({loading:function(){return null},loaded:function(a){var c=a[0];a=a[1];var d=i(c);c=j(c);return b("React").createElement(b("FlexLayout.react"),{className:"_3-98",direction:"horizontal"},b("React").createElement(b("Image.react"),{height:40,src:a.picture.data.url,style:{borderRadius:"4px",border:"1px solid #DADDE1"},width:40}),b("React").createElement(b("FlexLayout.react"),{className:"_3-9a",direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-94",size:"header4",weight:"bold"},a.name),b("React").createElement(b("FlexLayout.react"),{align:"center",direction:"horizontal",justify:"center"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body2"},h._({"*":"{number} stores","_1":"1 store"},[h._plural(c,"number")])),b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-8r",size:"body2"},"\u2022"),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body2"},h._({"*":"{number} issues","_1":"1 issue"},[h._plural(d,"number")])))))},error:function(a){return null}});function a(a){return b("React").createElement(k,{object:b("AdsLoadObjectUtils").all([a.healthSummary,a.pageInformation])})}e.exports=a}),null);
__d("LMTabHeader.react",["cx","FDSText.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.description,d=a.rightColumnContent,e=a.subTitle;a=a.title;return b("React").createElement(b("Layout.react"),{className:"_6q1c"},b("React").createElement(b("LayoutFillColumn.react"),null,e!=null?b("React").createElement(b("FDSText.react"),{color:"highlight",display:"block",size:"body3"},e):null,b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"header1"},a),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8y",size:"body1"},c)),b("React").createElement(b("LayoutColumn.react"),{className:"_6q1d"}),b("React").createElement(b("LayoutColumn.react"),{className:"_6pzm"},d))}e.exports=a}),null);
__d("LMHomeTabHeader.react",["fbt","Layout.react","LMPageInformationCard.react","LMTabHeader.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("Layout.react"),null,b("React").createElement(b("LMTabHeader.react"),{description:g._("Make sure that people see accurate information about your stores in store traffic ads and search results on Facebook and Instagram. If you don't provide the correct store details, you might miss out on visits and sales."),title:g._("Manage Your Store Details")}),b("React").createElement(b("LMPageInformationCard.react"),{healthSummary:a.healthSummary,pageInformation:a.pageInformation}))}e.exports=a}),null);
__d("LMAddLocationsButton.react",["ix","fbt","FDSButton.react","Image.react","LMUtils","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("LMUtils").applySTORenaming;function a(a){return b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("394279")}),isDisabled:a.isDisabled,label:i(h._("Add Locations"),h._("Add Stores")),tooltip:a.isDisabled?i(h._("You don't have permission to add new locations."),h._("You don't have permission to add new stores.")):null,use:"special",onClick:a.onClick})}e.exports=a}),null);
__d("LMAddStoresButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.isDisabled?g("492650"):g("541612");return b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:c}),isDisabled:a.isDisabled,label:h._("Add Stores"),size:"large",tooltip:a.isDisabled?h._("You don't have permissions to add new stores."):null,onClick:a.onClick})}e.exports=a}),null);
__d("LMAddLocationsButtonContainer.react",["FluxContainer","LMActions","LMAddLocationsButton.react","LMAddStoresButton.react","LMChildCountStore","LMConfigStore","LMPermissionsStore","LMSelectAllStore","LMTabs","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMChildCountStore"),b("LMConfigStore"),b("LMPermissionsStore"),b("LMSelectAllStore")]}function c(){var a=b("LMConfigStore").getState(),c=a.parentPageID;a=a.tab;if(c==null)return{isDisabled:!0,tab:a};var d=b("LMPermissionsStore").get(c).getValue();d=d==null||!d.canEdit||b("LMChildCountStore").get(c).getValue()==null||b("LMSelectAllStore").getFor(c).isLoading();return{isDisabled:d,tab:a}}function g(){b("LMActions").dispatchActionFromView({type:"lm.import_menu.toggle"})}function h(){b("LMActions").dispatchActionFromView({type:"lm.tabs.click_tab",tab:b("LMTabs").LOCATIONS}),b("LMActions").dispatchActionFromView({type:"lm.import_menu.open"})}function d(a){switch(a.tab){case b("LMTabs").HOME:return b("React").createElement(b("LMAddStoresButton.react"),{isDisabled:a.isDisabled,onClick:h});default:return b("React").createElement(b("LMAddLocationsButton.react"),{isDisabled:a.isDisabled,onClick:g})}}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMHomeTabEmptyState.react",["ix","cx","fbt","FDSText.react","FlexLayout.react","Image.react","LMAddLocationsButtonContainer.react","React","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){return b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_7k95",direction:"vertical",justify:"center"},b("React").createElement(b("Image.react"),{src:g("550109")}),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8z _3-96"},i._({"*":"Your {number} stores are looking good","_1":"Your 1 store is looking good"},[i._plural(a.healthyStoreCount,"number")])),b("React").createElement(b("LMAddLocationsButtonContainer.react"),null))}e.exports=a}),null);
__d("LMLocationHealthCheckUnhealthyLocationsStateSelector",["AdsLocationHealthUnhealthyLocationsDataProvider","LMLocationSetCreateDialogSelectors","LoadObject","UnhealthyLocationsRequestKey","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;c=b("adsCreateSelector")([a,b("AdsLocationHealthUnhealthyLocationsDataProvider").toFluxSelector()],function(a,c){return function(d){return{unhealthyLocations:a!=null?c.get(new(b("UnhealthyLocationsRequestKey"))({pageID:a,healthCheck:d.getType()})):b("LoadObject").loading()}}},{name:e.id+".LMLocationHealthCheckUnhealthyLocationsStateSelector"});e.exports=c}),null);
__d("LMLocationHealthLocationsSummaryFooter.react",["cx","fbt","FDSLink.react","FDSText.react","Image.react","LMLocationHealthModalUpdateStateDataAction","LMLocationHealthUtils","LMLoggingUtils","LocalDate","LocationsHealthCheck","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").List;function j(a,c){switch(c){case b("LocationsHealthCheck").INNACURATE_PIN:return a.filter(function(a){return a.local_state.pin_alarmclock_status==="active"});default:return i()}}function k(a){__p&&__p();if(a.unhealthyLocations.size===0)return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{className:"_7aey",src:b("LMLocationHealthUtils").getIcon("check")}),b("React").createElement("div",{className:"_7aez"},b("React").createElement(b("FDSText.react"),{weight:"bold"},h._("All done"))));var c=j(a.unhealthyLocations,a.pluginType);if(c.size>0){var d=c.first().get("suggestions");if(d!=null){d=d.get("pinScheduledUpdateTime");if(d!=null){d=b("LocalDate").fromISOString(d);var e=b("LocalDate").today(1);if(d.isAfter(e)){d=d.daysBetween(e);return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{className:"_7aey",src:b("LMLocationHealthUtils").getIcon("notify")}),b("React").createElement("div",{className:"_7aez"},b("React").createElement(b("FDSText.react"),{weight:"bold"},h._({"*":{"*":{"*":{"*":" The map pins for {numAlarmClocks} stores will be updated to more accurate positions in {number} days.","_1":" The map pins for {numAlarmClocks} stores will be updated to more accurate positions in 1 day."}}},"_1":{"_1":{"_1":{"*":" The map pin for {numAlarmClocks} store will be updated to a more accurate position in {number} days.","_1":" The map pin for {numAlarmClocks} store will be updated to a more accurate position in 1 day."}}}},[h._plural(c.size),h._param("numAlarmClocks",c.size),h._plural(c.size),h._plural(c.size),h._plural(d,"number")]))))}}}}return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{className:"_7aey",src:b("LMLocationHealthUtils").getIcon(a.iconType)}),b("React").createElement("div",{className:"_7aez"},b("React").createElement(b("FDSText.react"),{weight:"bold"},h._({"*":"{number} stores","_1":"1 store"},[h._plural(a.unhealthyLocations.size,"number")]))))}function l(a){if(a.unhealthyLocationsCount===0&&a.bulkEditActionText!=null)return b("React").createElement("div",{className:"_7ae-"},b("React").createElement(b("FDSLink.react"),{onClick:a.onBulkEditActionClick},a.bulkEditActionText));return a.bulkActionText!=null&&a.hasActionSection&&a.unhealthyLocationsCount>0?b("React").createElement("div",{className:"_7ae-"},b("React").createElement(b("FDSLink.react"),{onClick:a.onBulkActionClick},a.bulkActionText)):null}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.filteredUnhealthyLocations.filter(function(a){return a.get("status")!=="loading"&&a.get("status")!=="success"});b("LMLocationHealthModalUpdateStateDataAction").dispatch({updates:{currentlyEditing:a,healthCheckType:d.props.plugin.getType(),isOpen:!0}},{line:"231",module:"LMLocationHealthLocationsSummaryFooter.react.js"});a.count()>0&&b("LMLoggingUtils").logHealthAction("open_action_section_bulk",d.props.plugin.getType(),a.first().get("parent_page_id"))},d.$2=function(){b("LMLocationHealthModalUpdateStateDataAction").dispatch({updates:{currentlyEditing:d.props.allUnhealthyLocations,healthCheckType:d.props.plugin.getType(),isOpen:!0}},{line:"249",module:"LMLocationHealthLocationsSummaryFooter.react.js"}),b("LMLoggingUtils").logHealthAction("open_edit_action_section_bulk",d.props.plugin.getType(),d.props.allUnhealthyLocations.first().get("parent_page_id"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=j(this.props.filteredUnhealthyLocations,this.props.plugin.getType());return b("React").createElement("div",{className:"_7aex"+(a.size>0?" _86jp":"")},b("React").createElement(k,{iconType:this.props.iconType,pluginType:this.props.plugin.getType(),unhealthyLocations:this.props.filteredUnhealthyLocations}),b("React").createElement(l,{bulkActionText:this.props.plugin.getBulkActionText(a.size,this.props.filteredUnhealthyLocations.size),bulkEditActionText:this.props.plugin.getBulkEditActionText(),hasActionSection:this.props.plugin.getHealthCheckActionSection()!=null,unhealthyLocationsCount:this.props.filteredUnhealthyLocations.size,onBulkActionClick:this.$1,onBulkEditActionClick:this.$2}))};return c}(b("React").Component);e.exports=a}),null);
__d("LMLocationHealthCheckUnhealthyLocationsContainer.react",["fbt","AdsLoadObjectUtils","AdsSelectorUtils","FluxContainer","LMExtraRowData","LMLocationHealthCheckUnhealthyLocationsStateSelector","LMLocationHealthErrorNotice.react","LMLocationHealthLocationsSummaryFooter.react","LoadObject","React","ScrollableArea.react","loadObjectComponent","loadObjectComponentWithSpinner","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=5,i=200;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){a=a.plugin.getExtraRowData();return[].concat(b("AdsSelectorUtils").getStores([b("LMLocationHealthCheckUnhealthyLocationsStateSelector")]),a!=null?a.getStores():[])};c.calculateState=function(a,c){a=c.plugin.getExtraRowData();return{mainState:b("LMLocationHealthCheckUnhealthyLocationsStateSelector")()(c.plugin),extraRowData:a!=null?a():b("LoadObject").withValue(new(b("LMExtraRowData"))())}};var d=c.prototype;d.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_3-8z"},b("React").createElement(j,{object:b("AdsLoadObjectUtils").all([this.state.mainState.unhealthyLocations,this.state.extraRowData]),plugin:this.props.plugin})),this.props.plugin.shouldShowStoreCount()?b("React").createElement(k,{object:this.state.mainState.unhealthyLocations,plugin:this.props.plugin}):null,this.props.plugin.getHealthCheckActionSection())};return c}(b("React").PureComponent);var j=b("loadObjectComponentWithSpinner")({loaded:function(a,c){var d=a[0];a=a[1];return b("React").createElement(b("ScrollableArea.react"),{height:d.size>h?i:null},c.plugin.renderSummaryRows(d,a))},error:function(a){return b("React").createElement(l,{error:a})}}),k=b("loadObjectComponent")({loading:function(){return null},loaded:function(a,c){return b("React").createElement(b("LMLocationHealthLocationsSummaryFooter.react"),{allUnhealthyLocations:a,filteredUnhealthyLocations:a.filter(function(a){return a.get("status")!=="success"}),iconType:"warning",plugin:c.plugin})},error:function(a){return b("React").createElement(l,{error:a})}});function l(a){return b("React").createElement(b("LMLocationHealthErrorNotice.react"),{error:a.error,errorHeader:g._("Error loading data"),errorMessage:g._("We couldn't load the list of unhealthy locations due to the following error: {error value}",[g._param("error value",a.error.message)])})}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LMLocationHealthCheckCard.react",["ix","cx","FDSText.react","Image.react","LMLocationHealthCheckUnhealthyLocationsContainer.react","LMLocationsHealthCheckPluginResolver","LMLoggingUtils","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isExpanded:!1,isHighlighted:!1},d.$3=function(){d.setState({isHighlighted:!0})},d.$4=function(){d.setState({isHighlighted:!1})},d.$2=function(){d.setState(function(a){return{isExpanded:!a.isExpanded}},function(){return b("LMLoggingUtils").logHealthAction(d.state.isExpanded?"card_expanded":"card_collapsed",d.props.healthCheckSummary.health_check,d.props.parentPageID)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("LMLocationsHealthCheckPluginResolver").resolve(this.props.healthCheckSummary.health_check);return a==null?null:b("React").createElement("div",{className:"_7aed"},b("React").createElement("div",{className:"_7aee"},b("React").createElement("div",{className:"_7aef"},b("React").createElement(b("FDSText.react"),{display:"block",size:"header3",weight:"bold"},a.getHeader(this.props.healthCheckSummary.unhealthy_count)),b("React").createElement("div",{className:"_7cmt"},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body2"},a.getDescription()))),b("React").createElement(b("Image.react"),{className:"_7aeg",src:this.$1(),onClick:this.$2,onMouseEnter:this.$3,onMouseLeave:this.$4})),this.state.isExpanded?b("React").createElement(b("LMLocationHealthCheckUnhealthyLocationsContainer.react"),{plugin:a}):null)};d.$1=function(){return this.state.isExpanded?this.state.isHighlighted?g("725045"):g("546683"):this.state.isHighlighted?g("541285"):g("494102")};d.componentDidMount=function(){var a=b("LMLocationsHealthCheckPluginResolver").resolve(this.props.healthCheckSummary.health_check);a!=null&&b("LMLoggingUtils").logHealthAction("render_card",a.getType(),this.props.parentPageID)};return c}(b("React").Component);e.exports=a}),null);
__d("LMLocationHealthOverview.react",["fbt","LMHealthCheckStatsUtils","LMHomeTabEmptyState.react","LMLocationHealthCheckCard.react","LMLocationHealthErrorNotice.react","LMLocationsHealthCheckPluginResolver","LMLoggingUtils","React","loadObjectComponentWithSpinner"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMHealthCheckStatsUtils").getTotalStoreCount,i=b("loadObjectComponentWithSpinner")({loaded:function(a,c){var d=a.filter(function(a){return a.unhealthy_count>0});if(d.count()===0){b("LMLoggingUtils").logAction("render_empty_overview");return b("React").createElement(b("LMHomeTabEmptyState.react"),{healthyStoreCount:h(a)})}return b("React").createElement(b("React").Fragment,null,d.sort(function(a,b){return c.healthChecksOrder.get(a.health_check)-c.healthChecksOrder.get(b.health_check)}).map(function(a){return b("React").createElement(b("LMLocationHealthCheckCard.react"),{healthCheckSummary:a,key:a.health_check,parentPageID:c.parentPageID})}))},error:function(a){return b("React").createElement(b("LMLocationHealthErrorNotice.react"),{error:a,errorHeader:g._("Error")})}});function a(a){return b("React").createElement(i,{healthChecksOrder:b("LMLocationsHealthCheckPluginResolver").getHealthChecksOrder(),object:a.healthSummary,parentPageID:a.parentPageID})}e.exports=a}),null);
__d("LMHomeTab.react",["cx","FDSDivider.react","LMHomeTabHeader.react","LMLocationHealthOverview.react","React","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_6q1b"},b("React").createElement("div",{className:"_6pzl"},b("React").createElement(b("LMHomeTabHeader.react"),{healthSummary:a.healthSummary,pageInformation:a.pageInformation}),b("React").createElement(b("FDSDivider.react"),{margin:"_5soe _20nr"}),b("React").createElement(b("LMLocationHealthOverview.react"),{healthSummary:a.healthSummary,parentPageID:a.parentPageID})))}e.exports=a}),null);
__d("LMHomeTabStateSelector",["AdsLocationHealthPageInformationDataProvider","AdsLocationHealthSummaryDataProvider","LMLocationSetCreateDialogSelectors","LoadObject","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;c=b("adsCreateSelector")([a,b("AdsLocationHealthSummaryDataProvider").toFluxSelector(),b("AdsLocationHealthPageInformationDataProvider").toFluxSelector()],function(a,c,d){return{parentPageID:a,healthSummary:a==null?b("LoadObject").loading():c.get(a),pageInformation:a==null?b("LoadObject").loading():d.get(a)}},{name:e.id+".LMHomeTabStateSelector"});e.exports=c}),null);
__d("LMHomeTabContainer.react",["AdsSelectorUtils","FluxContainer","LMHomeTab.react","LMHomeTabStateSelector","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("AdsSelectorUtils").getStores([b("LMHomeTabStateSelector")])};c.calculateState=function(){return b("LMHomeTabStateSelector")()};var d=c.prototype;d.render=function(){var a=this.state,c=a.healthSummary,d=a.parentPageID;a=a.pageInformation;return b("React").createElement(b("LMHomeTab.react"),{healthSummary:c,pageInformation:a,parentPageID:d})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMLocationSetDialogAdAccountSelector",["fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","React","loadObjectComponentWithSpinner"],(function(a,b,c,d,e,f,g){"use strict";var h=b("loadObjectComponentWithSpinner")({empty:function(){return null},loaded:function(a,c){return c.activeAdAccountID.hasValue()?b("React").createElement(b("FDSDropdownSelector.react"),{maxWidth:320,value:c.activeAdAccountID.getValueEnforcing(),onChange:c.onAdAccountChange},a.map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a.account_id,value:a.account_id},g._("{ac_account_name} ({ad_account_id})",[g._param("ac_account_name",a.name),g._param("ad_account_id",a.account_id)]))})):null},error:function(a){return b("React").createElement(b("FDSGuidanceCard.react"),{category:"error"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,null),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,a.message)))}});function a(a){return b("React").createElement(h,{activeAdAccountID:a.activeAdAccountID,object:a.adAccounts,onAdAccountChange:a.onAdAccountChange})}e.exports=a}),null);
__d("LMLocationSetsContent.react",["cx","fbt","AdsAPIObjectives","AdsCCCategory","AdsCMPageValues","AdsCMURLParams","AdsStaticGuidanceCard.react","FDSButton.react","FDSTable.react","FDSTableColumn.react","FDSTableIndicatorCell.react","FDSTableSubtitleCell.react","React","SUITableAbstractCell.react","SUITableTextCell.react","XAdsCMController","gkx","immutable","loadObjectComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={labels:[h._("Set name"),h._("Last updated"),h._("Country"),h._("Stores"),h._("Status"),b("gkx")("677891")?[h._("Action")]:[]]};a=function(a){return b("React").createElement(b("SUITableTextCell.react"),{content:a.item.labels[a.columnIndex],height:32})};c=function(a){return function(c){return b("React").createElement(b("SUITableTextCell.react"),{content:c.item[a],height:c.rowHeight})}};d=c("country");f=c("num_locations");g=function(a){return a.item.isActive===!0?b("React").createElement(b("FDSTableIndicatorCell.react"),{fill:"filled",height:a.rowHeight,label:h._("Active campaigns"),status:"active"}):b("React").createElement(b("FDSTableIndicatorCell.react"),{fill:"filled",height:a.rowHeight,label:h._("Ready for use"),status:"inactive"})};c=function(a){return b("React").createElement(b("SUITableTextCell.react"),{content:a.item.created_on!=null?a.item.created_on:h._("Unavailable"),height:a.rowHeight})};var j=function(a){return b("React").createElement(b("FDSTableSubtitleCell.react"),{align:"left",height:a.rowHeight,subtitle:null,title:a.item.location_set_name})},k=function(a){return b("React").createElement(b("SUITableAbstractCell.react"),{content:b("React").createElement(b("FDSButton.react"),{href:b("XAdsCMController").getURIBuilder().setEnum(b("AdsCMURLParams").PAGE,b("AdsCMPageValues").CREATION_PAGE).setInt(b("AdsCMURLParams").ACCOUNT_ID,a.item.selected_ad_account_id).setString(b("AdsCMURLParams").OBJECTIVE,b("AdsAPIObjectives").STORE_VISITS).setFBID(b("AdsCMURLParams").PAGE_SET_ID,a.item.page_set_id).getURI(),label:h._("Create Ad"),target:"_blank"}),hasBorders:!1,height:a.rowHeight,isModified:!1})},l=[b("React").createElement(b("FDSTableColumn.react"),{cell:j,header:a,key:"set_name",width:b("gkx")("677891")?330:440}),b("React").createElement(b("FDSTableColumn.react"),{cell:c,header:a,key:"last_updated",width:160}),b("React").createElement(b("FDSTableColumn.react"),{cell:d,header:a,key:"country",width:140}),b("React").createElement(b("FDSTableColumn.react"),{cell:f,header:a,key:"stores",width:100}),b("React").createElement(b("FDSTableColumn.react"),{cell:g,header:a,key:"status",width:140}),b("gkx")("677891")?[b("React").createElement(b("FDSTableColumn.react"),{cell:k,header:a,width:110})]:[]];function m(a){return b("React").createElement(b("FDSTable.react"),{borders:"all",headerProps:{item:i,height:32},isBodyLoading:a.isBodyLoading,items:a.items,maxHeight:500,rowHeight:50},l)}m.defaultProps={isBodyLoading:!1};function n(a){a=h._("{error_message}",[h._param("error_message",a.message)]);return b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"error_loading_pagesets",textData:[{type:"PARAGRAPH",data:{text:a}}]}})}var o=b("loadObjectComponent")({empty:function(){return null},error:function(a){return b("React").createElement(n,{message:a.message})},loading:function(){return b("React").createElement(m,{isBodyLoading:!0,items:b("immutable").List()})},loaded:function(a,c){c=c.search;if(a.size===0)return b("React").createElement("div",{className:"_6q1k"},h._("You haven't created any location sets yet."));else{var d=c.toLowerCase();c=a.filter(function(a){return a.location_set_name.toLowerCase().match(d)||a.country.toLowerCase().match(d)});return b("React").createElement(m,{items:c})}}});e.exports=function(a){var c=a.items;a=a.search;return b("React").createElement(o,{object:c,search:a})}}),null);
__d("LMLocationSetsTabSelectors",["AdsLoadObjectUtils","AdsLocationPageIDsAndRoot","AdsNewLocationTargetingPageSetsUtils","AdsNewLocationTargetingSelectors","AdsNewLocationTargetingSummaryUtils","LMLocationHasRunningAdsStore","LMLocationSetCreateDialogSelectors","LMLocationSetsTabStateProvider","LoadObject","adsCreateSelector","adsCreateStoreThunkSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsNewLocationTargetingPageSetsUtils").getAllPageSetsForTable,h=b("AdsNewLocationTargetingPageSetsUtils").getCountryLabel,i=b("AdsNewLocationTargetingPageSetsUtils").getCreatedAtLabel,j=b("AdsNewLocationTargetingPageSetsUtils").getLocationCountLabel,k=b("AdsNewLocationTargetingPageSetsUtils").getLocationMetadata;a=b("AdsNewLocationTargetingPageSetsUtils").getPageSetsCountry;c=b("AdsNewLocationTargetingPageSetsUtils").getPageSetsPageLevelCountries;var l=b("AdsNewLocationTargetingPageSetsUtils").hasCampaignRunning;d=b("AdsNewLocationTargetingSelectors").adsPageCountryStoreSelector;f=b("AdsNewLocationTargetingSelectors").adsPageSetCountryStoreSelector;var m=b("AdsNewLocationTargetingSelectors").adsPageSetStoreSelector,n=b("AdsNewLocationTargetingSelectors").getPageSetKey,o=b("AdsNewLocationTargetingSummaryUtils").getTargetingAreaLabel,p=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;m=b("adsCreateSelector")([p,b("LMLocationSetsTabStateProvider").toFluxSelector(),m],function(a,c,d){c=c.selectedAdAccountID;return a==null?b("LoadObject").empty():c.match({loading:function(){return b("LoadObject").loading()},error:function(){return b("LoadObject").empty()},loaded:function(b){return d(n(a,b))}})},{name:e.id});var q=b("adsCreateStoreThunkSelector")(b("LMLocationHasRunningAdsStore"),function(a){return b("LMLocationHasRunningAdsStore").get(a)});q=b("adsCreateSelector")([m,q],function(a,c){return a.match({empty:function(){return b("LoadObject").empty()},loading:function(){return b("LoadObject").loading()},error:function(a){return b("LoadObject").withError(a)},loaded:function(a){return b("AdsLoadObjectUtils").allByKey(b("immutable").Map(a.map(function(a){return[a.id,c(new(b("AdsLocationPageIDsAndRoot"))({page_set_id:a.id}))]})))}})},{name:e.id});var r=b("adsCreateSelector")([m,q],function(a,c){return b("AdsLoadObjectUtils").all([a,c]).map(function(a){var c=a[0];a=a[1];return b("immutable").OrderedMap(g(c,a).map(function(a){return[a.id,a]}))})},{name:e.id});f=b("adsCreateSelector")([r,f],a,{name:e.id});a=b("adsCreateSelector")([p,d],function(a,c){return a!=null?c(a):b("LoadObject").empty()},{name:e.id});p=b("adsCreateSelector")([f,a],c,{name:e.id});d=b("adsCreateSelector")([b("LMLocationSetsTabStateProvider").toFluxSelector(),r,p,q],function(a,c,d,e){a=a.selectedAdAccountID;return b("AdsLoadObjectUtils").all([a,c,d,e]).map(function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return c.filter(function(a,b){return a.name!=null&&a.pages_count!=null&&a.pages_count>0}).map(function(a,c){return{isActive:l(a,e),country:h(d.get(c)),created_on:i(a),location_set_name:a.name!=null?a.name:"Unavailable",num_locations:j(a,d.get(c)),page_set_id:a.id,selected_ad_account_id:b,targeting_area:o(k(a))}}).toList()})},{name:e.id});e.exports={LMAllPageCountriesSelector:a,LMAllPageSetsSelector:m,LMLocationSetsRowDataSelector:d,LMPageSetPageLevelCountriesSelector:p,LMPageSetsCountrySelector:f,LMPageSetsSelector:r,pageSetsHasRunningAdsSelector:q}}),null);
__d("LMLocationSetsTabContainerStateSelector",["CurrentUser","LMAdAccountsProvider","LMLocationSetCreateDialogSelectors","LMLocationSetsTabSelectors","LMLocationSetsTabStateProvider","adsCreateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;c=b("LMLocationSetsTabSelectors").LMLocationSetsRowDataSelector;d=b("adsCreateSelector")([b("LMAdAccountsProvider").toFluxSelector(),a,b("LMLocationSetsTabStateProvider").toFluxSelector(),c],function(a,c,d,e){d=d.selectedAdAccountID;return{adAccounts:a.get(b("CurrentUser").getAccountID()),items:e,parentPageID:c,selectedAdAccountID:d}},{name:e.id});e.exports=d}),null);
__d("LMLocationSetsTabContainer.react",["cx","fbt","AdsSelectorUtils","FDSDivider.react","FluxContainer","LMLocationSetDialogAdAccountSelector","LMLocationSetsContent.react","LMLocationSetsTabContainerStateSelector","LMLocationSetsTabUpdateStateAction","LoadObject","React","SUISearchInput.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.setState({search:a})},d.$1=function(a){b("LMLocationSetsTabUpdateStateAction").dispatch({updates:{selectedAdAccountID:b("LoadObject").withValue(a)}},{line:"95",module:"LMLocationSetsTabContainer.react.js"}),d.setState({search:""})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([b("LMLocationSetsTabContainerStateSelector")])};c.calculateState=function(a){var c=b("LMLocationSetsTabContainerStateSelector")();c=c.parentPageID;return babelHelpers["extends"]({},b("LMLocationSetsTabContainerStateSelector")(),{search:a!=null&&a.parentPageID!=null&&a.parentPageID===c?a.search:""})};var d=c.prototype;d.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSDivider.react"),{margin:"_5soe _20nr"}),b("React").createElement("div",{className:"_6q1h"},b("React").createElement("div",{className:"_6tug"},b("React").createElement("div",{className:"_6ras"},h._("Ad Account")),b("React").createElement("div",{className:"_6q1i"},b("React").createElement(b("LMLocationSetDialogAdAccountSelector"),{activeAdAccountID:this.state.selectedAdAccountID,adAccounts:this.state.adAccounts,onAdAccountChange:this.$1}))),b("React").createElement(b("SUISearchInput.react"),{placeholder:h._("Search"),value:this.state.search,onChange:this.$2})),b("React").createElement("div",{className:"_4aws"},b("React").createElement(b("LMLocationSetsContent.react"),{items:this.state.items,search:this.state.search})))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMLocationSetsTabHeader.react",["fbt","Layout.react","LMTabHeader.react","LMUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LMUtils").applySTORenaming;function a(){return b("React").createElement(b("Layout.react"),null,b("React").createElement(b("LMTabHeader.react"),{description:h(g._("Reach people who are near your stores and help drive foot traffic by creating a location set, which is a group of business locations in the same country."),g._("Reach people who are near your stores and encourage visits and sales by creating a store set, which is a group of stores in the same country.")),subTitle:h(g._("Create and re-use sets of locations"),g._("Targeting")),title:h(g._("Location Sets"),g._("Store Sets"))}))}e.exports=a}),null);
__d("LMLocationSetsTab.react",["cx","LMLocationSetsTabContainer.react","LMLocationSetsTabHeader.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_6q1b"},b("React").createElement("div",{className:"_6pzl"},b("React").createElement(b("LMLocationSetsTabHeader.react"),null),b("React").createElement(b("LMLocationSetsTabContainer.react"),null)))}e.exports=a}),null);
__d("LMBulkBusinessHoursEditor.react",["AdsUniformValue","BusinessHoursEditor.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.always_open,e=a.permanently_closed;a=a.hours;d.props.onChange({always_open:new(b("AdsUniformValue"))(c),permanently_closed:new(b("AdsUniformValue"))(e),hours:new(b("AdsUniformValue"))(a)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.disabled;a=a.value;var d=a.always_open,e=a.permanently_closed;a=a.hours;return!(d instanceof b("AdsUniformValue"))||!(e instanceof b("AdsUniformValue"))||!(a instanceof b("AdsUniformValue"))?null:b("React").createElement(b("BusinessHoursEditor.react"),{always_open:d.getValue()||!1,disabled:c,hours:a.getValue(),permanently_closed:e.getValue()||!1,onChange:this.$1})};return c}(b("React").Component);e.exports=a}),null);
__d("LMBulkBusinessHoursEditorNew.react",["AdsUniformValue","BusinessHoursEditorNew.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onChange({full_hours:new(b("AdsUniformValue"))(a.full_hours),permanent_status:new(b("AdsUniformValue"))(a.permanent_status)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c=this.props.value,d=c.full_hours;c=c.permanent_status;return!(d instanceof b("AdsUniformValue"))||!(c instanceof b("AdsUniformValue"))?null:b("React").createElement(b("BusinessHoursEditorNew.react"),{disabled:this.props.disabled,errors:this.props.errors,hours:(a=d.getValue())==null?void 0:a.schedule,hoursType:(a=d.getValue())==null?void 0:a.type,permanentStatus:c.getValue(),onChange:this.$1})};return c}(b("React").Component);e.exports=a}),null);
__d("PlaceTopicsSearchSource",["AbstractSearchSource","AdsGraphAPI","GraphAPIPaging","SearchableEntry","SearchSourceQueryStatus","nullthrows","partitionArray","promiseDone","sortBy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){var d=c.toLocaleLowerCase();c=a.filter(function(a){return a.getTitle().toLocaleLowerCase().includes(d)});a=b("partitionArray")(c,function(a){return a.getTitle().toLocaleLowerCase()===d});c=a[0];a=a[1];return c.concat(a)}function h(a){__p&&__p();var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f.name,i=f.id;f=f.fb_page_categories;c.push(new(b("SearchableEntry"))({title:g,uniqueID:i,auxiliaryData:{id:i,name:g}}));f!=null&&(c=c.concat(h(f)))}return c}function i(){return b("AdsGraphAPI").get(e.id).root("fb_page_categories").get({}).then(b("GraphAPIPaging").allPages()).then(function(a){return h(a.data)}).then(function(a){return b("sortBy")(a,function(a){return a.getTitle()})})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$PlaceTopicsSearchSource1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.bootstrapImpl=function(a){this.$PlaceTopicsSearchSource1=i(),b("promiseDone")(this.$PlaceTopicsSearchSource1,a,a)};d.searchImpl=function(a,c){b("promiseDone")(b("nullthrows")(this.$PlaceTopicsSearchSource1),function(d){return c(g(d,a),a,b("SearchSourceQueryStatus").COMPLETE)})};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("LMBulkBusinessPlaceTopicsTokenizer.react",["fbt","AdsEmptyValue","AdsMixedValue","AdsStrings","AdsUniformValue","LoadObject","PlaceTopicsSearchSource","React","SearchableEntry","SUITokenizer.react","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new(b("PlaceTopicsSearchSource"))();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={bootstrap:b("LoadObject").empty()},d.$2=function(a){a=[].concat(d.$3(),[a.getAuxiliaryData()]);d.props.onChange(new(b("AdsUniformValue"))(a))},d.$4=function(a){var c=a.getAuxiliaryData();a=d.$3().filter(function(a){return a.id!==c.id});d.props.onChange(new(b("AdsUniformValue"))(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){var a=this.props.value;return a instanceof b("AdsUniformValue")&&!(a instanceof b("AdsEmptyValue"))?a.getValue():[]};d.$5=function(){return this.$3().map(function(a){return new(b("SearchableEntry"))({title:a.name,uniqueID:a.id,auxiliaryData:a})})};d.$6=function(){if(this.state.bootstrap.isLoading())return g._("Loading place topics...");var a=this.props,c=a.placeholder;a=a.value;return a instanceof b("AdsMixedValue")?b("AdsStrings").MixedValuePlaceholder:c};d.componentWillUnmount=function(){this.$1=!1};d.componentDidMount=function(){var a=this;this.$1=!0;this.setState({bootstrap:b("LoadObject").loading()});b("promiseDone")(h.bootstrap(),function(){a.$1&&a.setState({bootstrap:b("LoadObject").empty()})},function(c){a.$1&&a.setState({bootstrap:b("LoadObject").withError(c)})})};d.$7=function(){return this.state.bootstrap.hasError()?g._("Something went wrong while loading available subcategories. Please try again later."):this.props.xuiError};d.render=function(){var a=this.props,c=a.className;a=a.disabled;return b("React").createElement(b("SUITokenizer.react"),{className:c,entries:this.$5(),errorMessage:this.$7(),isDisabled:a,placeholder:this.$6(),searchSource:h,showEntriesOnFocus:!0,onAddEntry:this.$2,onRemoveEntry:this.$4})};return c}(b("React").Component);e.exports=a}),null);
__d("LMBulkCityTypeahead.react",["cx","AdsEmptyValue","AdsMixedValue","AdsStrings","AdsUniformValue","FBCityTypeahead.react","React","WebAsyncSearchSource","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new(b("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/global_cities.php?use_localized_city_name=1"}]});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onChange(a==null?b("AdsEmptyValue").instance():new(b("AdsUniformValue"))(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.disabled,d=a.value,e=a.placeholder;a=a.xuiError;var f=d instanceof b("AdsUniformValue")?d.getValue():void 0;d=d instanceof b("AdsMixedValue")?b("AdsStrings").MixedValuePlaceholder:e;e=b("gkx")("976333")?h:void 0;return b("React").createElement(b("FBCityTypeahead.react"),{autoComplete:"new-password",className:"_21op",disabled:c,placeHolder:d,searchSource:e,value:f,xuiError:a,onChange:this.$1})};return c}(b("React").Component);e.exports=a}),null);
__d("LMBulkPriceRangeSelector.react",["fbt","AdsBulkSingleSelector.react","AdsUniformValue","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsBulkSingleSelector.react").Option;a=["Unspecified","$","$$","$$$","$$$$"];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onChange(new(b("AdsUniformValue"))(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement(b("AdsBulkSingleSelector.react"),{disabled:this.props.disabled,value:this.props.value,onChange:this.$1},b("React").createElement(h,{value:"Unspecified"},g._("Unspecified")),b("React").createElement(h,{value:"$"},g._("\u00a3")),b("React").createElement(h,{value:"$$"},g._("\u00a3\u00a3")),b("React").createElement(h,{value:"$$$"},g._("\u00a3\u00a3\u00a3")),b("React").createElement(h,{value:"$$$$"},g._("\u00a3\u00a3\u00a3\u00a3")))};return c}(b("React").Component);c.VALID_PRICE_RANGES=a;c.defaultProps={disabled:!1};e.exports=c}),null);
__d("LMBulkTextInput.react",["AdsMixedValue","AdsStrings","AdsUniformValue","FDSTextInput.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.disabled,d=a.value,e=a.placeholder,f=a.xuiError;a=a.onChange;e=d instanceof b("AdsMixedValue")?b("AdsStrings").MixedValuePlaceholder:e;return b("React").createElement(b("FDSTextInput.react"),{autoComplete:"off",errorMessage:f,isDisabled:c!=null?c:!0,label:"",labelIsHidden:!0,placeholder:e,value:g(d),onChange:a})}function g(a){a=a instanceof b("AdsUniformValue")?a.getValue():null;if(a!=null&&typeof a==="string")return a;else return""}e.exports=a}),null);
__d("LMReviewSelector.react",["fbt","AdsBulkValueUtils","AdsStrings","AdsUniformValue","FDSRadioList.react","FDSRadioListItem.react","FDSText.react","LMUtils","React","SUIFormRow.react","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMUtils").applySTORenaming;function a(a){var c=function(b){a.onChange(b==="eligible")};if(a.value instanceof b("AdsUniformValue")&&a.value.getValue()==null)return null;var d=b("AdsBulkValueUtils").getUniformValue(a.value,null),e;d!=null?e=d===!0?"eligible":"ineligible":e="mixed";return b("React").createElement(b("SUIFormRow.react"),{label:g._("Reviews"),labelAlign:"top"},b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSRadioList.react"),{size:"medium",value:e,onChange:c},i(a.disabled,d)),b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-8w",size:"body3"},h(g._("If you disable user reviews, these locations will not have a rating and will no longer display existing reviews."),g._("If you disable user reviews, this store won't have a rating and the store Page will no longer display existing reviews.")))))}function i(a,c){a=[b("React").createElement(b("FDSRadioListItem.react"),{isDisabled:a,key:"eligible",label:g._("Enabled"),value:"eligible"}),b("React").createElement(b("FDSRadioListItem.react"),{isDisabled:a,key:"ineligible",label:g._("Disabled"),value:"ineligible"})];c==null&&a.push(b("React").createElement(b("FDSRadioListItem.react"),{isDisabled:!0,key:"mixed",label:b("AdsStrings").MixedValuePlaceholder,value:"mixed"}));return a}e.exports=a}),null);
__d("LMBulkBusinessLocationEditorForm.react",["cx","fbt","AdsBulkValueUtils","AdsEmptyValue","AdsMixedValue","AdsUniformValue","City","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSSection.react","FDSText.react","GeoCoordinates","Link.react","LMBulkBusinessHoursEditor.react","LMBulkBusinessHoursEditorNew.react","LMBulkBusinessPlaceTopicsTokenizer.react","LMBulkCityTypeahead.react","LMBulkPriceRangeSelector.react","LMBulkTextInput.react","LMBulkUtils","LMGeoLocationEditor.react","LMReviewSelector.react","LMUtils","React","SUIFormRow.react","areEqual","gkx","suiMargin","zipWith"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LMUtils").applySTORenaming;a=b("React").Component;function j(a){a=a.location;a=a!==null&&a.is_visible_only_in_ads!==null&&a.is_visible_only_in_ads.getValues()[0]||!1;return a?b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("FDSGuidanceCard.react"),{category:"warning"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,null),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,h._("This page is only visible in ads. Pages that aren't visible to end-users will never become eligible for store visit reporting. To make your page visible, export your locations, change \"Y\" to \"N\" in the \"Visible only in ads\" column and re-upload the spreadshsheet."))))):null}var k=function(a){a=a.title;return b("React").createElement(b("SUIFormRow.react"),null,b("React").createElement(b("FDSText.react"),{size:"header3",weight:"bold"},a))};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$16=function(a){var c=parseInt(a,10);c=String(c)===a?c:a;d.props.onChange(d.props.location.set("store_number",new(b("AdsUniformValue"))(c)))},d.$17=function(a){d.props.onChange(d.props.location.set("name",new(b("AdsUniformValue"))(a)))},d.$18=function(a){d.props.onChange(d.props.location.set("store_code",new(b("AdsUniformValue"))(a)))},d.$19=function(a){d.props.onChange(d.props.location.set("geo_location",d.props.location.geo_location.set("latitude",new(b("AdsUniformValue"))(a.latitude)).set("longitude",new(b("AdsUniformValue"))(a.longitude))))},d.$20=function(a){d.props.onChange(d.props.location.set("store_location_descriptor",new(b("AdsUniformValue"))(a)))},d.$21=function(){d.props.onChange(d.props.location.set("store_location_descriptor",d.props.location.store_location_descriptor_autogenerated))},d.$23=function(a){d.props.onChange(d.props.location.set("phone",new(b("AdsUniformValue"))(a)))},d.$24=function(a){d.props.onChange(d.props.location.set("price_range",a))},d.$25=function(a){d.props.onChange(d.props.location.set("page_username",new(b("AdsUniformValue"))(a===""?void 0:a)))},d.$26=function(a){d.props.onChange(d.props.location.set("geo_location",d.props.location.geo_location.set("street",new(b("AdsUniformValue"))(a))))},d.$28=function(a){d.props.onChange(d.props.location.set("geo_location",d.props.location.geo_location.set("zip",new(b("AdsUniformValue"))(a))))},d.$29=function(a){a=a.getValue();d.props.onChange(d.props.location.set("geo_location",d.props.location.geo_location.set("city_id",a!=null?new(b("AdsUniformValue"))(parseInt(a.key,10)):b("AdsEmptyValue").instance()).set("city",new(b("AdsUniformValue"))(a!=null?a.name:""))))},d.$31=function(a){d.props.onChange(d.props.location.set("place_topics",a))},d.$32=function(a){d.props.onChange(d.props.location.set("always_open",a.always_open).set("permanently_closed",a.permanently_closed).set("hours",a.hours))},d.$33=function(a){d.props.onChange(d.props.location.set("permanent_status",a.permanent_status).set("full_hours",a.full_hours))},d.$34=function(a){d.props.onChange(d.props.location.set("is_review_eligible",new(b("AdsUniformValue"))(a)))},d.$35=function(a){d.props.onChange(d.props.location.set("wifi_information_name",new(b("AdsUniformValue"))(a)))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_2pi5 _2o1m"},b("React").createElement(j,{location:this.props.location}),b("React").createElement(b("FDSSection.react"),null,b("React").createElement(k,{title:i(h._("Location Information"),h._("Store Information"))}),this.$1(),this.$2(),this.$3(),this.$4(),this.$5(),this.$6(),this.$7(),this.$8(),this.$9(),this.$10()),b("React").createElement(b("FDSSection.react"),null,b("React").createElement(k,{title:h._("Page Information")}),this.$11(),this.$12(),this.$13()),b("React").createElement(b("FDSSection.react"),null,b("React").createElement(k,{title:h._("Business Information")}),this.$14(),this.$15()))};d.$1=function(){return b("React").createElement(b("SUIFormRow.react"),{helpMessage:i(h._("Your location Pages must have the same name as the main Page. This indicates that each location is part of the same business."),h._("Store Pages must have the same name as your main Page to show that they're part of the same business.")),label:h._("Name")},b("React").createElement(b("LMBulkTextInput.react"),{disabled:!0,placeholder:h._("Enter Page name"),value:this.props.location.name.map(String),onChange:this.$17}))};d.$2=function(){var a=i(h._("Enter a unique number for this location so it's easier to identify. It must be a positive whole number with fewer than 10 digits."),h._("Choose a unique number to help you identify your store. The number must be fewer than 10 digits.")),c=i(h._("Store Number"),h._("Store ID"));return b("React").createElement(b("SUIFormRow.react"),{helpMessage:a,label:c},b("React").createElement(b("LMBulkTextInput.react"),{disabled:this.props.disabled||this.props.location.store_number instanceof b("AdsMixedValue"),placeholder:h._("Enter your unique store number"),value:this.props.location.store_number.map(String),xuiError:this.props.errorSpec.store_number.getValue(),onChange:this.$16}))};d.$3=function(){if(!this.props.isStoreCodeVisible)return null;var a=h._("Enter a unique code for this location so it's easy to identify."),c=h._("Store Code");return b("React").createElement(b("SUIFormRow.react"),{helpMessage:a,label:c},b("React").createElement(b("LMBulkTextInput.react"),{disabled:this.props.disabled||this.props.location.store_code instanceof b("AdsMixedValue"),placeholder:h._("Enter your unique store code"),value:this.props.location.store_code,xuiError:this.props.errorSpec.store_code.getValue(),onChange:this.$18}))};d.$10=function(){var a=this.props.location.geo_location,c=a.latitude;a=a.longitude;c=b("AdsBulkValueUtils").getUniformValue(c,null);a=b("AdsBulkValueUtils").getUniformValue(a,null);c=c!=null&&a!=null?new(b("GeoCoordinates"))(c,a):null;return c==null?null:b("React").createElement(b("SUIFormRow.react"),{label:b("React").createElement("div",null)},b("React").createElement(b("LMGeoLocationEditor.react"),{disabled:this.props.disabled,height:275,value:c,onChange:this.$19}))};d.$22=function(){var a=this.props.location.store_location_descriptor.getValues(),c=this.props.location.store_location_descriptor_autogenerated.getValues(),d=b("areEqual")(a,c);return d||a.length!==c.length||a.length===0?null:b("React").createElement("div",{className:"_3-8w"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},i(h._("{link} to the default location descriptor.",[h._param("link",b("React").createElement(b("Link.react"),{onClick:this.$21},h._("Revert")))]),h._("{link}",[h._param("link",b("React").createElement(b("Link.react"),{onClick:this.$21},h._("Revert to default")))]))))};d.$4=function(){var a=i(h._("Help people find this store - add a location descriptor. We'll include it in the Page title instead of the address, so only add it if it'll make that location easier to find."),h._("Add a short location descriptor to help people find your store. The descriptor will replace the store's address in its Page title. This step is optional.")),c=i(h._("Location Descriptor"),h._("Location descriptor")),d=i(h._("Enter store location descriptor."),h._("Add a short description to help people find your store."));return b("React").createElement(b("SUIFormRow.react"),{helpMessage:a,label:c},b("React").createElement(b("LMBulkTextInput.react"),{disabled:this.props.disabled||this.props.location.store_location_descriptor instanceof b("AdsMixedValue"),placeholder:d,value:this.props.location.store_location_descriptor,xuiError:this.props.errorSpec.store_location_descriptor.getValue(),onChange:this.$20}),this.$22())};d.$8=function(){var a=i(h._("Phone"),h._("Phone number"));return b("React").createElement(b("SUIFormRow.react"),{label:a},b("React").createElement(b("LMBulkTextInput.react"),{disabled:this.props.disabled,placeholder:h._("Enter phone number"),value:this.props.location.phone,xuiError:this.props.errorSpec.phone.getValue(),onChange:this.$23}))};d.$15=function(){var a=h._("Price Range");return b("React").createElement(b("SUIFormRow.react"),{label:a},b("React").createElement(b("LMBulkPriceRangeSelector.react"),{disabled:this.props.disabled,value:this.props.location.price_range,onChange:this.$24}))};d.$11=function(){var a=this.props,c=a.disabled,d=a.disableAdmin;a=a.location;a=a.page_username;if(a!==null&&d||!(a instanceof b("AdsUniformValue")))return null;var e=i(h._("Vanity Name"),h._("Page username"));return b("React").createElement(b("SUIFormRow.react"),{label:e},b("React").createElement(b("LMBulkTextInput.react"),{disabled:c||d,placeholder:i(h._("Enter a vanity name"),h._("Enter a Page username to create a custom URL")),value:a,xuiError:this.props.errorSpec.vanity_name.getValue(),onChange:this.$25}))};d.$5=function(){var a=i(h._("Street address"),h._("Street address")),c=h._("Enter street address"),d=this.props.location.geo_location.street;return b("React").createElement(b("SUIFormRow.react"),{label:a},b("React").createElement(b("LMBulkTextInput.react"),{disabled:this.props.disabled||!this.$27(),placeholder:c,value:d,xuiError:this.props.errorSpec.geo_location_street.getValue(),onChange:this.$26}))};d.$27=function(){var a=this.props.location.geo_location;return a.street instanceof b("AdsUniformValue")&&a.latitude instanceof b("AdsUniformValue")&&a.longitude instanceof b("AdsUniformValue")&&a.city_id instanceof b("AdsUniformValue")&&a.city instanceof b("AdsUniformValue")&&a.state instanceof b("AdsUniformValue")&&a.country_code instanceof b("AdsUniformValue")&&a.zip instanceof b("AdsUniformValue")&&a.single_line_address instanceof b("AdsUniformValue")};d.$7=function(){var a=this.props.location.geo_location.country_code instanceof b("AdsUniformValue")&&b("LMBulkUtils").isCountryWithoutZip(this.props.location.geo_location.country_code.getValue()),c=i(h._("ZIP Code"),h._("Postal Code")),d=a?i(h._("ZIP Code not required"),h._("Postal Code not required")):i(h._("Enter ZIP Code"),h._("Enter Postal Code"));return b("React").createElement(b("SUIFormRow.react"),{label:c},b("React").createElement(b("LMBulkTextInput.react"),{disabled:this.props.disabled||!this.$27()||a,placeholder:d,value:this.props.location.geo_location.zip,xuiError:this.props.errorSpec.geo_location_zip.getValue(),onChange:this.$28}))};d.$30=function(){var a=this.props.location.geo_location,c=a.city;a=a.city_id;a=b("zipWith")(function(c,a){return new(b("City"))(c+"",a)},a.getValues(),c.getValues());switch(a.length){case 0:return b("AdsEmptyValue").instance();case 1:return new(b("AdsUniformValue"))(a[0]);default:return new(b("AdsMixedValue"))(a)}};d.$6=function(){var a=h._("City\/Town"),c=h._("Enter city\/town name");return b("React").createElement(b("SUIFormRow.react"),{label:a},b("React").createElement(b("LMBulkCityTypeahead.react"),{disabled:this.props.disabled||!this.$27(),placeholder:c,value:this.$30(),xuiError:this.props.errorSpec.geo_location_city.getValue(),onChange:this.$29}))};d.$12=function(){var a=i(h._("Choose up to three specific subcategories to help people find your Page more easily. These will appear above the About section on your Page and in search results."),h._("Choose up to three subcategories to describe your business. These will appear above the About section on your store Page and in search results, so that people can find the Page more easily.")),c=h._("Subcategories");return b("React").createElement(b("SUIFormRow.react"),{helpMessage:a,label:c},b("React").createElement(b("LMBulkBusinessPlaceTopicsTokenizer.react"),{disabled:this.props.disabled,value:this.props.location.place_topics,xuiError:this.props.errorSpec.place_topics.getValue(),onChange:this.$31}))};d.$14=function(){var a=this.props,c=a.disabled;a=a.location;var d=a.always_open,e=a.full_hours,f=a.hours,g=a.permanent_status;a=a.permanently_closed;if(!(d instanceof b("AdsUniformValue"))||!(a instanceof b("AdsUniformValue"))||!(f instanceof b("AdsUniformValue"))||!(e instanceof b("AdsUniformValue")))return null;var j=i(h._("Business Hours"),h._("Opening hours"));e=b("gkx")("972481")?b("React").createElement(b("LMBulkBusinessHoursEditorNew.react"),{disabled:c,errors:this.props.errorSpec.hours.getValue(),value:{full_hours:e,permanent_status:g},onChange:this.$33}):b("React").createElement(b("LMBulkBusinessHoursEditor.react"),{disabled:c,value:{always_open:d,hours:f,permanently_closed:a},onChange:this.$32});return b("React").createElement(b("SUIFormRow.react"),{label:j,labelAlign:"top"},e)};d.$13=function(){return!b("gkx")("677994")?null:b("React").createElement(b("LMReviewSelector.react"),{disabled:this.props.disabled,value:this.props.location.is_review_eligible,onChange:this.$34})};d.$9=function(){return b("React").createElement(b("SUIFormRow.react"),{helpMessage:i(h._("A name of the WiFi that is present at this location."),h._("Include the name of your store's Wi-Fi network so that people can stay connected when they visit and shop.")),label:i(h._("WiFi Name"),h._("Wi-Fi network"))},b("React").createElement(b("LMBulkTextInput.react"),{disabled:this.props.disabled,placeholder:i(h._("Enter WiFi name"),h._("Enter Wi-Fi network name")),value:this.props.location.wifi_information_name,onChange:this.$35}))};return c}(a);c.defaultProps={disabled:!1,disableAdmin:!1};e.exports=c}),null);
__d("LMBulkBusinessLocationEditor.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","LMBulkBusinessLocationEditorForm.react","LMLoggingUtils","LMUtils","LocationManagerWebDriverTestIDs","React","SUIBusinessThemeContainer.react","SUINotice.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LMUtils").applySTORenaming;function j(a){return b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Save"),use:"primary",onClick:a.onSave}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Discard"),onClick:a.onDiscard})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:h._("Save changes to this location?")}),isShown:a.isShown,onHide:a.onHide},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("FDSText.react"),null,h._("You've made changes to this location that haven't been saved yet. If you don't save your changes, you will lose them."))))}function k(a){return a.locationCount<2?null:b("React").createElement("div",{className:"_3-8t _3-8y"},b("React").createElement(b("SUINotice.react"),{type:"information"},h._({"*":"You're currently editing {number} business locations.","_1":"You're currently editing 1 business location."},[h._plural(a.locationCount,"number")])))}function l(a){return a.error==null?null:b("React").createElement("div",{className:"_3-8t _3-8y"},b("React").createElement(b("SUINotice.react"),{type:"error"},a.error.message))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isConfirmModalShown:!1},d.$1=function(){d.setState(function(a){return{isConfirmModalShown:!a.isConfirmModalShown}})},d.$2=function(){d.setState({isConfirmModalShown:!1}),b("LMLoggingUtils").logAction("lm.editing.ads_running_confirmation_modal_accepted"),d.props.onSave()},d.$3=function(){d.props.changedToPermanentlyClosed&&d.props.locationHasRunningAds.getValue()===!0?(d.setState({isConfirmModalShown:!0}),b("LMLoggingUtils").logAction("lm.editing.ads_running_confirmation_modal_shown")):d.props.onSave()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.location.getValue(),c=this.props.permissions.getValue(),d=this.props.parentPage.getValue();if(a==null||c==null||d==null)return null;var e=this.props.location.hasOperation(),f=this.props.previousErrors[0],g=a.id.getValues().length,q=this.props.hasLocationChanged?this.props.onConfirmCancel:this.props.onCancel,r=o(this.props.errorSpec),s=e||!r;return b("React").createElement("div",null,b("React").createElement(j,{isShown:this.props.isConfirmModalShown,onDiscard:this.props.onCancel,onHide:this.props.onHideConfirmModal,onSave:this.props.onSave}),b("React").createElement(p,{isShown:this.state.isConfirmModalShown,locationCount:g,onHide:this.$1,onSave:this.$2}),b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{"data-testid":s?null:b("LocationManagerWebDriverTestIDs").BULK_LOCATION_FORM_SAVE_BUTTON,isDisabled:s,label:h._("Save"),tooltip:m(e,r),use:"primary",onClick:this.$3}),secondaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:e,label:h._("Cancel"),tooltip:n(e),onClick:q})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:i(h._("Edit Business Location"),h._("Add or Update Your Store Details"))}),isShown:!0,onHide:q},b("React").createElement(b("FDSSection.react"),{hasPadding:!1},b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(k,{locationCount:g}),b("React").createElement(l,{error:f}),b("React").createElement(b("LMBulkBusinessLocationEditorForm.react"),{disableAdmin:!c.isAdmin,disabled:!c.canEdit||e,errorSpec:this.props.errorSpec,isStoreCodeVisible:this.props.isStoreCodeVisible,location:a,parentPage:d,onChange:this.props.onChange})))))};return c}(b("React").Component);function m(b,a){if(!a)return h._("Unable to save invalid location.");return b?h._("Unable to save pending changes."):null}function n(a){return a?h._("Unable to cancel pending changes."):null}function o(a){return a.every(function(a){return a.getValue()===null})}function p(a){return b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebDriverTestIDs").LOCATION_FORM_RUNNING_ADS_CONFIRM_BUTTON,label:h._("OK"),use:"primary",onClick:a.onSave}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),null)}),header:b("React").createElement(b("FDSModalHeader.react"),{title:h._({"*":"Ads For These Locations Will Be Stopped","_1":"Ads For This Location Will Be Stopped"},[h._plural(a.locationCount)])}),isShown:a.isShown,onHide:a.onHide},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("FDSText.react"),null,h._({"*":{"*":{"*":"Some of these locations are currently being used in your store visits ads. Once you have marked them as permanently closed, they'll be removed from all active campaigns."}},"_1":{"_1":{"_1":" This location is currently being used in your store visits ads. Once you have marked it as permanently closed, it'll be removed from all active campaigns."}}},[h._plural(a.locationCount),h._plural(a.locationCount),h._plural(a.locationCount)]))))}e.exports=a}),null);
__d("LMPublishingErrorEditStore",["AdsDataAtom","FluxSimpleDerivedStore","LMBulkEditableBusinessLocationStore","LMLocationPublishingStateStore","LMPublishingStore","LMPublishingUtils","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMPublishingUtils").getLocations;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getStores=function(){return[b("LMPublishingStore"),b("LMBulkEditableBusinessLocationStore"),b("LMLocationPublishingStateStore")]};d.__getData=function(a){var c=b("LMBulkEditableBusinessLocationStore").getState(),d=c.bulkLocation;c=c.operationID;var e=b("filterNulls")(d.map(function(a){return a.id.getValues()}).getValue()||[]);return{bulkLocation:d,locationPublishStates:b("LMLocationPublishingStateStore").getAll(e,a?a.locationPublishStates:null),operationID:c,publishOperations:b("LMPublishingStore").getState()}};d.__areEqual=function(a,b){return a.bulkLocation===b.bulkLocation&&a.locationPublishStates===b.locationPublishStates&&a.operationID===b.operationID&&a.publishOperations===b.publishOperations};d.__computeResult=function(a){__p&&__p();var c=a.operationID,d=a.publishOperations,e=a.bulkLocation,f=a.locationPublishStates;if(c!=null){a=d.get(c);return!a?[]:b("filterNulls")(g(a).map(function(a){return a.getError()}).toArray())}d=e.map(function(a){return a.id.getValues()}).getValue()||[];return b("filterNulls")(d.map(function(a){return a==null?null:f.get(a).getError()}))};return c}(b("FluxSimpleDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMBulkBusinessLocationEditorContainer.react",["AdsLocationPageIDsAndRoot","FluxContainer","LMActions","LMBulkBusinessLocationEditor.react","LMBulkEditableBusinessLocationStore","LMBulkUtils","LMChildPageFastFieldsStore","LMConfigStore","LMErrorSpecStore","LMLocationHasRunningAdsStore","LMOwnedPageStore","LMPermissionsStore","LMPhoneNumberStore","LMPublishingErrorEditStore","LMPublishingStore","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromView,h=b("LMBulkUtils").getBusinessLocations;function i(){g({type:"lm.close_dialog"})}function j(){g({type:"lm.show_confirm_modal"})}function k(){g({type:"lm.hide_confirm_modal"})}function l(a){g({type:"lm.update_location",location:b("LoadObject").withValue(a)})}function m(){__p&&__p();var a=b("LMBulkEditableBusinessLocationStore").getState(),c=b("LMConfigStore").getState();c=c.parentPageID;var d=a.bulkLocation.getValue();if(d==null||c==null)return;d=a.bulkLocation.removeError().updating();var e=a.operationID;a=a.operationType;d=h(d.getValueEnforcing());g({type:"lm.publish.start",locations:d,operationType:a,parentPageID:c,operationID:e})}function a(){return[b("LMBulkEditableBusinessLocationStore"),b("LMChildPageFastFieldsStore"),b("LMConfigStore"),b("LMErrorSpecStore"),b("LMLocationHasRunningAdsStore"),b("LMOwnedPageStore"),b("LMPermissionsStore"),b("LMPhoneNumberStore"),b("LMPublishingErrorEditStore"),b("LMPublishingStore")]}function c(a){a=b("LMBulkEditableBusinessLocationStore").getState();var c=a.bulkLocation,d=a.hasLocationChanged,e=a.isConfirmModalShown,f=a.operationID,g=a.operationType;a=a.changedToPermanentlyClosed;var h=b("LMConfigStore").getState(),i=h.parentPageID;h=h.isStoreCodeVisible;var j=b("LMErrorSpecStore").getState(),k=i!=null?b("LMPermissionsStore").get(i):b("LoadObject").empty(),l=b("LMPublishingErrorEditStore").getState(),m=i!=null?b("LMOwnedPageStore").get(i):b("LoadObject").empty();i=c.hasValue()&&g==="edit"?b("LMLocationHasRunningAdsStore").get(new(b("AdsLocationPageIDsAndRoot"))({root_page_id:i,page_ids:c.getValueEnforcing().id})):b("LoadObject").empty();return{changedToPermanentlyClosed:a,errorSpec:j,hasLocationChanged:d,isConfirmModalShown:e,isStoreCodeVisible:h,location:c,locationHasRunningAds:i,operationID:f,operationType:g,parentPage:m,permissions:k,previousErrors:l}}e.exports=b("FluxContainer").createFunctional(function(a){return b("React").createElement(b("LMBulkBusinessLocationEditor.react"),babelHelpers["extends"]({},a,{onCancel:i,onChange:l,onConfirmCancel:j,onHideConfirmModal:k,onSave:m}))},a,c,{withProps:!0})}),null);
__d("LMChoosePageToClaimDialog.react",["fbt","AdsPageDropdownSelector.react","CenteredContainer.react","CurrentUser","FDSButton.react","FDSCancelButton.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSSpinner.react","InlineBlock.react","LMUtils","PageAdminTypes","React","SUIBusinessTheme","SUITextInput.react","emptyFunction","filterNulls","immutable","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMUtils").applySTORenaming,i=b("immutable").Set;a=b("React").Component;var j=g._("Choose Facebook Page");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:this.props.selectedPageID==null&&!this.props.rawPageID||this.$1()||this.props.childPage.hasError(),label:g._("Next"),use:"primary",onClick:this.props.onConfirm}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),{onClick:this.props.onCancel})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:h(g._("Add Location"),g._("Add Store"))}),isShown:!0,onHide:this.props.onCancel},this.$2())};d.$2=function(){if(this.$1())return b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("CenteredContainer.react"),{className:"_3-8l"},b("React").createElement(b("FDSSpinner.react"),null)));var a=this.props.parentPage.map(function(a){return a.name}).getValue();return b("React").createElement(b("FDSSection.react"),null,this.$3(),this.$4()?b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("FDSGuidanceCard.react"),{category:"warning"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,g._("Location Pages must have the same name as your main brand Page.")),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,g._("If this Page currently has a different name, it will be renamed to {parentPageName-2}",[g._param("parentPageName-2",b("React").createElement("strong",null,a))]))))):null,b("React").createElement("div",null,this.props.pages.hasValue()?b("React").createElement(b("AdsPageDropdownSelector.react"),{alignment:"left",currentUserID:b("CurrentUser").getID(),defaultLabel:j,pages:l(this.props.pages.getValue(),this.props.parentPageID,a),searchBarVisible:!0,selectedActorID:this.props.selectedPageID||"",showBusinessPages:!0,showPageName:!0,suppressed:!1,onChange:this.props.onPageSelected,onClick:b("emptyFunction")}):b("React").createElement(b("FDSSpinner.react"),null),b("CurrentUser").isEmployee()?b("React").createElement("span",null,b("React").createElement("span",{className:"_3-8t"},g._("or paste any page ID (fb only)")),b("React").createElement(b("InlineBlock.react"),null,b("React").createElement(b("SUITextInput.react"),{theme:b("SUIBusinessTheme"),value:this.props.rawPageID,onChange:this.props.onRawPageIDChange}))):null))};d.$4=function(){return b("CurrentUser").isEmployee()?!1:!this.props.parentPage.map(function(a){return a.can_use_any_name_for_child_location}).getValue()};d.$3=function(){var a=this.props.rawPageID,c=this.props.childPage.getValue(),d=this.props.parentPage.getValue();return a==null||a===""||!c||!d||!b("CurrentUser").isEmployee()||n(c.userpermissions,d.userpermissions)?null:b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("FDSGuidanceCard.react"),{category:"warning"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,g._("[FB ONLY] You are adding a page {child_page_name} that has no common admins with the parent page {parent_page_name} into the location structure.",[g._param("child_page_name",c.name),g._param("parent_page_name",d.name)])),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,g._("Do you really want to do this? Current admins of the parent page will get full admin access to the page {child_page_name_2}.",[g._param("child_page_name_2",c.name)])))))};d.$1=function(){return this.props.pages.isLoading()||this.props.parentPage.isLoading()||this.props.childPage.isLoading()||this.props.maxStoreNumber.isLoading()};return c}(a);var k={};function l(a,b,c){__p&&__p();if(a==null)return k;c={};a=a.valueSeq().map(function(a){return a.getValue()});for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f!=null&&f.parent_page==null&&f.id!==b&&m(f)&&(c[f.id]=f)}return c}function m(a){a=(a=a.userpermissions)==null?void 0:a.data;if(a==null)return!1;a=a.find(function(a){var c;return((c=a.user)==null?void 0:c.id)===b("CurrentUser").getID()&&a.role===b("PageAdminTypes").MANAGER});return a!=null}function n(a,c){if(a==null||c==null)return!1;var d=i.of.apply(i,b("filterNulls")(a.data.map(function(a){return a.user!=null?a.user.id:null})));return c.data.some(function(a){return a.user!=null&&d.contains(a.user.id)})}e.exports=c}),null);
__d("LMOwnedPageListDataManager",["AdsGraphAPI","ApiPageFields","GraphAPIPaging","LMActions","LMOwnedPageFields","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("LMActions").dispatchActionFromServerResponse,h={is_promotable:!0,fields:b("LMOwnedPageFields"),limit:300};a={load:function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("user",a).edge("accounts").get(h).then(b("GraphAPIPaging").allPages()),function(c){return g({type:"lm.owned_page_list.loaded",userID:a,owned_pages:c.data.filter(function(a){return!a[b("ApiPageFields").PARENT_PAGE]})})},function(b){return g({type:"lm.owned_page_list.error",userID:a,error:b})})}};e.exports=a}),null);
__d("LMOwnedPageListStore",["AdsDataAtom","CurrentUser","FBLogger","FluxLoadObjectStore","LMImportStatusStore","LMImportStatusUtils","LMOwnedPageListDataManager","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getForCurrentUser=function(){return this.get(b("CurrentUser").getAccountID())};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.owned_page_list.loaded":return this.__handleOne(a,c.userID,b("immutable").List(c.owned_pages.map(function(a){return a.id})));case"lm.owned_page_list.error":b("FBLogger")("location_manager").catching(c.error).mustfix("failed to load owned page list");return this.__handleOne(a,c.userID,c.error);case"lm.publish.done":return a.clear();case"lm.upload_locations.import_status.loaded":var d=b("LMImportStatusStore").get(c.parentPageID).getValue();b("AdsDataAtom").waitFor([b("LMImportStatusStore").getDispatchToken()]);c=b("LMImportStatusStore").get(c.parentPageID).getValue();if(b("LMImportStatusUtils").hasActiveImportFinished(d,c))return a.clear();else return a;default:return a}};d.__load=function(a){b("LMOwnedPageListDataManager").load(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMChoosePageToClaimDialogContainerStateSelector",["LMChildPageFastFieldsStore","LMChoosePageToClaimStore","LMLocationSetCreateDialogSelectors","LMMaxStoreNumberStore","LMOwnedPageListStore","LMOwnedPageStore","LoadObject","adsCreateSelector","adsCreateStoreSelector","adsCreateStructuredSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;c=b("adsCreateStoreSelector")([b("LMChoosePageToClaimStore")],function(){return b("LMChoosePageToClaimStore").getState().isDialogShown},e.id+".isDialogShownSelector");d=b("adsCreateStoreSelector")([b("LMChoosePageToClaimStore")],function(){return b("LMChoosePageToClaimStore").getState().rawPageID},e.id+".rawPageIDSelector");f=b("adsCreateStoreSelector")([b("LMChoosePageToClaimStore")],function(){return b("LMChoosePageToClaimStore").getState().selectedPageID},e.id+".selectedPageIDSelector");var g=b("adsCreateSelector")([d,f],function(a,b){return b!=null?b:a},{name:e.id+".childPageIDSelector"}),h=b("adsCreateStoreSelector")([b("LMChildPageFastFieldsStore")],function(){return function(a){return b("LMChildPageFastFieldsStore").get(a)}},e.id+".childPageFastFieldsStoreSelector"),i=b("adsCreateStoreSelector")([b("LMMaxStoreNumberStore")],function(){return function(a){return b("LMMaxStoreNumberStore").get(a)}},e.id+".maxStoreNumberStoreSelector");g=b("adsCreateSelector")([g,h],function(a,c){return a!=null?c(a):b("LoadObject").empty()},{name:e.id+".childPageSelectorTrial"});h=b("adsCreateSelector")([a],function(a){return a!=null?b("LMOwnedPageStore").get(a):b("LoadObject").empty()},{name:e.id+".parentPageSelector"});i=b("adsCreateSelector")([a,i],function(a,c){return a!=null?c(a):b("LoadObject").empty()},{name:e.id+".maxStoreNumberSelector"});var j=b("adsCreateStoreSelector")([b("LMOwnedPageListStore"),b("LMOwnedPageStore")],function(){return b("LMOwnedPageListStore").getForCurrentUser().map(function(a){return b("LMOwnedPageStore").getAll(a)})},e.id+".pagesSelector");g=b("adsCreateStructuredSelector")({childPage:g,isDialogShown:c,maxStoreNumber:i,pages:j,parentPage:h,parentPageID:a,rawPageID:d,selectedPageID:f},e.id+".LMChoosePageToClaimDialogContainerStateSelector");e.exports=g}),null);
__d("LMChoosePageToClaimDialogContainer.react",["FluxContainer","LMActions","LMChoosePageToClaimDialog.react","LMChoosePageToClaimDialogContainerStateSelector","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromView;function h(){g({type:"lm.claim_page.dialog.hide"})}function i(a){g({type:"lm.claim_page.dialog.set_raw_page_id",rawPageID:a})}function j(a){g({type:"lm.claim_page.dialog.set_selected_page_id",pageID:a})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){var a=c.state,b=a.childPage;a=a.maxStoreNumber;a=a.map(function(a){return a+1}).getValue()||1;g({type:"lm.claim_page.edit",location:b.getValueEnforcing(),newStoreNumber:a})},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return b("LMChoosePageToClaimDialogContainerStateSelector").getStores()};c.calculateState=function(){return b("LMChoosePageToClaimDialogContainerStateSelector")()};var d=c.prototype;d.render=function(){if(!this.state.isDialogShown)return null;var a=this.state,c=a.parentPageID;a=babelHelpers.objectWithoutPropertiesLoose(a,["parentPageID"]);return c==null?null:b("React").createElement(b("LMChoosePageToClaimDialog.react"),babelHelpers["extends"]({parentPageID:c},a,{onCancel:h,onConfirm:this.$1,onPageSelected:j,onRawPageIDChange:i}))};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LocationManagerSetUpWizard.react",["cx","fbt","CurrentUser","FDSButton.react","FDSSpinner.react","LeftRight.react","LocationManagerWebdriverIDs","React","WebFunnelLogger"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").Component;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.currentStep.onClickContinue(d.props);var a=d.props.selectedPage.getValue();if(a==null)return;new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("select_next_and_remove_address").log()},d.$2=function(){d.props.onClickBack();var a=d.props.selectedPage.getValue();if(a==null)return;new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("select_previous").log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_2ph_ _2n5e _3-98"},this.props.currentStep.renderContent(this.props)),b("React").createElement("div",{className:"_2n5f"},this.$1()))};d.$1=function(){var a=this.props.currentStep.renderCustomFooter(this.props);if(a!=null)return a;if(this.props.currentStep.isLoading(this.props))return b("React").createElement(b("FDSSpinner.react"),null);a=this.props.previousSteps.last()!=null?b("React").createElement(b("FDSButton.react"),{label:h._("Previous"),size:"large",onClick:this.$2}):null;return b("React").createElement(b("LeftRight.react"),null,a,b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_CONFIRM,isDisabled:!this.props.currentStep.canContinue(this.props),label:h._("Next"),size:"large",use:"primary",onClick:this.$3}))};return c}(a);e.exports=c}),null);
__d("LocationManagerSetUpWizardContainer.react",["CurrentUser","FDSSpinner.react","FluxContainer","LMActions","LMOwnedPageStore","LMSetupWizardStore","LoadObject","LocationManagerSetUpWizard.react","LocationManagerUtils","React","WebFunnelLogger","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LocationManagerUtils").isAddressEligibleForChildPageCreation;a=b("React").Component;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(){var a=d.state.selectedPage.getValue(),c=d.props.businessID;if(a==null)return;var e=d.state.childPageCreationStatus.getValue()==="success"?null:"entry";b("LMActions").dispatchActionFromView({type:"lm.onboarding.redirect_to_location_manager",businessID:c,page:a,redirectTo:e})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LMOwnedPageStore"),b("LMSetupWizardStore")]};c.calculateState=function(a,c){a=b("LMSetupWizardStore").getState();var d=a.addressRemovalAccepted,e=a.childPageCreationStatus,f=a.currentStep,g=a.parentLocation,h=a.parentSingleLineAddress,i=a.previousSteps,j=a.shouldAutoCreateChild;a=a.whitelistStatus;c=c.pageID!=null?b("LMOwnedPageStore").get(c.pageID):b("LoadObject").empty();return{addressRemovalAccepted:d,childPageCreationStatus:e,currentStep:f,parentLocation:g,parentSingleLineAddress:h,previousSteps:i,selectedPage:c,shouldAutoCreateChild:j,whitelistStatus:a}};var d=c.prototype;d.render=function(){return this.state.selectedPage.getValue()==null?b("React").createElement(b("FDSSpinner.react"),{size:"small"}):b("React").createElement(b("LocationManagerSetUpWizard.react"),babelHelpers["extends"]({},this.state,{businessID:this.props.businessID,onAddressRemovalAcceptedChange:this.$1,onAutoCreateChildChange:this.$2,onClickBack:this.$3,onConfirmRemoveAddress:this.$4,onGetStarted:this.$5,onRedirectToLocationManager:this.$6}))};d.$2=function(a){a=a==="auto_create";b("LMActions").dispatchActionFromView({type:"lm.onboarding.toggle_auto_create_child_page",shouldAutoCreateChild:a})};d.$1=function(a){b("LMActions").dispatchActionFromView({type:"lm.onboarding.toggle_address_removal_accepted",isChecked:a})};d.$3=function(){b("LMActions").dispatchActionFromView({type:"lm.onboarding.click_back"})};d.$4=function(a,c,d){c=c&&g(a);c&&new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("select_auto_create_child").log();b("LMActions").dispatchActionFromView({type:"lm.onboarding.confirm_remove_address",businessID:d,page:a,shouldAutoCreateChild:c})};d.$5=function(){b("LMActions").dispatchActionFromView({type:"lm.onboarding.get_started"})};return c}(a);e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("LMCoreNavConvertToMainPageContainer.react",["cx","FluxContainer","LMConfigStore","LocationManagerSetUpWizardContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(){return[b("LMConfigStore")]}function c(){var a=b("LMConfigStore").getState(),c=a.businessID;a=a.parentPageID;return{businessID:c,pageID:a}}function d(a){var c=a.businessID;a=a.pageID;return b("React").createElement("div",{className:"_41xz"},b("React").createElement(b("LocationManagerSetUpWizardContainer.react"),{businessID:c,pageID:a}))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMTableHeader.react",["cx","FDSSimplePopover.react","FixedDataTableSortableHeader.react","LMLoggingUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var c=a.label,d=a.popover;a=a.renderHeader;return b("React").createElement("span",null,a!=null?a():c,d!=null?b("React").createElement(b("FDSSimplePopover.react"),{alignment:"right",content:d.content,display:"inline",helpLink:d.helpLink,position:"below",title:d.title}):null)}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.columnKey;b("LMLoggingUtils").logAction("lm.table.open_popover."+a)},d.$2=function(a){a=a;var b=d.props,c=b.column,e=b.currentSortColumn;b=b.defaultSortDirection;if(c==null)return;e!==c&&(a=b||"ASC");d.props.onClick(c,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("React").createElement(h,{label:this.props.label,popover:this.props.popover,renderHeader:this.props.renderHeader,onOpenPopover:this.$1});return this.props.column==null?b("React").createElement("div",{className:"_3v0w"},a):b("React").createElement(b("FixedDataTableSortableHeader.react"),{className:"_3v0w",sorting:this.props.currentSortColumn===this.props.column?this.props.currentSortDirection:null,onClick:this.$2},a)};return c}(b("React").Component);e.exports=a}),null);
__d("LMTable.react",["cx","fbt","ElementResizeEmitterX","FDSSpinner.react","FixedDataTable.react","FixedDataTableCellDefault.react","FixedDataTableColumn.react","LMActions","LMColumnKeys","LMTableColumns","LMTableHeader.react","LMTableUtils","LoadObject","LocationManagerWebDriverTestIDs","React","ReactDOM"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LMTableUtils").canSelectLocation;a=b("React").Component;var j=120,k=38;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={width:0,height:0,columnWidths:{}},d.$2=function(a,c){__p&&__p();a=d.props;var e=a.canSelectAnyLocation,f=a.rows;a=a.selectedLocations;f=f.get(c)||b("LoadObject").empty();c=f.map(function(a){a=a.id;return a}).getValue();if(c!=null&&i(f,e)){f=a.has(c);d.props.onToggleSelected(c,!f)}},d.$5=function(a){var c=a.columnKey,e=a.isColumnVisible,f=a.isFixed,g=a.isResizable,h=a.minWidth;if(e!=null&&!e({isStoreCodeVisible:d.props.isStoreCodeVisible,selectedLocations:d.props.selectedLocations}))return null;e=d.state.columnWidths[c]==null?a.flexGrow:0;return b("React").createElement(b("FixedDataTableColumn.react"),{cell:d.$7,columnKey:c,fixed:f,flexGrow:e,header:d.$8(a),isResizable:g,key:c,minWidth:h,width:d.$9(c)})},d.$7=function(a){__p&&__p();var c=a.rowIndex;if(a.columnKey==null||c==null)return null;var e=a.columnKey;e=b("LMTableColumns").get(e);e=e.CellComponent;c=d.props.rows.get(c)||b("LoadObject").empty();var f=d.props,g=f.canEditAnyLocation;f=f.selectedLocations;return b("React").createElement(b("FixedDataTableCellDefault.react"),{className:(!g||c.hasOperation()||c.hasError()?"_199e":"")+(l(c,f)?" _199j":""),height:a.height,width:a.width},b("React").createElement(e,babelHelpers["extends"]({location:c},d.props)))},d.$3=function(a,c){var e=d.props.columns;if(e!=null){e=e.set(b("LMColumnKeys")[c],{width:a});b("LMActions").dispatchActionFromView({type:"lm.table_settings.resize_column",columns:e})}},d.$4=function(a,b){a=d.props.rows.size*k;a=a-d.state.height-j<b;a&&d.props.onFetchNext()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=new(b("ElementResizeEmitterX"))(b("ReactDOM").findDOMNode(this)).add(function(){var b=a.refs.sizer.getBoundingClientRect();a.setState({width:b.width,height:b.height})})};d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$1=null};d.render=function(){return b("React").createElement("div",{ref:"sizer",style:{position:"absolute",height:"100%",width:"100%"}},b("React").createElement(b("FixedDataTable.react"),{className:"_199n"+(this.props.isShiftKeyPressed?" _199o":""),groupHeaderHeight:32,headerHeight:32,height:this.state.height,rowHeight:k,rowsCount:this.props.rows.size,width:this.state.width,onRowClick:this.$2,onColumnResizeEndCallback:this.$3,onScrollEnd:this.$4},this.props.columns.keySeq().toOrderedSet().map(function(a){return b("LMTableColumns").get(a)}).map(this.$5).toArray()),this.$6())};d.$8=function(a){return b("React").createElement(b("LMTableHeader.react"),{column:a.sortColumn,columnKey:a.columnKey,currentSortColumn:this.props.sortColumn,currentSortDirection:this.props.sortDirection,defaultSortDirection:a.defaultSortDirection,label:a.label,popover:a.popover,renderHeader:a.renderHeader,onClick:this.props.onHeaderClick})};d.$6=function(){var a=this.props.filterData,c=a.getValue();if(c==null&&a.isLoading())return b("React").createElement("div",{className:"_199p","data-testid":b("LocationManagerWebDriverTestIDs").TABLE_LOADING_SPINNER},b("React").createElement(b("FDSSpinner.react"),null));if(c!=null&&c.ids.size===0){a=this.props.searchText?h._("No results found when searching for \"{search query}\"",[h._param("search query",this.props.searchText)]):h._("You haven't added any locations yet. Upload a CSV or add details for each store using Add Locations.");return b("React").createElement("div",{className:"_199p"},a)}return null};d.$9=function(a){var c=this.props.columns.get(a);if(c!=null){c=c.width;if(c!=null)return c}return b("LMTableColumns").get(a).defaultWidth};return c}(a);function l(a,b){a=a.getValue();return a!=null&&b.has(a.id)}e.exports=c}),null);
__d("LMTableContainer.react",["FluxContainer","LMActions","LMColumnStore","LMConfigStore","LMKeyboardStore","LMPermissionsStore","LMQueryLocationStore","LMRowStore","LMSelectedLocationIDsStore","LMTable.react","LoadObject","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").Component;function g(a,c){b("LMActions").dispatchActionFromView({type:"lm.set_search_column",sortColumn:a,sortDirection:c})}function h(a){b("LMActions").dispatchActionFromView({type:"lm.click_edit_location",locationID:a})}function i(a,b){b.has_edit_permission===!0&&a.add(b.id)}function j(a,c,d){__p&&__p();return b("immutable").Set().withMutations(function(b){__p&&__p();var e=!1;for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=f.length)break;j=f[h++]}else{h=f.next();if(h.done)break;j=h.value}j=j;j=j.value;if(j&&e&&(j.id===c||j.id===d)){i(b,j);break}j&&!e&&(j.id===c||j.id===d)&&(e=!0);e&&j&&i(b,j)}})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.state,c=a.parentPageID,e=a.rows;a=a.query;e=e.size;e>0&&c!=null&&b("LMActions").dispatchActionFromView({type:"lm.search_child_pages.load_more",parentPageID:c,query:a,offset:e})},d.$2=function(a,c){__p&&__p();if(!c){b("LMActions").dispatchActionFromView({type:"lm.locations.deselected_location",locationID:a});return}if(d.state.isShiftKeyPressed&&d.state.selectedLocations.size>0){c=d.state.selectedLocations.last();c=j(d.state.rows,c,a);b("LMActions").dispatchActionFromView({type:"lm.locations.selected_location.shift",locationIDs:c})}else b("LMActions").dispatchActionFromView({type:"lm.locations.selected_location",locationID:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LMColumnStore"),b("LMConfigStore"),b("LMPermissionsStore"),b("LMKeyboardStore"),b("LMQueryLocationStore"),b("LMRowStore"),b("LMSelectedLocationIDsStore")]};c.calculateState=function(){var a=b("LMConfigStore").getState(),c=a.parentPageID;a=a.isStoreCodeVisible;var d=b("LMKeyboardStore").getState();d=d.shift;var e=b("LMQueryLocationStore").getState(),f=b("LMRowStore").getState(),g=f.filterData,h=f.isSelectingAll;f=f.rows;var i=!h;h=!h;return{canEditAnyLocation:h,canSelectAnyLocation:i,columns:b("LMColumnStore").getState(),filterData:g,isShiftKeyPressed:d,isStoreCodeVisible:a,parentPageID:c,permissions:c!=null&&c!==""?b("LMPermissionsStore").get(c):b("LoadObject").empty(),query:e,rows:f,selectedLocations:b("LMSelectedLocationIDsStore").getState()}};var d=c.prototype;d.render=function(){return b("React").createElement(b("LMTable.react"),{canEditAnyLocation:this.state.canEditAnyLocation,canSelectAnyLocation:this.state.canSelectAnyLocation,columns:this.state.columns,filterData:this.state.filterData,isShiftKeyPressed:this.state.isShiftKeyPressed,isStoreCodeVisible:this.state.isStoreCodeVisible,permissions:this.state.permissions,rows:this.state.rows,searchText:this.state.query.searchText,selectedLocations:this.state.selectedLocations,sortColumn:this.state.query.sortColumn,sortDirection:this.state.query.sortDirection,onEdit:h,onFetchNext:this.$1,onHeaderClick:g,onToggleSelected:this.$2})};return c}(a);e.exports=b("FluxContainer").create(c)}),null);
__d("LMCoreNavEditLocations.react",["cx","LMTableContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("React").createElement("div",{className:"_33iy"},b("React").createElement("div",{className:"_60s-"},b("React").createElement(b("LMTableContainer.react"),null)))}e.exports=a}),null);
__d("LMCoreNavNoPages.react",["ix","cx","fbt","FDSLink.react","Image.react","React","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){return b("React").createElement("div",{className:"_41xz"},b("React").createElement("div",null,b("React").createElement("div",{className:"_1bc_ _2n5e _3-98 _2ph_"},b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocl"},b("React").createElement(b("Image.react"),{src:g("425526")})),b("React").createElement("div",{className:"_3qxo"},i._("No Pages Found")),b("React").createElement("div",{className:"_3-8x"},i._("{=create your Page} to get started.",[i._param("=create your Page",b("React").createElement(b("FDSLink.react"),{href:"/pages/create"},i._("Create your Page")))])),b("React").createElement("div",{className:"_3-8y"},i._("If you've already created Pages, check you're logged in to the correct account.")))))))}e.exports=a}),null);
__d("LMCoreNavPageNotEligibleReasons.react",["ix","cx","fbt","FDSLink.react","FDSSpinner.react","Image.react","LMUtils","React","XVanityURLController","asset","immutable","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMUtils").applySTORenaming,k=b("immutable").List;function a(a){__p&&__p();if(a.eligibility.isLoading())return b("React").createElement(b("FDSSpinner.react"),null);var c=a.eligibility.getValue();if(c==null||a.parentPageID==null)return null;var d=k(Object.keys(c)).filter(function(a){return!c[a].passes}).map(function(c){return l(c,b("nullthrows")(a.parentPageID))}).groupBy(function(a){return a.toString()}).map(function(a){return a.first()}).toArray();return b("React").createElement("div",null,d.map(function(a,c){return b("React").createElement("div",{className:"_pz4",key:c},b("React").createElement(b("Image.react"),{className:"_4ix-",src:g("478224")}),a)}))}function l(a,c){switch(a){case"page_is_not_parent_already":case"page_is_not_child_already":return j(i._("It's already linked to a set of location Pages"),i._("This Page is already linked to another main Page."));case"page_is_old_enough":return j(i._("It's less than 2 days old"),i._("This Page is less than 2 days old."));case"page_is_not_global_root":return j(i._("This is a Global Page. Choose another Page"),i._("This is a Global Page. Please choose another Page."));case"page_has_profile_photo":case"page_has_cover_photo":return j(i._("It's missing a profile or cover photo - it must have both. {Link to update the Parent Page}",[i._param("Link to update the Parent Page",b("React").createElement(b("FDSLink.react"),{href:b("XVanityURLController").getURIBuilder().setString("vanity",c).getURI()},"Update your Page."))]),i._("This Page is missing a profile picture or cover. {Link to update the Parent Page}",[i._param("Link to update the Parent Page",b("React").createElement(b("FDSLink.react"),{href:b("XVanityURLController").getURIBuilder().setString("vanity",c).getURI()},"Please update your Page."))]));case"user_has_edit_permission":return i._("You don't have admin or editor permissions for this Page");case"user_has_edit_permission_to_global_root_if_exists":return j(i._("You don't have admin or editor permissions for the Global Page"),i._("You don't have admin or editor permissions for this Page."));default:throw new Error("No description found for "+a+" ineligibility reason")}}e.exports=a}),null);
__d("LMCoreNavNotEligibleContainer.react",["ix","cx","fbt","FluxContainer","Image.react","LMConfigStore","LMCoreNavPageNotEligibleReasons.react","LMPageWhitelistEligibilityStore","LMUtils","LoadObject","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMUtils").applySTORenaming;function a(){return[b("LMConfigStore"),b("LMPageWhitelistEligibilityStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=a==null?b("LoadObject").empty():b("LMPageWhitelistEligibilityStore").get(a);return{eligibility:c,parentPageID:a}}function d(a){return b("React").createElement("div",{className:"_41xz"},b("React").createElement("div",null,b("React").createElement("div",{className:"_1bc_ _2n5e _3-98 _2ph_"},b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocm"},b("React").createElement(b("Image.react"),{src:g("464372")})),b("React").createElement("div",{className:"_3qxo"},i._("This Page Isn't Eligible")),b("React").createElement("div",null,j(i._("You can't currently use this Page to add locations."),i._("You can't currently choose this as your main Page."))),b("React").createElement("div",{className:"_oci"}),b("React").createElement(b("LMCoreNavPageNotEligibleReasons.react"),{eligibility:a.eligibility,parentPageID:a.parentPageID}))))))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMCoreNavRemoveAddressContainer.react",["ix","cx","fbt","FDSButton.react","FDSSpinner.react","FluxContainer","Image.react","LMActions","LMConfigStore","LMOwnedPageStore","LMSetupWizardStore","LoadObject","React","SUICheckboxInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){return[b("LMOwnedPageStore"),b("LMConfigStore"),b("LMSetupWizardStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=b("LMSetupWizardStore").getState(),d=c.addressRemovalAccepted;c=c.whitelistStatus;return{addressRemovalAccepted:d,parentPage:a!=null&&a!==""?b("LMOwnedPageStore").get(a):b("LoadObject").empty(),whitelistStatus:c}}function j(a){b("LMActions").dispatchActionFromView({type:"lm.onboarding.toggle_address_removal_accepted",isChecked:a})}function k(){var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.onboarding.remove_address_only",pageID:a})}function d(a){var c=a.parentPage.getValue();return c==null?null:b("React").createElement("div",{className:"_41xz"},b("React").createElement("div",null,b("React").createElement("div",{className:"_2ph_ _2n5e _3-98"},b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ocl _ock"},b("React").createElement(b("Image.react"),{src:g("398198")})),b("React").createElement("div",{className:"_3qxo"},i._("Remove Address")),b("React").createElement("div",null,i._("Your main Page still has an associated address, which means you can't add locations yet."))),b("React").createElement("div",{className:"_oci"}),b("React").createElement("div",{className:"_66my"},i._("{page_name} is the main Page for your business. Once you add Pages for each location, your customers will be able to find information like opening hours, contact details, reviews and directions for the store that's nearest them.",[i._param("page_name",c.name)])),b("React").createElement("div",{className:"_66my _3-8y"},i._("Before you can start adding locations to this Page, you need to remove its address. If you want your customers to find you by this address, make a new location Page once this step is complete.")),b("React").createElement("div",{className:"_66my _3-8-"},b("React").createElement("div",null,b("React").createElement(b("SUICheckboxInput.react"),{label:i._("Remove address from {page_name}",[i._param("page_name",b("React").createElement("strong",null,c.name))]),value:a.addressRemovalAccepted,onChange:j}))))),b("React").createElement("div",{className:"_2n5f"},a.whitelistStatus.hasOperation()?b("React").createElement(b("FDSSpinner.react"),null):b("React").createElement(b("FDSButton.react"),{isDisabled:!a.addressRemovalAccepted,label:i._("Remove Address"),size:"large",use:"primary",onClick:k}))))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMCoreNavActiveContainer.react",["FBLogger","FDSSpinner.react","FluxContainer","LMCoreNavConvertToMainPageContainer.react","LMCoreNavEditLocations.react","LMCoreNavNoPages.react","LMCoreNavNotEligibleContainer.react","LMCoreNavRemoveAddressContainer.react","LMCoreNavStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMCoreNavStore")]}function c(){var a=b("LMCoreNavStore").getState();return{onboardingStepType:a}}function d(a){__p&&__p();a=a.onboardingStepType;switch(a){case"loading":return b("React").createElement(b("FDSSpinner.react"),null);case"no_pages":return b("React").createElement(b("LMCoreNavNoPages.react"),null);case"convert_to_main_page":return b("React").createElement(b("LMCoreNavConvertToMainPageContainer.react"),null);case"edit_locations":return b("React").createElement(b("LMCoreNavEditLocations.react"),null);case"page_not_eligible":return b("React").createElement(b("LMCoreNavNotEligibleContainer.react"),null);case"remove_address":return b("React").createElement(b("LMCoreNavRemoveAddressContainer.react"),null);case"no_page_selected":default:b("FBLogger")("location_manager").mustfix("no content available");return null}}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMLocationBreakdownSearchSource",["fbt","AbstractSearchSource","AdsGraphAPI","GraphAPIPaging","SearchableEntry","SearchSourceQueryStatus","filterNulls","formatNumber","intlList","memoizeWithArgs","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);a.get=function(a,b){return m(a,b)};function a(a,b){var d;d=c.call(this)||this;d.$LMLocationBreakdownSearchSource1=null;d.$LMLocationBreakdownSearchSource2=a;d.$LMLocationBreakdownSearchSource3=b;return d}var d=a.prototype;d.bootstrapImpl=function(a){this.$LMLocationBreakdownSearchSource1=l(this.$LMLocationBreakdownSearchSource2,this.$LMLocationBreakdownSearchSource3),b("promiseDone")(this.$LMLocationBreakdownSearchSource1,a,a)};d.searchImpl=function(a,c,d){b("promiseDone")(b("nullthrows")(this.$LMLocationBreakdownSearchSource1),function(d){return c(k(d,a),a,b("SearchSourceQueryStatus").COMPLETE)})};return a}(b("AbstractSearchSource"));function i(a,b){return a.getTitle().toLocaleLowerCase().startsWith(b)?1:0}function j(a,b,c){var d=i(a,c);c=i(b,c);return d!==c?c-d:a.getTitle().toLocaleLowerCase().localeCompare(b.getTitle().toLocaleLowerCase())}function k(a,b){b=b.toLocaleLowerCase();return a.filter(function(a){return a.getTitle().toLocaleLowerCase().includes(b)}).sort(function(a,c){return j(a,c,b)})}var l=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations_breakdown").get({limit:5e3,type:c}).then(b("GraphAPIPaging").allPages()).then(function(a){return a.data.filter(function(a){return!!a.location_name}).map(function(a){return new(b("SearchableEntry"))({title:n(a),uniqueID:a.location_id,auxiliaryData:a})})})},m=b("memoizeWithArgs")(function(a,b){a=new h(a,b);a.bootstrap();return a},function(a,b){return a+":"+b}),n=function(a){var c=b("filterNulls")([a.location_name,a.parent_region_name,a.parent_country_code]);c=b("intlList")(c,b("intlList").CONJUNCTIONS.NONE);return g._("{city\/state\/country name} ({location count})",[g._param("city/state/country name",c),g._param("location count",b("formatNumber").withThousandDelimiters(a.num_pages+a.num_unpublished_or_closed_pages))])};e.exports=h}),null);
__d("LMFilters.react",["ix","cx","fbt","FDSButton.react","FDSLink.react","FDSSwitch.react","FDSText.react","Image.react","LMLocationBreakdownSearchSource","React","ShimButton.react","SUIGlyphIcon.react","SUITokenizer.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=100,k=["country","region","city"];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){var c=d.props.filterState.activeFilters.contains(a),e=d.props.filterState.selectedEntries.get(a);return b("React").createElement(n,{key:a,isExpanded:c,locationType:a,parentPageID:d.props.parentPageID,selectedEntries:e,onAddEntry:d.props.onAddEntry,onRemoveEntry:d.props.onRemoveEntry,onToggle:d.props.onToggle})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return this.props.isExpanded?this.$1():this.$2()};d.$2=function(){return b("React").createElement(b("ShimButton.react"),{className:"_fdt _fi8",onClick:this.props.onToggleSidebar},b("React").createElement(b("Image.react"),{src:g("442716")}),b("React").createElement(b("Image.react"),{src:g("363532")}))};d.$1=function(){return b("React").createElement("div",{className:"_fdt _fi9"},b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("FDSText.react"),{size:"meta1",weight:"bold"},i._("Filters"))),k.map(this.$3),this.props.filterState.selectedEntries.some(function(a){return!a.isEmpty()})?b("React").createElement("div",{className:"_2w1m"},b("React").createElement(b("FDSLink.react"),{onClick:this.props.onClearAll},i._("Clear all"))):null,b("React").createElement("div",{className:"_fia"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("404533")}),label:i._("Toggle sidebar"),labelIsHidden:!0,size:"large",use:"flat",onClick:this.props.onToggleSidebar})))};return c}(b("React").Component);var l={city:i._("City"),region:i._("Region"),country:i._("Country")},m={city:i._("Search cities"),region:i._("Search regions"),country:i._("Search countries")},n=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$3=function(a){return b.$1=a},b.$2=function(){return b.props.onToggle(!b.props.isExpanded,b.props.locationType)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.componentDidUpdate=function(a){this.props.isExpanded&&!a.isExpanded&&this.$1!=null&&this.$1.focusInput()};d.render=function(){var a=b("LMLocationBreakdownSearchSource").get(this.props.parentPageID,this.props.locationType);return b("React").createElement("div",{className:"_2ph_"+(this.props.isExpanded?" _fdu":"")},b("React").createElement(b("ShimButton.react"),{className:"_fdv",onClick:this.$2},b("React").createElement(b("FDSText.react"),{color:this.props.isExpanded?"primary":"placeholder",size:"meta1"},l[this.props.locationType]),b("React").createElement(b("FDSSwitch.react"),{label:"",value:this.props.isExpanded,onChange:function(){}})),this.props.isExpanded?b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("SUITokenizer.react"),{autoComplete:"new-password",entries:this.props.selectedEntries.toArray(),maxEntries:j,placeholder:m[this.props.locationType],ref:this.$3,searchSource:a,onAddEntry:this.props.onAddEntry,onRemoveEntry:this.props.onRemoveEntry})):null)};return a}(b("React").Component);e.exports=a}),null);
__d("LMFiltersContainer.react",["FluxContainer","LMActions","LMConfigStore","LMFilters.react","LMQueryLocationStore","LMSidebarStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMConfigStore"),b("LMQueryLocationStore"),b("LMSidebarStore")]}function g(a){b("LMActions").dispatchActionFromView({type:"lm.filters.add_entry",entry:a})}function h(a){b("LMActions").dispatchActionFromView({type:"lm.filters.remove_entry",entry:a})}function i(a,c){b("LMActions").dispatchActionFromView({type:"lm.filters.toggle",value:a,locationType:c})}function j(){b("LMActions").dispatchActionFromView({type:"lm.sidebar.toggle"})}function k(){b("LMActions").dispatchActionFromView({type:"lm.filters.clear_all"})}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=b("LMQueryLocationStore").getState(),d=b("LMSidebarStore").getState();return{filterState:c,isExpanded:d,parentPageID:a}}function d(a){var c=a.parentPageID;a=babelHelpers.objectWithoutPropertiesLoose(a,["parentPageID"]);return c==null?null:b("React").createElement(b("LMFilters.react"),babelHelpers["extends"]({},a,{parentPageID:c,onAddEntry:g,onClearAll:k,onRemoveEntry:h,onToggle:i,onToggleSidebar:j}))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("XLocationManagerChildrenExportController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/export_children/",{parent_id:{type:"FBID",required:!0},template_only:{type:"Bool",defaultValue:!1},pagenum:{type:"Int",defaultValue:0},intern_tool:{type:"Bool",defaultValue:!1}})}),null);
__d("LMExportLocationsUtils",["LMEnvironment","XLocationManagerChildrenExportController"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a=b("XLocationManagerChildrenExportController").getURIBuilder().setFBID("parent_id",a).setBool("intern_tool",c===b("LMEnvironment").INTERN).getURI();return a.toString()}function c(a){a=b("XLocationManagerChildrenExportController").getURIBuilder().setFBID("parent_id",a).setBool("template_only",!0).getURI();return a.toString()}e.exports={getUri:a,getTemplateUri:c}}),null);
__d("LMImportMenu.react",["cx","React","SUICloseButton.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_61dg"},b("React").createElement("span",{className:"_61dh"},b("React").createElement(b("SUICloseButton.react"),{onClick:a.onClose})),a.heading!=null?b("React").createElement("div",{"aria-level":"3",className:"_61di",role:"heading"},a.heading):null,b("React").createElement("div",{className:"_61dj"},a.children))}e.exports=a}),null);
__d("LMImportMenuButton.react",["cx","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a.preventDefault()}function a(a){return b("React").createElement(b("ShimButton.react"),{className:"_468r _468s",onClick:a.onClick,onMouseDown:h},b("React").createElement("div",{className:"_468v"},b("React").createElement("div",{className:"_61dd"},b("React").createElement(b("Image.react"),{src:a.imageSrcDefault})),b("React").createElement("div",{className:"_39n9"},b("React").createElement(b("Image.react"),{src:a.imageSrcHighlight}))),b("React").createElement("div",{className:"_469e"},b("React").createElement("div",{className:"_469f"},a.title),b("React").createElement("div",{className:"_469h"},a.description),b("React").createElement("div",{className:"_469i"},a.hint)))}e.exports=a}),null);
__d("LMImportMenuEntry.react",["ix","fbt","LMImportMenu.react","LMImportMenuButton.react","LMUtils","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LMUtils").applySTORenaming,j=g("381379"),k=g("382317"),l=g("378343"),m=g("385885"),n=g("460327"),o=g("460333");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onClickAddExistingPage=function(){c.props.onClickAddExistingPage(),c.props.onClose()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement(b("LMImportMenu.react"),{heading:i(h._("Add Locations"),h._("Add Stores")),onClose:this.props.onClose},b("React").createElement(b("LMImportMenuButton.react"),{description:i(h._("Fill out details for each location you want to add"),h._("Fill out a form for each store you want to add.")),hint:i(h._("Recommended for 1 - 10 locations"),h._("Recommended for 10 stores or less")),imageSrcDefault:j,imageSrcHighlight:k,title:i(h._("Manually Add Locations"),h._("Add Manually")),onClick:this.props.onClickManualAdd}),b("React").createElement(b("LMImportMenuButton.react"),{description:i(h._("Add multiple locations at once using our CSV template"),h._("Use a spreadsheet to add multiple stores at once.")),hint:i(h._("Recommended for 10 or more locations"),h._("Recomended for 10 or more stores.")),imageSrcDefault:l,imageSrcHighlight:m,title:i(h._("Upload Locations"),h._("Add Multiple Stores")),onClick:this.props.onClickUploadCSV}),b("React").createElement(b("LMImportMenuButton.react"),{description:i(h._("Make Location from Existing Page"),h._("Connect a store Page to your main Page to import store details.")),hint:i(h._("Import an existing page into Location Manager"),h._("Recommended for stores that already have a Facebook Page.")),imageSrcDefault:n,imageSrcHighlight:o,title:i(h._("Migrate an existing page"),h._("Connect an Existing Page")),onClick:this.onClickAddExistingPage}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LMImportMenuUploadCompleteSuccess.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","LMImportMenu.react","LMImportMenuUIMessages","React","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("LMImportMenuUIMessages").ALL_LOCATIONS_VALID_DESCRIPTION,k=g("413160");function a(a){return b("React").createElement(b("LMImportMenu.react"),{heading:b("React").createElement("span",null,b("React").createElement(b("Image.react"),{className:"_61k3",src:k}),i._({"*":"{number} Valid Locations","_1":"1 Valid Location"},[i._plural(a.totalRowCount,"number")])),onClose:a.onClose},b("React").createElement("div",{className:"_ufd"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",textAlign:"center"},j),b("React").createElement("div",{className:"_3-8-"},b("React").createElement(b("FDSButton.react"),{label:i._("Continue"),size:"large",use:"primary",onClick:a.onConfirm}))))}e.exports=a}),null);
__d("LMImportMenuUploadSelectFile.react",["ix","cx","fbt","FDSButton.react","FDSLink.react","FDSText.react","FileInput.react","Image.react","LMImportMenu.react","LMImportMenuUIMessages","LMUploadLocationsUtils","LMUtils","React","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("LMImportMenuUIMessages").START_UPLOAD_DESCRIPTION;c=b("LMUploadLocationsUtils").VALID_FILE_EXTENSION;var k=b("LMUtils").applySTORenaming,l=Array.from(c).join(", ");function a(a){return b("React").createElement(b("LMImportMenu.react"),{heading:a.fileUploadErrorTitle!=null?b("React").createElement("span",null,b("React").createElement(b("Image.react"),{className:"_61k3",src:g("407629")}),a.fileUploadErrorTitle):k(i._("Upload Locations"),i._("Upload in Bulk")),onClose:a.onClose},b("React").createElement("div",{className:"_ufd"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",textAlign:"center"},a.fileUploadErrorDescription!=null?a.fileUploadErrorDescription:j),b("React").createElement("div",{className:"_3-8-"},b("React").createElement(b("FileInput.react"),{accept:l,onChange:a.onFileSelected},b("React").createElement(b("FDSButton.react"),{href:"#",label:i._("Upload File"),size:"large",use:"primary"}))),b("React").createElement("div",{className:"_3-8z"},b("React").createElement(b("FDSLink.react"),{href:a.templateURI,showUnderline:"always"},b("React").createElement(b("Image.react"),{className:"_61k3",src:g("406894")}),k(i._("Download CSV Template"),i._("Download Template"))))))}e.exports=a}),null);
__d("LMImportMenuUploadCompleteWithColumnErrors.react",["fbt","FBLogger","LMImportMenuUploadSelectFile.react","React","intlList"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.duplicateColumns,d=a.invalidHeaders,e=a.missingColumns,f=a.templateURI,h=a.onClose;a=a.onFileSelected;if(c.length+d.length+e.length>Math.max(c.length,d.length,e.length))return b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Invalid Column Headings"),fileUploadErrorDescription:g._({"*":"You need to fix {number} column headings in your file. Check the template for the correct headings, amend your file and upload it again.","_1":"You need to fix 1 column heading in your file. Check the template for the correct headings, amend your file and upload it again."},[g._plural(new Set([].concat(c,d,e)).size,"number")]),templateURI:f,onClose:h,onFileSelected:a});if(e.length>0)return e.length<=3?b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Missing Headings"),fileUploadErrorDescription:g._("You must include the following column headings in your file: {column_list}.",[g._param("column_list",b("intlList")(e))]),templateURI:f,onClose:h,onFileSelected:a}):b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Missing Headings"),fileUploadErrorDescription:g._({"*":"You're missing {number} column headings . Check the template for the correct format, amend your file and upload it again.","_1":"You're missing 1 column heading . Check the template for the correct format, amend your file and upload it again."},[g._plural(e.length,"number")]),templateURI:f,onClose:h,onFileSelected:a});if(c.length>0)return c.length<=3?b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Duplicate Column Headings"),fileUploadErrorDescription:g._("You need to remove the duplicated column headings in your file: {column_list}.",[g._param("column_list",b("intlList")(c))]),templateURI:f,onClose:h,onFileSelected:a}):b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Duplicate Column Headings"),fileUploadErrorDescription:g._({"*":"You need to remove {number} duplicated column headings in your file. Check the template for the correct format, amend your file and upload it again.","_1":"You need to remove 1 duplicated column heading in your file. Check the template for the correct format, amend your file and upload it again."},[g._plural(c.length,"number")]),templateURI:f,onClose:h,onFileSelected:a});if(d.length>0)return d.length<=3?b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Incorrect Column Headings"),fileUploadErrorDescription:g._("You need to fix the following column headings, as they don't match the template: {column_list}.",[g._param("column_list",b("intlList")(d))]),templateURI:f,onClose:h,onFileSelected:a}):b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Incorrect Column Headings"),fileUploadErrorDescription:g._({"*":"You need to fix {number} column headings in your file. Check the template for the correct format, amend your file and upload it again.","_1":"You need to fix 1 column heading in your file. Check the template for the correct format, amend your file and upload it again."},[g._plural(d.length,"number")]),templateURI:f,onClose:h,onFileSelected:a});b("FBLogger")("ads").warn("Column error doesn't include any invalid columns");return null}e.exports=a}),null);
__d("LMImportMenuUploadCompleteWithRowErrors.react",["ix","cx","fbt","AlignmentEnum","FDSButton.react","FDSText.react","Image.react","LMImportMenu.react","LMImportMenuUIMessages","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMImportMenuUIMessages").INVALID_LOCATIONS_DESCRIPTION,k=b("LMImportMenuUIMessages").VALID_LOCATIONS_DESCRIPTION,l=g("412163"),m=g("413160");function n(a){return b("React").createElement("div",{className:"_3-8x _3-96"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",textAlign:a.isCentered===!0?b("AlignmentEnum").center:void 0},a.children))}function o(a){return b("React").createElement("div",{className:"_61k8"},b("React").createElement(b("Image.react"),{className:"_61k9",src:a.glyph}),b("React").createElement(b("FDSText.react"),{display:"block",size:"header3",textAlign:a.isCentered===!0?b("AlignmentEnum").center:void 0},a.children))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){window.open(c.props.errorDownloadUrl,"_self")},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.totalRowCount-this.props.errorRowCount,c=a===0;return b("React").createElement(b("LMImportMenu.react"),{heading:i._("Some Locations Can't Be Added"),onClose:this.props.onClose},a>0?b("React").createElement("div",{className:"_61k4"},b("React").createElement(o,{glyph:m},i._({"*":"{number} Valid Locations","_1":"1 Valid Location"},[i._plural(a,"number")])),b("React").createElement(n,null,k),b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{label:i._({"*":"Continue With {number} Locations","_1":"Continue With 1 Location"},[i._plural(this.props.totalRowCount-this.props.errorRowCount,"number")]),use:"primary",onClick:this.props.onConfirm}))):null,b("React").createElement("div",{className:"_61k4"+(c?" _61k5":"")},b("React").createElement(o,{glyph:l,isCentered:c},i._({"*":"{number} Location With Errors","_1":"1 Location With Error"},[i._plural(this.props.errorRowCount,"number")])),b("React").createElement(n,{isCentered:c},j),b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{label:i._("Download & Fix Errors"),onClick:this.$1}))))};return c}(b("React").Component);e.exports=a}),null);
__d("LMImportMenuUploadError.react",["fbt","LMImportMenuUIMessages","LMImportMenuUploadSelectFile.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LMImportMenuUIMessages").FILE_UPLOAD_FAILURE_DESCRIPTION;function a(a){return b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Upload failed"),fileUploadErrorDescription:a.fileUploadErrorDescription!=null?a.fileUploadErrorDescription:h,templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected})}e.exports=a}),null);
__d("LMImportMenuUploadUploading.react",["cx","fbt","FDSButton.react","FDSProgressBar.react","LMImportMenu.react","LMImportMenuUIMessages","React","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("LMImportMenuUIMessages").PROCESSING_FILE_DESCRIPTION;function a(a){return b("React").createElement(b("LMImportMenu.react"),{heading:h._("Uploading Locations"),onClose:a.onClose},b("React").createElement("div",{className:"_ufd"},b("React").createElement("div",{className:"_3-96"},i),b("React").createElement("div",{className:"_3-98"},b("React").createElement(b("FDSProgressBar.react"),{progress:a.progressPercentage,type:a.progressPercentage>99?"buffering":"loading",width:250}),b("React").createElement("div",{className:"_7hil"},h._("Uploading"))),b("React").createElement(b("FDSButton.react"),{label:h._("Cancel Upload"),use:"default",onClick:a.onCancel})))}e.exports=a}),null);
__d("LMImportMenuUpload.react",["LMImportMenuUIMessages","LMImportMenuUploadCompleteSuccess.react","LMImportMenuUploadCompleteWithColumnErrors.react","LMImportMenuUploadCompleteWithRowErrors.react","LMImportMenuUploadError.react","LMImportMenuUploadSelectFile.react","LMImportMenuUploadUploading.react","LMUploadConstants","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMImportMenuUIMessages").VALIDATION_FAILURE_DESCRIPTION;function a(a){__p&&__p();var c=a.uploadStatus;if(c==null)return b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected});switch(c.stage){case b("LMUploadConstants").UPLOADING_FILE:return b("React").createElement(b("LMImportMenuUploadUploading.react"),{progressPercentage:c.progressPercentage,onCancel:a.onCancel,onClose:a.onClose});case b("LMUploadConstants").UPLOAD_COMPLETE_WITH_ROW_ERRORS:return c.errorDownloadUrl?b("React").createElement(b("LMImportMenuUploadCompleteWithRowErrors.react"),{errorDownloadUrl:c.errorDownloadUrl,errorRowCount:c.errorRowCount,sid:c.sid,totalRowCount:c.totalRowCount,onConfirm:a.onConfirm,onClose:a.onCancel}):b("React").createElement(b("LMImportMenuUploadError.react"),{fileUploadErrorDescription:g,templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected});case b("LMUploadConstants").ERROR_UPLOADING_FILE:return b("React").createElement(b("LMImportMenuUploadError.react"),{fileUploadErrorDescription:c.fileUploadError,templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected});case b("LMUploadConstants").UPLOAD_COMPLETE_SUCCESS:return b("React").createElement(b("LMImportMenuUploadCompleteSuccess.react"),{sid:c.sid,totalRowCount:c.totalRowCount,onClose:a.onCancel,onConfirm:a.onConfirm});case b("LMUploadConstants").UPLOAD_COMPLETE_WITH_COLUMN_ERRORS:return b("React").createElement(b("LMImportMenuUploadCompleteWithColumnErrors.react"),{duplicateColumns:c.duplicateColumns,invalidHeaders:c.invalidHeaders,missingColumns:c.missingColumns,templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected})}return null}e.exports=a}),null);
__d("LMImportMenuContainer.react",["FBLogger","FluxContainer","LMActions","LMConfigStore","LMExportLocationsUtils","LMImportMenuEntry.react","LMImportMenuStore","LMImportMenuUpload.react","LMUploadConstants","LMUploadLocationsActionCreators","LMUploadLocationsStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMConfigStore"),b("LMImportMenuStore"),b("LMUploadLocationsStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=a!=null?b("LMUploadLocationsStore").getUploadStatus(a):null;return{parentPageID:a,menuState:b("LMImportMenuStore").getState(),uploadStatus:c}}function g(){b("LMActions").dispatchActionFromView({type:"lm.import_menu.close"})}function h(){b("LMActions").dispatchActionFromView({type:"lm.import_menu.click_upload_csv"})}function i(){b("LMActions").dispatchActionFromView({type:"lm.click_add_new_page"})}function j(){b("LMActions").dispatchActionFromView({type:"lm.click_add_existing_page"})}function k(){var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.upload_locations.cancel_upload",parentPageID:a})}function l(){__p&&__p();var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;var c=b("LMUploadLocationsStore").get(a);if(c==null||c.stage!==b("LMUploadConstants").UPLOAD_COMPLETE_WITH_ROW_ERRORS&&c.stage!==b("LMUploadConstants").UPLOAD_COMPLETE_SUCCESS){b("FBLogger")("location_manager").mustfix("confirm upload should only be possible when the upload has completed with errors");return}b("LMUploadLocationsActionCreators").onConfirmImport(a,c.sid,c.totalRowCount)}function m(a){a=a.target.files;a=a[0];var c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;b("LMUploadLocationsActionCreators").onFileSelected(c,a)}function d(a){var c=a.parentPageID;if(c==null)return null;switch(a.menuState){case"entry":return b("React").createElement(b("LMImportMenuEntry.react"),{onClickAddExistingPage:j,onClickManualAdd:i,onClickUploadCSV:h,onClose:g});case"upload":c=b("LMExportLocationsUtils").getTemplateUri(c);return b("React").createElement(b("LMImportMenuUpload.react"),{uploadStatus:a.uploadStatus,templateURI:c,onCancel:k,onClose:g,onConfirm:l,onFileSelected:m})}return null}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMImportMenuOverlayContainer.react",["cx","FluxContainer","LMActions","LMImportMenuStore","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(){return[b("LMImportMenuStore")]}function c(){return{isShown:b("LMImportMenuStore").getState()!=null}}function h(){b("LMActions").dispatchActionFromView({type:"lm.import_menu.close"})}function d(a){return!a.isShown?null:b("React").createElement(b("ShimButton.react"),{className:"_2hh1",onClick:h})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMLocationSetCreatDialogUtils",["LMLocationSetCreateDialogSelectors"],(function(a,b,c,d,e,f){"use strict";var g=b("LMLocationSetCreateDialogSelectors").LMSelectedChildPartialsSelector;function a(){var a=g(),b=a.first().country;return!a.every(function(a){return b===a.country})}e.exports={hasSelectedMultipleCountries:a}}),null);
__d("LMNuxDataManager",["LMActions","SimpleNUXMessage"],(function(a,b,c,d,e,f){"use strict";function a(a){b("SimpleNUXMessage").markMessageSeenByUser(a),b("LMActions").dispatchActionFromView({type:"lm.dismiss_nux",nuxID:a})}e.exports={dismissNux:a}}),null);
__d("LMBulkEditButton.react",["ix","fbt","FDSButton.react","LMUtils","LocationManagerWebDriverTestIDs","React","SUIGlyphIcon.react","XUIAmbientNUX.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LMUtils").applySTORenaming,j=function(a){a=a.size;return a>0?i(h._({"*":"Edit {business_location_count} Locations","_1":"Edit {business_location_count} Location"},[h._param("business_location_count",a),h._plural(a)]),h._({"*":"Edit {number} Stores","_1":"Edit 1 Store"},[h._plural(a,"number")])):i(h._("Edit Locations"),h._("Edit Stores"))};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){return c.$1=a},c.$3=function(){return c.$1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$4=function(){if(!this.props.permissions.canEdit)return i(h._("You don't have permission to edit locations."),h._("You don't have permission to edit stores."));return this.props.selectedLocationIDs.size===0?i(h._("Select one or more locations to be edited."),h._("Select one or more stores to be edited.")):null};d.render=function(){var a=this.props,c=a.disabled,d=a.hasSeenNux,e=a.permissions,f=a.selectedLocationIDs,i=a.onDismissNux;a=a.onToggle;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebDriverTestIDs").BULK_EDIT_BUTTON,icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("363756"),srcDisabled:g("363754")}),isDisabled:c===!0||f.size===0||!e.canEdit,label:j(f),ref:this.$2,tooltip:this.$4(),onClick:a}),b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.$3,position:"below",shown:!d&&c!==!0&&f.size>0,onCloseButtonClick:i},h._("Click this button in order to edit the selected set of locations.")))};return c}(b("React").Component);e.exports=a}),null);
__d("PagesLocationsDownloadStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SCHEDULED:0,SUCCESS:1,FAILURE:2})}),null);
__d("LMExportLocations.react",["fbt","FDSButton.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSSpinner.react","Link.react","LMExportLocationsUtils","LMUtils","PagesLocationsDownloadStatus","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMUtils").applySTORenaming,i=500,j=h(g._("Download Locations"),g._("Download Stores"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(!this.props.locationsCount.hasValue())return b("React").createElement(b("FDSButton.react"),{isDisabled:!0,label:j});return this.props.locationsCount.getValueEnforcing()>i?b("React").createElement(b("FDSButton.react"),{label:j,onClick:this.props.onScheduleDownload}):b("React").createElement(b("FDSButton.react"),{href:b("LMExportLocationsUtils").getUri(this.props.parentPageID,this.props.environment),label:j})};d.$2=function(){return!this.props.hasScheduledDownload?null:b("React").createElement(b("XUIDialog.react"),{shown:!0,width:600,onToggle:this.props.onCancel},b("React").createElement(b("XUIDialogTitle.react"),null,h(g._("Download All Locations"),g._("Download All Stores"))),b("React").createElement(b("XUIDialogBody.react"),null,this.$3()))};d.$3=function(){if(this.props.scheduledDownloadStatus===b("PagesLocationsDownloadStatus").SUCCESS&&this.props.scheduledDownloadUrl!=null&&this.props.scheduledDownloadUrl!=="")return b("React").createElement(b("Link.react"),{href:this.props.scheduledDownloadUrl,s:"I am a pineapple! (If this is set to a truthy value, the URL will not go through Linkshim)"},j);return this.props.scheduledDownloadStatus===b("PagesLocationsDownloadStatus").SCHEDULED?b("React").createElement("div",null,g._("This may take a minute."),b("React").createElement(b("FDSSpinner.react"),{size:"small"})):b("React").createElement(b("FDSGuidanceCard.react"),{category:"warning"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,null),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,g._("Sorry, something went wrong."))))};d.render=function(){return b("React").createElement("span",null,this.$1(),this.$2())};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LMExportLocationsContainerStateSelector",["AdsStoreUtils","LMChildCountStore","LMConfigStore","LoadObject","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateStoreSelector")([b("LMConfigStore"),b("LMChildCountStore")],function(){var a=b("LMConfigStore").getState();a=a.parentPageID;return a!=null?b("LMChildCountStore").get(a):b("LoadObject").empty()},e.id);c=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("LMConfigStore")),a],function(a,b){var c=a.environment;a=a.parentPageID;return{locationsCount:b,environment:c,parentPageID:a}},{name:e.id});e.exports=c}),null);
__d("XPagesLocationsBulkDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/download/bulk/",{})}),null);
__d("LMExportLocationsContainer.react",["Promise","AdsSelectorUtils","AsyncRequest","FluxContainer","LMExportLocations.react","LMExportLocationsContainerStateSelector","PagesLocationsDownloadStatus","React","XPagesLocationsBulkDownloadController","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var c=a.parentPageID,d=a.startNew;return new(b("Promise"))(function(a,e){var f=b("XPagesLocationsBulkDownloadController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(f).setReadOnly(!0).setMethod("POST").setHandler(function(b){return a(b.payload)}).setErrorHandler(function(a){return e(a.getError())}).setData({parent_id:c,start_new:d}).send()})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.setState({scheduledDownload:!1,scheduledDownloadStatus:void 0})},d.$2=function(){var a=d.state.parentPageID;d.state.scheduledDownloadStatus===b("PagesLocationsDownloadStatus").SCHEDULED&&a!=null&&b("promiseDone")(g({parentPageID:a,startNew:!1}),function(a){if(d.state.scheduledDownloadStatus!==b("PagesLocationsDownloadStatus").SCHEDULED)return;d.setState({scheduledDownloadStatus:a.status,scheduledDownloadUrl:a.exportUrl});setTimeout(d.$2,1e3)},d.$2)},d.$3=function(){var a=d.state.parentPageID;if(a==null)return;d.setState({scheduledDownload:!0,scheduledDownloadStatus:b("PagesLocationsDownloadStatus").SCHEDULED});b("promiseDone")(g({parentPageID:a,startNew:!0}),function(a){d.setState({scheduledDownloadStatus:a.status,scheduledDownloadUrl:a.exportUrl}),setTimeout(d.$2,1e3)},function(a){d.setState({scheduledDownloadStatus:b("PagesLocationsDownloadStatus").FAILURE});throw a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([b("LMExportLocationsContainerStateSelector")])};c.calculateState=function(a){return babelHelpers["extends"]({},b("LMExportLocationsContainerStateSelector")(),{scheduledDownload:a!=null?a.scheduledDownload:!1})};var d=c.prototype;d.render=function(){var a=this.state,c=a.parentPageID;a=babelHelpers.objectWithoutPropertiesLoose(a,["parentPageID"]);return c==null?null:b("React").createElement(b("LMExportLocations.react"),{environment:a.environment,hasScheduledDownload:a.scheduledDownload,locationsCount:a.locationsCount,parentPageID:c,scheduledDownloadStatus:a.scheduledDownloadStatus,scheduledDownloadUrl:a.scheduledDownloadUrl,onCancel:this.$1,onScheduleDownload:this.$3})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMLocationSetCreateButton.react",["fbt","FDSButton.react","LMUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMUtils").applySTORenaming;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(!this.props.permissions.canEdit)return h(g._("You don't have permission to create location sets."),g._("You don't have permission to create store sets."));return this.props.selectedLocationIDs.size===0?h(g._("Select one or more locations to create a location set."),g._("Select one or more stores to create a store set.")):null};d.render=function(){var a=this.props.selectedLocationIDs.size;return b("React").createElement(b("FDSButton.react"),{isDisabled:this.props.disabled||!this.props.permissions.canEdit||a===0,label:h(g._("Create Location Set"),g._("Create Store Set")),tooltip:this.$1(),onClick:this.props.onOpenLocationSetCreateModal})};return c}(b("React").Component);e.exports=a}),null);
__d("LMLocationSetCreateDialogSetName.react",["cx","fbt","AdsInfoTable.react","AdsInfoTableRow.react","LMUtils","React","SUIBusinessTheme","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("LMUtils").applySTORenaming;function a(a){return b("React").createElement(b("AdsInfoTable.react"),null,b("React").createElement(b("AdsInfoTableRow.react"),{label:i(h._("Location Set Name"),h._("Store Set Name"))},b("React").createElement("div",{className:"_6llc"},b("React").createElement(b("SUITextInput.react"),{display:"inline",placeholder:i(h._("Enter a name for your location set"),h._("Enter a name for your shop set")),theme:b("SUIBusinessTheme"),value:a.currentName,width:"100%",onChange:a.onNameChange}))))}e.exports=a}),null);
__d("LMLocationSetMetaInputContainerStateSelector",["AdsDefaultTargetingRadiusProvider","AdsDefaultTargetingRadiusProviderKey","AdsEmptyValue","AdsLocationMetaStoreKey","AdsNewLocationTargetingSelectors","LMLocationSetCreateDialogEditorProvider","LMLocationSetCreateDialogSelectors","adsCreateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsNewLocationTargetingSelectors").adsLocationMetadataStoreSelector;c=b("AdsNewLocationTargetingSelectors").adsLocationMetadataWithDefaultRadiusStoreSelector;d=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;f=b("LMLocationSetCreateDialogSelectors").LMSelectedChildPartialsSelector;d=b("adsCreateSelector")([d,b("AdsDefaultTargetingRadiusProvider").toFluxSelector(),b("LMLocationSetCreateDialogEditorProvider").toFluxSelector(),f,a,c],function(a,c,d,e,f,g){var h=new(b("AdsLocationMetaStoreKey"))({campaignIDs:new(b("AdsEmptyValue"))(),pageSetID:null});if(a==null)return{metadata:f(h)};f=d.get(a).selectedCountryCodeForValidation||e.map(function(a){return a.country_code}).filter(function(a){return!!a}).first();d=c.get(new(b("AdsDefaultTargetingRadiusProviderKey"))({parentPageID:a,countryCode:f})).map(function(a){return g(h,void 0,a)});return{metadata:d}},{name:e.id});e.exports=d}),null);
__d("LMLocationSetCreateDialogSetNameContainer.react",["AdsEmptyValue","AdsLocationMetaActionsTypeUpdateDataAction","AdsLocationMetaConstant","AdsLocationMetaStoreKey","AdsSelectorUtils","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FluxContainer","LMLocationSetCreateDialogSetName.react","LMLocationSetMetaInputContainerStateSelector","React","loadObjectComponentWithSpinner"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("loadObjectComponentWithSpinner")({loaded:function(a,c){return b("React").createElement(b("LMLocationSetCreateDialogSetName.react"),{currentName:a.name!=null?a.name:"",onNameChange:c.onNameChange})},error:function(a){return b("React").createElement(b("FDSGuidanceCard.react"),{category:"error"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,null),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,a.message)))}});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("AdsSelectorUtils").getStores([b("LMLocationSetMetaInputContainerStateSelector")])};c.calculateState=function(a,c){return b("LMLocationSetMetaInputContainerStateSelector")()};var d=c.prototype;d.render=function(){return b("React").createElement(g,{object:this.state.metadata,onNameChange:this.$1})};d.$1=function(a){b("AdsLocationMetaActionsTypeUpdateDataAction").dispatch({locationMetaKey:new(b("AdsLocationMetaStoreKey"))({campaignIDs:b("AdsEmptyValue").instance(),pageSetID:null}),path:b("AdsLocationMetaConstant").NAME_PATH,value:a},{line:"82",module:"LMLocationSetCreateDialogSetNameContainer.react.js"})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMLocationSetDialogAdAccountContainerStateSelector",["CurrentUser","LMAdAccountsProvider","LMLocationSetCreateDialogSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;c=b("LMLocationSetCreateDialogSelectors").LMLocationSetActiveAdAccountIDSelector;d=b("adsCreateSelector")([b("LMAdAccountsProvider").toFluxSelector(),a,c],function(a,c,d){return{adAccounts:a.get(b("CurrentUser").getAccountID()),activeAdAccountID:d,currentPageID:c}},{name:e.id});e.exports=d}),null);
__d("LMLocationSetDialogAdAccountSelectorContainer",["fbt","AdsInfoTable.react","AdsInfoTableRow.react","AdsSelectorUtils","FluxContainer","LMLocationSetCreateDialogEditorUpdateStateAction","LMLocationSetDialogAdAccountContainerStateSelector","LMLocationSetDialogAdAccountSelector","LMUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMUtils").applySTORenaming;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.state.currentPageID!=null&&b("LMLocationSetCreateDialogEditorUpdateStateAction").dispatch({key:d.state.currentPageID,updates:{selectedAdAccountID:a}},{line:"66",module:"LMLocationSetDialogAdAccountSelectorContainer.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[].concat(b("AdsSelectorUtils").getStores([b("LMLocationSetDialogAdAccountContainerStateSelector")]))};c.calculateState=function(a,c){return b("LMLocationSetDialogAdAccountContainerStateSelector")()};var d=c.prototype;d.render=function(){return b("React").createElement(b("AdsInfoTable.react"),null,b("React").createElement(b("AdsInfoTableRow.react"),{label:h(g._("Ad Account"),g._("Ad account"))},b("React").createElement(b("LMLocationSetDialogAdAccountSelector"),{activeAdAccountID:this.state.activeAdAccountID,adAccounts:this.state.adAccounts,onAdAccountChange:this.$1})))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMLocationSetRadiusSelector.react",["fbt","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsLocationMetaConstant","AdsNewLocationTargetingRadiusSizeInput.react","AHGUtils","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSLink.react","FDSText.react","LMUtils","React","loadObjectComponentWithSpinner","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMUtils").applySTORenaming,i="202297959811696",j=[b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:b("AdsLocationMetaConstant").AUDIENCE,value:b("AdsLocationMetaConstant").AUDIENCE},g._("Automatic radius")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:b("AdsLocationMetaConstant").DISTANCE,value:b("AdsLocationMetaConstant").DISTANCE},g._("Fixed radius"))],k=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(){return b.props.onToggleMaxRadiusSize(!0)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return b("React").createElement(b("AdsInfoTableRow.react"),{label:g._("Targeting Area")},b("React").createElement(b("FDSDropdownSelector.react"),{value:this.props.currentlySelectedType,onChange:this.props.onRadiusTypeChange},j),this.props.currentlySelectedType===b("AdsLocationMetaConstant").AUDIENCE&&!this.props.hasMax?b("React").createElement(b("FDSLink.react"),{margin:"_3-9a",onClick:this.$1},g._("Set maximum radius")):null)};return a}(b("React").PureComponent),l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(){return b.props.onToggleMaxRadiusSize(!1)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){if(this.props.metadata.selectedRadiusType===b("AdsLocationMetaConstant").DISTANCE)return b("React").createElement(b("AdsInfoTableRow.react"),{label:g._("Radius size")},b("React").createElement(b("AdsNewLocationTargetingRadiusSizeInput.react"),{currentValueType:"distance",metadata:this.props.metadata,onDistanceUnitChange:this.props.onDistanceUnitChange,onRadiusSizeChange:this.props.onRadiusSizeChange}));return this.props.metadata.selectedRadiusType===b("AdsLocationMetaConstant").AUDIENCE&&!!this.props.metadata.radiuses.get("audience").hasMax?b("React").createElement(b("AdsInfoTableRow.react"),{label:g._("Max. radius")},b("React").createElement(b("AdsNewLocationTargetingRadiusSizeInput.react"),{currentValueType:"max_radius",metadata:this.props.metadata,onDistanceUnitChange:this.props.onDistanceUnitChange,onHide:this.$1,onRadiusSizeChange:this.props.onMaxRadiusSizeChange})):null};return a}(b("React").PureComponent);function m(a){var c="";switch(a.currentlySelectedType){case b("AdsLocationMetaConstant").AUDIENCE:c=h(g._("Reach people who are near your locations. The size of the area will depend on the population density."),g._("Show your ads to people who are near your stores. The size of the targeting area will depend on population density."));break;case b("AdsLocationMetaConstant").DISTANCE:c=h(g._("Reach people within a fixed distance of your locations. The default distance is customised for your business based on your previous campaigns."),g._("Show your ads to people who are within a fixed distance of your stores. The default distance is customized for your business based on your previous campaigns."));break;default:c=""}return b("React").createElement(b("AdsInfoTableRow.react"),null,b("React").createElement(b("FDSText.react"),{color:"placeholder",margin:"_3-8_",size:"body3"},c),b("React").createElement(b("FDSLink.react"),{href:b("AHGUtils").getHelpCenterURI(i).toString(),target:"_blank"},g._("Learn more.")))}var n=b("loadObjectComponentWithSpinner")({error:function(a){return b("React").createElement(b("FDSGuidanceCard.react"),{category:"error"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,null),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,a.message)))},loaded:function(a,c){return b("React").createElement(b("AdsInfoTable.react"),null,b("React").createElement(b("AdsInfoTableSection.react"),null,b("React").createElement(k,{currentlySelectedType:a.selectedRadiusType,hasMax:!!a.radiuses.get("audience").hasMax,onRadiusTypeChange:c.onRadiusTypeChange,onToggleMaxRadiusSize:c.onToggleMaxRadiusSize}),b("React").createElement(l,{metadata:a,onDistanceUnitChange:c.onDistanceUnitChange,onMaxRadiusSizeChange:c.onMaxRadiusSizeChange,onRadiusSizeChange:c.onRadiusSizeChange,onToggleMaxRadiusSize:c.onToggleMaxRadiusSize}),b("React").createElement(m,{currentlySelectedType:a.selectedRadiusType})))}});function a(a){return b("React").createElement(n,babelHelpers["extends"]({object:a.locationMetadata},a))}e.exports=a}),null);
__d("LMLocationSetRadiusSelectorContainer.react",["AdsEmptyValue","AdsLocationMetaActionsTypeUpdateDataAction","AdsLocationMetaActionsTypeUpdateRadiusAction","AdsLocationMetaConstant","AdsLocationMetaStoreKey","AdsSelectorUtils","FluxContainer","LMLocationSetMetaInputContainerStateSelector","LMLocationSetRadiusSelector.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("AdsLocationMetaActionsTypeUpdateDataAction").dispatch({locationMetaKey:d.$6(),path:b("AdsLocationMetaConstant").DISTANCE_UNIT_PATH,value:a},{line:"59",module:"LMLocationSetRadiusSelectorContainer.react.js"})},d.$3=function(a){b("AdsLocationMetaActionsTypeUpdateRadiusAction").dispatch({locationMetaKey:d.$6(),path:b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH,value:a},{line:"67",module:"LMLocationSetRadiusSelectorContainer.react.js"})},d.$4=function(a){b("AdsLocationMetaActionsTypeUpdateDataAction").dispatch({locationMetaKey:d.$6(),path:b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH,value:a},{line:"75",module:"LMLocationSetRadiusSelectorContainer.react.js"})},d.$2=function(a){b("AdsLocationMetaActionsTypeUpdateRadiusAction").dispatch({locationMetaKey:d.$6(),path:b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH,value:a},{line:"83",module:"LMLocationSetRadiusSelectorContainer.react.js"})},d.$5=function(a){b("AdsLocationMetaActionsTypeUpdateDataAction").dispatch({locationMetaKey:d.$6(),path:b("AdsLocationMetaConstant").AUDIENCE_HASMAX_PATH,value:a},{line:"91",module:"LMLocationSetRadiusSelectorContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return b("AdsSelectorUtils").getStores([b("LMLocationSetMetaInputContainerStateSelector")])};c.calculateState=function(a,c){return b("LMLocationSetMetaInputContainerStateSelector")()};var d=c.prototype;d.render=function(){return b("React").createElement(b("LMLocationSetRadiusSelector.react"),{locationMetadata:this.state.metadata,onDistanceUnitChange:this.$1,onMaxRadiusSizeChange:this.$2,onRadiusSizeChange:this.$3,onRadiusTypeChange:this.$4,onToggleMaxRadiusSize:this.$5})};d.$6=function(){return new(b("AdsLocationMetaStoreKey"))({campaignIDs:b("AdsEmptyValue").instance(),pageSetID:null})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMLocationSetCreateDialog.react",["ix","cx","fbt","AdsCCCategory","AdsInfoTable.react","AdsInfoTableRow.react","AdsStaticGuidanceCard.react","CountryNames","FDSButton.react","FDSDivider.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","Image.react","ISOCountryCode","LMLocationSetCreateDialogSetNameContainer.react","LMLocationSetCreateDialogStep","LMLocationSetDialogAdAccountSelectorContainer","LMLocationSetRadiusSelectorContainer.react","LMUtils","LocationSetProgressBar.react","React","SUIBusinessThemeContainer.react","SUIRadioList.react","asset","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMUtils").applySTORenaming,k=b("SUIRadioList.react").Item,l=640,m=68;function n(a){return b("React").createElement(b("AdsInfoTable.react"),null,b("React").createElement(b("AdsInfoTableRow.react"),{label:i._("Country")},b("React").createElement("div",{className:"_6qsl"},i._("{country_name}",[i._param("country_name",b("CountryNames")[b("ISOCountryCode")[a.selectedCountryCode]])]))))}function o(a){return b("React").createElement("div",{className:"_6q-k"},b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-96",size:"body1"},j(i._("Location sets can only be created using stores that are in the same country. Choose a country for this location set and we'll remove locations in any other countries from this selection."),i._("Store sets can only be created with stores that are in the same country. Choose a country for this store set and we'll remove any stores from other countries."))),b("React").createElement(b("SUIRadioList.react"),{value:a.selectedCountryCodeForValidation,onChange:a.onSelectedCountryChange},a.selectedCountryCodes.map(function(a,c){return b("React").createElement(k,{key:c,value:c},j(i._({"*":"{country name} ({number} locations)","_1":"{country name} (1 location)"},[i._param("country name",b("CountryNames")[b("ISOCountryCode")[c]]),i._plural(a.length,"number")]),i._({"*":"{country name} ({number} stores)","_1":"{country name} (1 store)"},[i._param("country name",b("CountryNames")[b("ISOCountryCode")[c]]),i._plural(a.length,"number")])))}).toList())))}function p(a){return a.permanentlyClosedLocations.size>0||a.unpublishedLocations.size>0?b("React").createElement(b("AdsInfoTable.react"),null,b("React").createElement(b("AdsInfoTableRow.react"),{label:void 0},b("React").createElement(r,{permanentlyClosedLocations:a.permanentlyClosedLocations,unpublishedLocations:a.unpublishedLocations,onOpenLocationListInfoModal:a.onOpenLocationListInfoModal,onRemoveInvalidLocations:a.onRemoveInvalidLocations}))):a.showRemovalSuccess?b("React").createElement(b("AdsInfoTable.react"),null,b("React").createElement(b("AdsInfoTableRow.react"),{label:void 0},b("React").createElement(q,{removedLocationsCount:a.removedLocationsCount,selectedCountryCodes:a.selectedCountryCodes}))):null}function q(a){var c=j(i._({"*":"This location set contains {number} locations in {selected country}","_1":"This location set contains 1 location in {selected country}"},[i._plural(a.selectedCountryCodes.first().length,"number"),i._param("selected country",a.selectedCountryCodes.keySeq().first())]),i._({"*":"This store set contains {number} stores in {selected country}","_1":"This store set contains 1 store in {selected country}"},[i._plural(a.selectedCountryCodes.first().length,"number"),i._param("selected country",a.selectedCountryCodes.keySeq().first())]));a=j(i._({"*":"{number} locations removed","_1":"1 location removed"},[i._plural(a.removedLocationsCount,"number")]),i._({"*":"{number} stores removed","_1":"1 store removed"},[i._plural(a.removedLocationsCount,"number")]));return b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK_SUCCESS_MESSAGE,header:a,messageID:"remove_invalid_location_success",textData:[{type:"PARAGRAPH",data:{text:c}}]}})}function r(a){var c=j(i._({"*":"{number} locations","_1":"1 location"},[i._plural(a.permanentlyClosedLocations.size+a.unpublishedLocations.size,"number")]),i._({"*":"{number} stores","_1":"1 store"},[i._plural(a.permanentlyClosedLocations.size+a.unpublishedLocations.size,"number")])),d=j(i._("{number of locations} can't be used in ads because they are permanently closed or unpublished. As a result they need to be removed from this selection.",[i._param("number of locations",c)]),i._({"*":{"*":"{unusable stores} stores can't be used in ads because they are permanently closed or unpublished. Please remove the {number} stores from this selection.","_1":"{unusable stores} stores can't be used in ads because they are permanently closed or unpublished. Please remove the 1 store from this selection."},"_1":{"*":"1 store can't be used in ads because they are permanently closed or unpublished. Please remove the {number} stores from this selection.","_1":"1 store can't be used in ads because they are permanently closed or unpublished. Please remove the 1 store from this selection."}},[i._plural(c,"unusable stores"),i._plural(a.permanentlyClosedLocations.size+a.unpublishedLocations.size,"number")])),e=i._("{number of locations} cannot be added",[i._param("number of locations",c)]);return b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,header:e,messageID:"remove_invalid_locations",textData:[{type:"PARAGRAPH",data:{text:d}}],ctaData:[{type:"LINK",data:{text:j(i._("View locations"),i._("View Stores")),onCallToAction:a.onOpenLocationListInfoModal}},{type:"BUTTON_GROUP",data:{buttonsData:[{text:i._("Remove {locations_number}",[i._param("locations_number",c)]),onCallToAction:a.onRemoveInvalidLocations}]}}]}})}function s(){return b("React").createElement("div",{className:"_6off"},b("React").createElement("div",{className:"_6ofg _6ofh"},b("React").createElement(b("Image.react"),{src:g("478326")})),b("React").createElement("div",{className:"_6ofi"},j(i._("Location Set Not Created"),i._("Store Set Not Created"))),b("React").createElement("div",{className:"_6ofj"},j(i._("Your location set couldn't be created. Please refresh the Page and try again."),i._("Your store set couldn't be created. Please refresh the page and try again."))))}function t(a){return b("React").createElement("div",{className:"_6off"},b("React").createElement("div",{className:"_6ofg _6ofk"},b("React").createElement(b("Image.react"),{src:g("505219")})),b("React").createElement("div",{className:"_6ofi"},j(i._("Location Set Created"),i._("Store Set Created"))),b("React").createElement("div",{className:"_6ofj"},a.pageSetName!=null?i._("You can now use {location_set_name} to run store traffic ads.",[i._param("location_set_name",b("React").createElement(b("FDSText.react"),{display:"inline",size:"body3",weight:"bold"},a.pageSetName))]):i._("You can now use it to run store visits ads.")))}function u(a){switch(a.currentStep){case b("LMLocationSetCreateDialogStep").STEP_1:return b("React").createElement(o,{selectedCountryCodeForValidation:a.selectedCountryCodeForValidation,selectedCountryCodes:a.selectedCountryCodes,onSelectedCountryChange:a.onSelectedCountryChange});case b("LMLocationSetCreateDialogStep").STEP_2:return b("React").createElement("div",{className:"_6llb _6ral"},b("React").createElement(n,{selectedCountryCode:a.selectedCountryCodes.keySeq().first()}),b("React").createElement(p,{permanentlyClosedLocations:a.permanentlyClosedLocations,removedLocationsCount:a.removedLocationsCount,selectedCountryCodes:a.selectedCountryCodes,showRemovalSuccess:a.showRemovalSuccess,unpublishedLocations:a.unpublishedLocations,onOpenLocationListInfoModal:a.onOpenLocationListInfoModal,onRemoveInvalidLocations:a.onRemoveInvalidLocations}),b("React").createElement(b("LMLocationSetDialogAdAccountSelectorContainer"),null),b("React").createElement(b("LMLocationSetCreateDialogSetNameContainer.react"),null),b("React").createElement(b("FDSDivider.react"),{margin:"_3-8p"}),b("React").createElement(b("LMLocationSetRadiusSelectorContainer.react"),null));case b("LMLocationSetCreateDialogStep").LOCATIONSET_CREATION_STEP:return b("React").createElement(b("LocationSetProgressBar.react"),{currentProgress:a.creationProgressState.currentProgress});case b("LMLocationSetCreateDialogStep").RESULT_STEP:return a.creationProgressState.error!=null?b("React").createElement(s,null):b("React").createElement(t,{pageSetName:a.pageSetName})}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("FDSModal.react"),{behaviors:{LayerHideOnBlur:null},footer:b("React").createElement(b("FDSModalFooter.react"),{leftContent:this.props.currentStep<b("LMLocationSetCreateDialogStep").RESULT_STEP?b("React").createElement(b("FDSButton.react"),{isDisabled:this.props.currentStep===b("LMLocationSetCreateDialogStep").LOCATIONSET_CREATION_STEP,label:i._("Cancel"),onClick:this.props.onDialogHide}):null,primaryButton:this.props.currentStep<=b("LMLocationSetCreateDialogStep").LOCATIONSET_CREATION_STEP?b("React").createElement(b("FDSButton.react"),{isDisabled:!this.props.isContinueButtonEnabled||this.props.currentStep===b("LMLocationSetCreateDialogStep").LOCATIONSET_CREATION_STEP,label:this.props.currentStep===b("LMLocationSetCreateDialogStep").STEP_1?i._("Select"):i._("Continue"),use:"primary",width:m,onClick:this.props.currentStep===b("LMLocationSetCreateDialogStep").STEP_1?this.props.onSelectedCountrySubmit:this.props.onCreatePageSetClick}):b("React").createElement(b("FDSButton.react"),{isDisabled:!this.props.isContinueButtonEnabled,label:this.props.creationProgressState.error!=null?i._("Close"):i._("Done"),use:"primary",width:m,onClick:this.props.onDialogHide})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:this.props.currentStep===b("LMLocationSetCreateDialogStep").STEP_1?i._("Confirm country selection"):this.props.currentStep!=b("LMLocationSetCreateDialogStep").RESULT_STEP?j(i._("Create a location set"),i._("Create a store set")):this.props.creationProgressState.error!=null?i._("Error"):i._("Success")}),isShown:this.props.isDialogShown,width:l,onHide:this.props.onDialogHide},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(u,{creationProgressState:this.props.creationProgressState,currentStep:this.props.currentStep,pageSetName:this.props.metadata.hasValue()?this.props.metadata.getValueEnforcing().name:null,permanentlyClosedLocations:this.props.permanentlyClosedLocations,removedLocationsCount:this.props.removedLocationsCount,selectedCountryCodeForValidation:this.props.selectedCountryCodeForValidation,selectedCountryCodes:this.props.selectedCountryCodes,showRemovalSuccess:this.props.showRemovalSuccess,unpublishedLocations:this.props.unpublishedLocations,onOpenLocationListInfoModal:this.props.onOpenLocationListInfoModal,onRemoveInvalidLocations:this.props.onRemoveInvalidLocations,onSelectedCountryChange:this.props.onSelectedCountryChange,onSelectedCountrySubmit:this.props.onSelectedCountrySubmit})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LMLocationSetDialogStateSelector",["AdsEmptyValue","AdsLocationMetaStoreKey","AdsNewLocationTargetingSelectors","LMLocationSetCreateDialogSelectors","LMLocationSetCreateDialogStep","adsCreateSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsNewLocationTargetingSelectors").adsLocationMetadataStoreSelector;c=b("LMLocationSetCreateDialogSelectors").LMConfigStoreCurrentParentPageSelector;d=b("LMLocationSetCreateDialogSelectors").LMLocationSetActiveAdAccountIDSelector;f=b("LMLocationSetCreateDialogSelectors").LMLocationSetCreateDialogEditorSelector;var g=b("LMLocationSetCreateDialogSelectors").LMLocationSetCreationProgressSelector,h=b("LMLocationSetCreateDialogSelectors").LMLocationSetTreeKeySelector,i=b("LMLocationSetCreateDialogSelectors").LMSelectedChildPartialsSelector;d=b("adsCreateSelector")([d,c,f,g,h,i,a],function(a,c,d,e,f,g,h){__p&&__p();var i=d.currentStep,j=d.selectedCountryCodeForValidation;d=d.showDialog;var k=new(b("AdsLocationMetaStoreKey"))({campaignIDs:b("AdsEmptyValue").instance(),pageSetID:null});h=h(k);var l=new Map();g.forEach(function(a){var c=a.country_code;c!=null&&(l.has(c)?b("nullthrows")(l.get(c)).push(a.page_id):l.set(c,[a.page_id]))});var m=new Set(),n=new Set(),o=new Set();g.forEach(function(a){!a.is_published?o.add({page_id:a.page_id,single_line_address:a.single_line_address}):a.permanently_closed?n.add({page_id:a.page_id,single_line_address:a.single_line_address}):a.latitude&&a.longitude&&m.add({page_id:a.page_id,latitude:a.latitude.toString(),longitude:a.longitude.toString()})});k=b("immutable").Map(l);g=i===b("LMLocationSetCreateDialogStep").STEP_1||h.hasValue()&&h.getValueEnforcing().name!=null&&b("nullthrows")(h.getValueEnforcing().name).trim()!=""&&a.hasValue();return{activeAdAccountID:a,creationProgressState:e,currentPageID:c,currentStep:i,isContinueButtonEnabled:g,metadata:h,permanentlyClosedLocations:b("immutable").Set(n),selectedChildPartialsForAPI:b("immutable").Set(m),selectedCountryCodes:k,selectedCountryCodeForValidation:j==null&&l.size>0?k.keySeq().first():j,showDialog:d,treeKey:f,unpublishedLocations:b("immutable").Set(o)}},{name:e.id});e.exports={LMLocationSetDialogStateSelector:d}}),null);
__d("LocationListInfoModal.react",["cx","fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React","ScrollableArea.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=600,j=200;function k(a){var c=a.infoType;a=a.size;return b("React").createElement(b("FDSText.react"),{display:"block",size:"header4"},h._({"*":"{number} locations are {infoType key word}","_1":"1 location are {infoType key word}"},[h._plural(a,"number"),h._param("infoType key word",c)]))}function l(a){var c=a.infoType;a=a.locations;return b("React").createElement(b("React").Fragment,null,c!=null&&b("React").createElement(k,{infoType:c,size:a.size}),b("React").createElement("div",{className:"_6r0w"},b("React").createElement(b("ScrollableArea.react"),{fade:!1,maxHeight:j},a.map(function(a){return b("React").createElement(b("FDSText.react"),{display:"truncate",key:a,size:"body1"},h._("{single_line_address}",[h._param("single_line_address",a)]))}))))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Close"),onClick:this.props.onHide})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:this.props.title}),isShown:this.props.isShown,width:i,onHide:this.props.onHide},b("React").createElement(b("FDSSection.react"),null,this.props.locations.filter(function(a){a=a.size;return a>0}).map(function(a,c){return b("React").createElement(l,{infoType:c,key:c,locations:a})}).toList()))};return c}(b("React").Component);e.exports=a}),null);
__d("LocationSetValidationState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",ERROR_INFO_MODAL:"error_info_modal",REMOVAL_SUCCESS:"removal_success"})}),null);
__d("LMLocationSetCreateDialogContainer",["fbt","AdsEmptyValue","AdsLocationMetaStoreKey","AdsSelectorUtils","CurrentUser","FluxContainer","LMActions","LMLocationSetCreateDialog.react","LMLocationSetCreateDialogEditorUpdateStateAction","LMLocationSetCreateDialogStep","LMLocationSetCreationLoggerActionTypes","LMLocationSetCreationSaveFromPageIDListAction","LMLocationSetDialogStateSelector","LMLocationSetEditorResetStateAction","LocationListInfoModal.react","LocationSetValidationState","React","WebFunnelLogger","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMLocationSetDialogStateSelector").LMLocationSetDialogStateSelector;function i(a,b,c){return a.unpublishedLocations.size+a.permanentlyClosedLocations.size>0&&b.size+c.size===0}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.state.currentPageID!=null&&b("LMLocationSetCreateDialogEditorUpdateStateAction").dispatch({key:d.state.currentPageID,updates:{currentStep:b("LMLocationSetCreateDialogStep").getNextStep(d.state.currentStep)}},{line:"185",module:"LMLocationSetCreateDialogContainer.js"})},d.$2=function(){var a=d.state,c=a.currentPageID,e=a.treeKey;a=a.activeAdAccountID;a.hasValue()&&c!=null&&d.state.metadata.hasValue()&&e!=null&&d.state.selectedChildPartialsForAPI.size>0&&(b("LMLocationSetCreationSaveFromPageIDListAction").dispatch({accountID:a.getValueEnforcing(),locationFromPartials:d.state.selectedChildPartialsForAPI,locationMeta:d.state.metadata.getValueEnforcing(),pageID:c,treeKey:e,onPageSetCreated:d.$9},{line:"205",module:"LMLocationSetCreateDialogContainer.js"}),new(b("WebFunnelLogger"))("LMLocationSetCreationFunnelDefinition").setSessionKey(b("CurrentUser").getID()).setAction(b("LMLocationSetCreationLoggerActionTypes").CLICK_CREATE_LOCATION_SET).log(),d.$1())},d.$9=function(a,c,e){new(b("WebFunnelLogger"))("LMLocationSetCreationFunnelDefinition").setSessionKey(b("CurrentUser").getID()).setAction(b("LMLocationSetCreationLoggerActionTypes").LOCATION_SET_CREATION_SUCCESS).markEnd().log(),d.$1()},d.$3=function(){var a=d.state.currentPageID;a!=null&&d.state.currentStep!==b("LMLocationSetCreateDialogStep").LOCATIONSET_CREATION_STEP&&(b("LMLocationSetEditorResetStateAction").dispatch({key:a,locationMetaKey:new(b("AdsLocationMetaStoreKey"))({campaignIDs:b("AdsEmptyValue").instance(),pageSetID:null})},{line:"247",module:"LMLocationSetCreateDialogContainer.js"}),new(b("WebFunnelLogger"))("LMLocationSetCreationFunnelDefinition").setSessionKey(b("CurrentUser").getID()).setAction("click_cancel_at_step_"+d.state.currentStep).markEnd().log())},d.$8=function(){d.setState({validationState:b("LocationSetValidationState").NONE})},d.$4=function(){d.setState({validationState:b("LocationSetValidationState").ERROR_INFO_MODAL})},d.$5=function(){var a=d.state,c=a.currentPageID,e=a.permanentlyClosedLocations;a=a.unpublishedLocations;c!=null&&(b("LMActions").dispatchActionFromView({type:"lm.remove_batch_locations",ids:b("immutable").Set().union(a.map(function(a){return a.page_id})).union(e.map(function(a){return a.page_id})),parentPageID:c}),new(b("WebFunnelLogger"))("LMLocationSetCreationFunnelDefinition").setSessionKey(b("CurrentUser").getID()).setAction(b("LMLocationSetCreationLoggerActionTypes").CLICK_REMOVE_INVALID_LOCATION).log())},d.$6=function(a){d.state.currentPageID!=null&&b("LMLocationSetCreateDialogEditorUpdateStateAction").dispatch({key:d.state.currentPageID,updates:{selectedCountryCodeForValidation:a}},{line:"299",module:"LMLocationSetCreateDialogContainer.js"})},d.$7=function(){var a=d.state,c=a.currentPageID;a=a.selectedCountryCodes;c!=null&&a!=null&&b("LMActions").dispatchActionFromView({type:"lm.select_batch_locations",ids:d.state.selectedCountryCodes.get(d.state.selectedCountryCodeForValidation),parentPageID:c});new(b("WebFunnelLogger"))("LMLocationSetCreationFunnelDefinition").setSessionKey(b("CurrentUser").getID()).setAction(b("LMLocationSetCreationLoggerActionTypes").CONFIRM_COUNTRY_SELECTION).log();d.$1()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([h])};c.calculateState=function(a,c){c=h();var d=c.unpublishedLocations;c=c.permanentlyClosedLocations;var e=b("LocationSetValidationState").NONE,f=0;a!=null&&a.showDialog&&(i(a,c,d)?(f=a.unpublishedLocations.size+a.permanentlyClosedLocations.size,e=b("LocationSetValidationState").REMOVAL_SUCCESS):(e=a.validationState!=null?a.validationState:b("LocationSetValidationState").NONE,f=a.removedLocationsCount!=null?a.removedLocationsCount:0));return babelHelpers["extends"]({},h(),{removedLocationsCount:f,validationState:e})};var d=c.prototype;d.render=function(){if(this.state.selectedCountryCodes.size===0)return null;var a=g._({"*":"{number} locations cannot be included","_1":"1 location cannot be included"},[g._plural(this.state.permanentlyClosedLocations.size+this.state.unpublishedLocations.size,"number")]);return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("LMLocationSetCreateDialog.react"),{creationProgressState:this.state.creationProgressState,currentStep:this.state.currentStep,isContinueButtonEnabled:this.state.isContinueButtonEnabled,isDialogShown:this.state.showDialog,metadata:this.state.metadata,permanentlyClosedLocations:this.state.permanentlyClosedLocations,removedLocationsCount:this.state.removedLocationsCount,selectedCountryCodeForValidation:this.state.selectedCountryCodeForValidation,selectedCountryCodes:this.state.selectedCountryCodes,showRemovalSuccess:this.state.validationState===b("LocationSetValidationState").REMOVAL_SUCCESS,unpublishedLocations:this.state.unpublishedLocations,onContinueClick:this.$1,onCreatePageSetClick:this.$2,onDialogHide:this.$3,onOpenLocationListInfoModal:this.$4,onRemoveInvalidLocations:this.$5,onSelectedCountryChange:this.$6,onSelectedCountrySubmit:this.$7}),b("React").createElement(b("LocationListInfoModal.react"),{isShown:this.state.validationState===b("LocationSetValidationState").ERROR_INFO_MODAL,locations:b("immutable").Map([["permanently closed",this.state.permanentlyClosedLocations.map(function(a){return a.single_line_address})],["unpublished",this.state.unpublishedLocations.map(function(a){return a.single_line_address})]]),title:a,onHide:this.$8}))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMRemoveLocationsButton.react",["ix","cx","fbt","FDSButton.react","FDSCheckboxInput.react","FDSText.react","LMUtils","React","SUIGlyphIcon.react","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react","SUINotice.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMUtils").applySTORenaming,k=b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("411468"),srcDisabled:g("411466")});function l(a){return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:!a.isCheckboxTicked,label:i._("Remove"),use:"primary",onClick:a.onDelete}),secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),null)}),header:b("React").createElement(b("SUIModalHeader.react"),{title:i._({"*":"Remove {number} shop Pages","_1":"Remove 1 shop Page"},[i._plural(a.locationCount,"number")])}),isShown:a.isShown,onHide:a.onHide},b("React").createElement("div",null,b("React").createElement(b("SUINotice.react"),{type:"warning"},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1"},j(i._({"*":"These shop Pages will no longer be linked to your main Page, so you cannot:","_1":"This shop Page will no longer be linked to your main Page, so you cannot:"},[i._plural(a.locationCount)]),i._({"*":"These store Pages will no longer be linked to your main Page. You won't be able to:","_1":" This store Page will no longer be linked to your main Page. You won't be able to:"},[i._plural(a.locationCount)]))),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x",size:"meta1"},b("React").createElement("ul",{className:"_6ddm"},b("React").createElement("li",null,i._({"*":"Use them in Store Traffic ads","_1":"Use it in Store Traffic ads"},[i._plural(a.locationCount)])),b("React").createElement("li",null,i._({"*":"Store visits will no longer be reported for them","_1":"Store visits will no longer be reported for it"},[i._plural(a.locationCount)])),b("React").createElement("li",null,i._({"*":"Share posts from your main Page to them","_1":"Share posts from your main Page to it"},[i._plural(a.locationCount)])))),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x",size:"meta1"},j(i._({"*":"If you want to permanently delete these Pages, you'll find the option in the Page settings.","_1":"If you want to permanently delete this Page, you'll find the option in the Page settings."},[i._plural(a.locationCount)]),i._({"*":"If you want to permanently delete these Pages, go to Page Settings.","_1":"If you want to permanently delete this Page, go to Page Settings."},[i._plural(a.locationCount)])))),b("React").createElement("div",{className:"_3-8z"},b("React").createElement(b("FDSCheckboxInput.react"),{label:i._({"*":"Yes, remove {number} shop Pages","_1":"Yes, remove 1 shop Page"},[i._plural(a.locationCount,"number")]),value:a.isCheckboxTicked,onChange:a.onChangeCheckbox}))))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.props.onClick(c.props.selectedLocationIDs)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){if(!this.props.permissions.isAdmin)return j(i._("You don't have permission to remove locations."),i._("You don't have permission to remove stores."));return this.props.selectedLocationIDs.size===0?j(i._("Select one or more locations to be removed."),i._("Select one or more stores to remove.")):null};d.render=function(){var a=this.props.selectedLocationIDs.size;return b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{icon:k,isDisabled:this.props.disabled||!this.props.permissions.isAdmin||a===0,label:a===0?j(i._("Remove Locations"),i._("Remove Stores")):j(i._({"*":"Remove {number} Locations","_1":"Remove 1 Location"},[i._plural(a,"number")]),i._({"*":"Remove {number} Stores","_1":"Remove 1 Store"},[i._plural(a,"number")])),tooltip:this.$1(),onClick:this.props.onToggleDeleteModal}),b("React").createElement(l,{isCheckboxTicked:this.props.isCheckboxTicked,isShown:this.props.isConfirmModalShown,locationCount:a,onChangeCheckbox:this.props.onToggleDeleteModalCheckbox,onDelete:this.$2,onHide:this.props.onToggleDeleteModal}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LMSelectLocationsByStoreIDContainer.react",["fbt","FDSButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FluxContainer","LMConfigStore","LMQueryLocationStore","LMTableUtils","LMUtils","React","SUIBusinessTheme","SUITextInput.react","immutable","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMTableUtils").selectSome,i=b("LMUtils").applySTORenaming;function j(a){var c=a.value,d=a.onChange,e=a.onClick;a=a.onHide;return b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:"Select",use:"primary",onClick:e})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:"Paste Page IDs, comma separated"}),isShown:!0,label:"Paste Page IDs",onHide:a},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("SUITextInput.react"),{autoFocus:!0,theme:b("SUIBusinessTheme"),value:c,onChange:d})))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.setState({showDialog:!1},function(){return h(d.state.parentPageID,d.state.query,b("immutable").List(d.state.value.split(",").map(function(a){return a.trim()})))})},d.$2=function(a){d.setState({value:a})},d.$1=function(){d.setState({showDialog:!0})},d.$4=function(){d.setState({showDialog:!1,value:""})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LMConfigStore"),b("LMQueryLocationStore")]};c.calculateState=function(a){var c=b("LMQueryLocationStore").getState(),d=b("LMConfigStore").getState();d=d.parentPageID;return{parentPageID:d,query:c,showDialog:a!=null?a.showDialog:!1,value:a!=null?a.value:""}};var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_3-9a"},b("React").createElement(b("FDSLink.react"),{onClick:this.$1},i(g._("[FB Only] Select locations by page id"),g._("[FB Only] Select stores by page id"))),this.state.showDialog&&b("React").createElement(j,{value:this.state.value,onChange:this.$2,onClick:this.$3,onHide:this.$4}))};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LMSelectedBusinessLocationsIndicator.react",["ix","cx","fbt","FDSLink.react","FDSText.react","LMUtils","React","SUIGlyphIcon.react","SUISpinner.react","SUIText.react","asset","formatNumber","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMUtils").applySTORenaming;a=function(a){var c=a.countError,d=a.countSelected,e=a.countTotal,f=a.isCountTotalEstimated,h=a.selectAllState,l=a.onCancelSelectAll;a=a.onClearSelection;return h.isLoading()?b("React").createElement("span",null,b("React").createElement(b("SUISpinner.react"),{size:"small",className:"_3-90"}),b("React").createElement(b("FDSText.react"),{size:"header3"},j(i._("Selecting all locations... {=[percentage]}",[i._param("=[percentage]",b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"meta1"},i._("{percentage}",[i._param("percentage",k(h))])))]),i._("Selecting all stores... {=[percentage]}",[i._param("=[percentage]",b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"meta1"},i._("{percentage}",[i._param("percentage",k(h))])))]))),b("React").createElement(b("FDSLink.react"),{margin:"_3-9a",onClick:l},i._("Cancel"))):b("React").createElement("span",null,d>0?b("React").createElement("span",null,b("React").createElement(b("FDSText.react"),{size:"header3"},j(i._({"*":"{count_selected} locations {count_total}","_1":"{count_selected} location {count_total}"},[i._param("count_selected",d),i._plural(d),i._param("count_total",b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"meta1"},"of ",e," ",i._({"*":"locations","_1":"location"},[i._plural(e)]),f?b("React").createElement("span",{className:"_3-9a"},i._("(estimated)")):null))]),i._({"*":"{number} stores {count_total}","_1":"1 store {count_total}"},[i._plural(d,"number"),i._param("count_total",b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"meta1"},"of"," ",i._({"*":"{number} stores","_1":"1 store"},[i._plural(e,"number")]),f?b("React").createElement("span",{className:"_3-9a"},i._("(estimated total)")):null))]))),b("React").createElement(b("FDSLink.react"),{margin:"_3-9a",onClick:a},i._("Clear Selection"))):b("React").createElement(b("FDSText.react"),{size:"header3"},j(i._({"*":"{count_total} locations","_1":"{count_total} location"},[i._param("count_total",e),i._plural(e)]),i._({"*":"{number} stores","_1":"1 store"},[i._plural(e,"number")])),f?b("React").createElement(b("SUIText.react"),{className:"_3-9a",shade:"light",size:"meta1"},j(i._("(estimated)"),i._("(estimated total)"))):null),c>0?b("React").createElement("div",{className:"_1i3n"},b("React").createElement(b("FDSText.react"),{color:"secondary"},b("React").createElement("span",{className:"_3-90"},b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("390678")})),j(i._({"*":"Error loading {number} locations","_1":"Error loading 1 location"},[i._plural(c,"number")]),i._({"*":"Error loading {number} locations","_1":"Error loading 1 store"},[i._plural(c,"number")])))):null)};function k(a){a=a.getValue();if(a==null)return null;var c=a.loaded;a=a.total;c=a===0?0:c*100/a;return i._("({percentage}\u0025)",[i._param("percentage",b("formatNumber")(c,2))])}e.exports=a}),null);
__d("LMSelectedBusinessLocationsIndicatorContainer.react",["FluxContainer","LMActions","LMChildPageFastFieldsStore","LMConfigStore","LMFilterLocationsStore","LMQueryLocationStore","LMSelectAllStore","LMSelectedBusinessLocationsIndicator.react","LMSelectedLocationIDsStore","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2e4;function h(){var a=b("LMQueryLocationStore").getState(),c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;b("LMActions").dispatchActionFromView({type:"lm.select_all.cancel",parentPageID:c,query:a})}function i(){var a=b("LMQueryLocationStore").getState(),c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;b("LMActions").dispatchActionFromView({type:"lm.select_all.clear",parentPageID:c,query:a})}function a(a){var c=a.countError,d=a.countSelected,e=a.selectAllState,f=a.countTotal.getValue();a=a.isCountTotalEstimated.getValue();return f==null||a==null?null:b("React").createElement(b("LMSelectedBusinessLocationsIndicator.react"),{countError:c,countSelected:d,countTotal:f,isCountTotalEstimated:a,selectAllState:e,onCancelSelectAll:h,onClearSelection:i})}function c(){return[b("LMChildPageFastFieldsStore"),b("LMConfigStore"),b("LMFilterLocationsStore"),b("LMQueryLocationStore"),b("LMSelectAllStore"),b("LMSelectedLocationIDsStore")]}function d(){__p&&__p();var a=b("LMConfigStore").getState();a=a.parentPageID;var c=b("LMQueryLocationStore").getState(),d=b("LMSelectedLocationIDsStore").getState().count();c=a!=null?b("LMFilterLocationsStore").getFor(a,c):b("LoadObject").empty();var e=c.map(function(a){return a.isExhausted?a.ids.size:a.estimatedCount||0}),f=c.map(function(a){return!a.isExhausted&&(a.estimatedCount||0)>g});c=c.map(function(a){return a.ids.toSet().map(function(a){return b("LMChildPageFastFieldsStore").get(a)}).filter(function(a){return a.hasError()}).count()}).getValue()||0;return{countError:c,countSelected:d,countTotal:e,isCountTotalEstimated:f,selectAllState:a!=null?b("LMSelectAllStore").get(a)||b("LoadObject").empty():b("LoadObject").empty()}}e.exports=b("FluxContainer").createFunctional(a,c,d)}),null);
__d("LMTableSettingsButton.react",["ix","fbt","FDSButton.react","React","SUIGlyphIcon.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("425375")}),label:h._("Table Settings"),labelIsHidden:!0,use:"flat",onClick:a.onClick})}e.exports=a}),null);
__d("LMSubNav.react",["cx","CurrentUser","FDSHorizontalLayout.react","LMBulkEditButton.react","LMExportLocationsContainer.react","LMLocationSetCreateButton.react","LMLocationSetCreateDialogContainer","LMRemoveLocationsButton.react","LMSelectedBusinessLocationsIndicatorContainer.react","LMSelectLocationsByStoreIDContainer.react","LMTableSettingsButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.permissions.getValue();return c==null?null:b("React").createElement("div",{className:"_ipl"},b("React").createElement(b("LMSelectedBusinessLocationsIndicatorContainer.react"),null),b("CurrentUser").isEmployee()&&b("React").createElement(b("LMSelectLocationsByStoreIDContainer.react"),null),b("React").createElement("div",{className:"_60vs"},b("React").createElement(b("FDSHorizontalLayout.react"),null,b("React").createElement(b("LMBulkEditButton.react"),{disabled:a.disabled,hasSeenNux:a.hasSeenEditButtonNux,permissions:c,selectedLocationIDs:a.selectedLocationIDs,onDismissNux:a.onDismissEditButtonNux,onToggle:a.onBulkEditLocations}),b("React").createElement(b("LMRemoveLocationsButton.react"),{disabled:a.disabled,isCheckboxTicked:a.isRemoveLocationsCheckboxTicked,isConfirmModalShown:a.isRemoveLocationsConfirmModalShown,permissions:c,selectedLocationIDs:a.selectedLocationIDs,onClick:a.onClickDelete,onToggleDeleteModal:a.onToggleDeleteModal,onToggleDeleteModalCheckbox:a.onToggleDeleteModalCheckbox}),b("React").createElement(b("LMLocationSetCreateButton.react"),{disabled:a.disabled,permissions:c,selectedLocationIDs:a.selectedLocationIDs,onOpenLocationSetCreateModal:a.onOpenLocationSetCreateModal}),b("React").createElement(b("LMExportLocationsContainer.react"),null),b("React").createElement(b("LMTableSettingsButton.react"),{onClick:a.onClickTableSettings}))),b("React").createElement(b("LMLocationSetCreateDialogContainer"),null))}e.exports=a}),null);
__d("LMSubNavContainer.react",["CurrentUser","FluxContainer","LMActions","LMChildCountStore","LMChildPageFastFieldsStore","LMConfigStore","LMKeyboardShortcutsModalStore","LMLocationSetCreatDialogUtils","LMLocationSetCreateDialogEditorUpdateStateAction","LMLocationSetCreateDialogStep","LMLocationSetCreationLoggerActionTypes","LMNuxDataManager","LMNuxStore","LMPermissionsStore","LMSelectAllStore","LMSelectedLocationIDsStore","LMSubNav.react","LoadObject","React","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMLocationSetCreatDialogUtils").hasSelectedMultipleCountries,h="1803266369965541";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){d.state.currentPageID!=null&&(b("LMLocationSetCreateDialogEditorUpdateStateAction").dispatch({key:d.state.currentPageID,updates:{showDialog:!0,currentStep:g()?b("LMLocationSetCreateDialogStep").STEP_1:b("LMLocationSetCreateDialogStep").STEP_2}},{line:"156",module:"LMSubNavContainer.react.js"}),new(b("WebFunnelLogger"))("LMLocationSetCreationFunnelDefinition").setSessionKey(b("CurrentUser").getID()).setAction(b("LMLocationSetCreationLoggerActionTypes").CLICK_OPEN_CREATION_DIALOG).markStart().log())},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LMChildCountStore"),b("LMConfigStore"),b("LMKeyboardShortcutsModalStore"),b("LMNuxStore"),b("LMPermissionsStore"),b("LMSelectAllStore"),b("LMSelectedLocationIDsStore")]};c.calculateState=function(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=a!=null&&a!==""?b("LMChildCountStore").get(a).getValue():null,d=a!=null&&a!==""?b("LMPermissionsStore").get(a):b("LoadObject").empty(),e=a!=null&&a!==""?b("LMSelectAllStore").getFor(a).isLoading():!1;c=c==null||e;e=b("LMKeyboardShortcutsModalStore").getState();var f=e.isRemoveLocationsCheckboxTicked;e=e.isRemoveLocationsConfirmModalShown;return{currentPageID:a,disabled:c,hasSeenEditButtonNux:b("LMNuxStore").getState().get(h,!1),isRemoveLocationsCheckboxTicked:f,isRemoveLocationsConfirmModalShown:e,permissions:d,selectedLocationIDs:b("LMSelectedLocationIDsStore").getState()}};var d=c.prototype;d.render=function(){return b("React").createElement(b("LMSubNav.react"),{disabled:this.state.disabled,hasSeenEditButtonNux:this.state.hasSeenEditButtonNux,isRemoveLocationsCheckboxTicked:this.state.isRemoveLocationsCheckboxTicked,isRemoveLocationsConfirmModalShown:this.state.isRemoveLocationsConfirmModalShown,permissions:this.state.permissions,selectedLocationIDs:this.state.selectedLocationIDs,onBulkEditLocations:this.$1,onClickDelete:this.$2,onClickTableSettings:this.$3,onDismissEditButtonNux:this.$4,onOpenLocationSetCreateModal:this.$5,onToggleDeleteModal:this.$6,onToggleDeleteModalCheckbox:this.$7})};d.$1=function(){b("LMActions").dispatchActionFromView({type:"lm.click_bulk_edit_locations"})};d.$4=function(){b("LMNuxDataManager").dismissNux(h)};d.$3=function(){b("LMActions").dispatchActionFromView({type:"lm.table_settings.click"})};d.$6=function(){b("LMActions").dispatchActionFromView({type:"lm.modal.toggle_deletion_confirmation"})};d.$7=function(){b("LMActions").dispatchActionFromView({type:"lm.modal.deletion_confirmation_checkbox"})};d.$2=function(a){var c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;a=a.map(function(a){return b("LMChildPageFastFieldsStore").get(a).getValueEnforcing()}).toArray();b("LMActions").dispatchActionFromView({type:"lm.modal.toggle_deletion_confirmation"});b("LMActions").dispatchActionFromView({type:"lm.publish.start",locations:a,operationID:null,operationType:"delete",parentPageID:c})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMColumnGroups",["fbt","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";a=[{columnGroupKey:"location_information",columnKeys:["address","street","city","zip","state","country_code","is_eligible_for_store_visit_reporting"].concat(b("CurrentUser").isEmployee()?["latitude","longitude"]:[],["wifi_information_name"]),label:g._("Location Information")},{columnGroupKey:"page_information",columnKeys:["name","phone","status","id","is_review_eligible","can_others_add_photos_and_videos","can_others_message","can_others_post","link"],label:g._("Page Information")},{columnGroupKey:"business_information",columnKeys:["price_range","store_number","store_code","website"],label:g._("Business Information")}];e.exports=a}),null);
__d("LMTableSettingsForm.react",["cx","fbt","BUIDraggableList.react","FDSCheckboxInput.maintenance.react","FDSLink.react","FDSText.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){var c=b.props,d=c.columnConfig;c=c.columns;b.props.onChange(a?c.set(d.columnKey,{width:d.defaultWidth}):c.remove(d.columnKey))},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=this.props,c=a.columnConfig;a=a.columns;return b("React").createElement(b("FDSCheckboxInput.maintenance.react"),{display:"block",label:b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1",weight:"bold"},c.label),value:a.has(c.columnKey),onChange:this.$1})};return a}(b("React").Component),j={marginRight:"auto"},k=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(){var a=b.props,c=a.columnGroup,d=a.columns;a=c.columnKeys.map(function(a){return[a,{width:null}]}).filter(function(a){return!d.has(a[0])});b.props.onChange(b.$2()?d.filter(function(a,b){return!c.columnKeys.includes(b)}):d.concat(a))},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return b("React").createElement("div",{className:"_3-95 _3nf2"},b("React").createElement("span",{style:j},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"header3",weight:"bold"},this.props.columnGroup.label)),b("React").createElement(b("FDSLink.react"),{onClick:this.$1},this.$2()?h._("Deselect all"):h._("Select all")))};d.$2=function(){var a=this.props,b=a.columnGroup,c=a.columns;return b.columnKeys.every(function(a){return c.has(a)})};return a}(b("React").Component);function l(a){return b("React").createElement("div",{className:"_3nf3"},b("React").createElement(k,{columnGroup:a.columnGroup,columns:a.columns,onChange:a.onChange}),b("React").createElement("div",{className:"_4tep"},a.columnGroup.columnKeys.map(function(b){return a.availableColumns.get(b)}).filter(function(b){var c=b.isColumnVisible;return c!=null&&!c(a.columnsVisibility)?null:b!=null}).map(function(c){return b("React").createElement("div",{className:"_3nf4",key:c.columnKey},b("React").createElement(i,{columnConfig:c,columns:a.columns,onChange:a.onChange}))})))}var m=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$4=function(a){b.props.onChange(b.props.columns.remove(a))},b.$5=function(a,c){var d=b.props.columns.get(a).width,e=b.props.columns.remove(a).toSeq().flatMap(function(b,e){return e===c?[[a,{width:d}],[e,b]]:[[e,b]]}).toOrderedMap().set(a,{width:d});b.props.onChange(e)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.$1=function(){var a=this.$2().keySeq().toArray();return this.props.columns.keySeq().toArray().filter(function(b){return a.includes(b)})};d.$2=function(){var a=this;return this.props.availableColumns.filter(function(b){var c=b.isColumnVisible;return c!=null&&!c(a.props.columnsVisibility)?null:b!=null})};d.$3=function(){return this.$2().map(function(a){return{id:a.columnKey,label:a.label,isMovable:!a.isRequired,isRemovable:!a.isRequired}}).toObject()};d.render=function(){return b("React").createElement("div",{className:"_4u3h"},b("React").createElement(b("BUIDraggableList.react"),{itemIDs:this.$1(),itemsByID:this.$3(),onRemove:this.$4,onReorder:this.$5}))};return a}(b("React").Component);function a(a){return b("React").createElement("div",{className:"_4u3_"},b("React").createElement("div",{className:"_4u40"},a.columnGroups.map(function(c){return b("React").createElement(l,{availableColumns:a.availableColumns,columnGroup:c,columns:a.columns,columnsVisibility:a.columnsVisibility,key:c.columnGroupKey,onChange:a.onChange})})),b("React").createElement(m,{availableColumns:a.availableColumns,columns:a.columns,columnsVisibility:a.columnsVisibility,onChange:a.onChange}))}e.exports=a}),null);
__d("LMTableSettingsModal.react",["fbt","FDSButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","LMColumnGroups","LMTableColumns","LMTableSettingsForm.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{leftContent:a.canReset?b("React").createElement(b("FDSLink.react"),{onClick:a.onReset},g._("Reset to default")):null,primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:!a.canSave,label:g._("Save"),layerAction:"confirm",use:"primary",onClick:a.onSave}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:g._("Cancel"),layerAction:"cancel",onClick:a.onCancel})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:g._("Customize Columns")}),isShown:a.newColumns!=null,width:800,onHide:a.onHide},a.newColumns!=null?b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("LMTableSettingsForm.react"),{availableColumns:b("LMTableColumns"),columnGroups:b("LMColumnGroups"),columns:a.newColumns,columnsVisibility:a.columnsVisibility,onChange:a.onChange})):null)}e.exports=a}),null);
__d("LMTableSettingsModalContainer.react",["FluxContainer","LMActions","LMColumnEditStore","LMColumnStore","LMConfigStore","LMDefaultColumns","LMTableSettingsModal.react","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMConfigStore"),b("LMColumnStore"),b("LMColumnEditStore")]}function c(){var a=b("LMColumnStore").getState(),c=b("LMColumnEditStore").getState(),d=b("LMConfigStore").getState();d=d.isStoreCodeVisible;d={isStoreCodeVisible:d};a=c!=null&&c.size>0&&!b("immutable").is(a,c);var e=c!=null&&!b("immutable").is(c,b("LMDefaultColumns"));return{canReset:e,canSave:a,columnsVisibility:d,newColumns:c}}function g(){b("LMActions").dispatchActionFromView({type:"lm.table_settings.cancel"})}function h(){b("LMActions").dispatchActionFromView({type:"lm.table_settings.hide"})}function i(){var a=b("LMColumnEditStore").getState();if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.table_settings.save_columns",columns:a})}function j(a){b("LMActions").dispatchActionFromView({type:"lm.table_settings.set_columns",columns:a})}function k(){b("LMActions").dispatchActionFromView({type:"lm.table_settings.reset_columns"})}function d(a){return b("React").createElement(b("LMTableSettingsModal.react"),{canReset:a.canReset,canSave:a.canSave,columnsVisibility:a.columnsVisibility,newColumns:a.newColumns,onCancel:g,onChange:j,onHide:h,onReset:k,onSave:i})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMLocationsTab.react",["cx","ErrorBoundary.react","FDSSpinner.react","LMBulkBusinessLocationEditorContainer.react","LMChoosePageToClaimDialogContainer.react","LMCoreNavActiveContainer.react","LMFiltersContainer.react","LMImportMenuContainer.react","LMImportMenuOverlayContainer.react","LMSubNavContainer.react","LMTableSettingsModalContainer.react","LocationManagerWebDriverTestIDs","React","SUINotice.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){a=a.parentPage;if(a.isLoading())return b("React").createElement(b("FDSSpinner.react"),null);a=a.getError();return a!=null?b("React").createElement(b("SUINotice.react"),{type:"error"},a.message):b("React").createElement(b("LMCoreNavActiveContainer.react"),null)}function a(a){var c=a.onboardingStepType;a=a.parentPage;return b("React").createElement("div",{className:"_2goq","data-testid":b("LocationManagerWebDriverTestIDs").LOCATIONS_TAB},c==="edit_locations"?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMImportMenuContainer.react"),null)):null,b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMImportMenuOverlayContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMChoosePageToClaimDialogContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMBulkBusinessLocationEditorContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMTableSettingsModalContainer.react"),null)),b("React").createElement("div",{className:"_2gox"},c==="edit_locations"?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMFiltersContainer.react"),null)):null,b("React").createElement("div",{className:"_2goy"},c==="edit_locations"?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMSubNavContainer.react"),null)):null,b("React").createElement("div",{className:"_2goz"},b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(h,{parentPage:a}))))))}e.exports=a}),null);
__d("LMPageSelector.react",["cx","fbt","ix","AdsAssetSectionType","AdsPageAssetSelector.react","AdsShimmerBar.react","ApiPagePaths","ContextualLayerAutoFlipHorizontal","CurrentUser","Image.react","LayerHideOnBlur","LayerHideOnEscape","LMPageUtils","LMUtils","LoadObject","React","SUIHelpMessage.react","XUIContextualDialog.react","XUIPopoverButton.react","emptyFunction","getByPath","immutable","joinClasses","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMUtils").getSearchState,k=400,l=16;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){return c.refs.openMenuButton},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return b("React").createElement(b("XUIContextualDialog.react"),{alignment:"left",behaviors:{LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),ContextualLayerAutoFlipHorizontal:b("ContextualLayerAutoFlipHorizontal")},contextRef:this.$2,label:h._("Parent Page Selector"),position:"below",shown:!0,onToggle:this.props.onToggleDialog},this.$3())};d.$3=function(){var a=b("LMPageUtils").getLoadedPages(this.props.pages).toArray(),c=j(this.props.searchedPage),d=this.props.searchedPage.getValue(),e=b("CurrentUser").isEmployee();return b("React").createElement("div",{className:b("joinClasses")("_21wq _70b")},b("React").createElement(b("AdsPageAssetSelector.react"),{bookmarkedPages:[],compactLayout:!0,currentUserID:b("CurrentUser").getID(),listItemHoverStyle:"light-gray",maxListHeight:k,pages:a,searchBarVisible:e,searchedPages:d?[d]:[],searchState:c,searchQuery:this.props.searchQuery,selectedBusinessID:this.props.selectedBusinessID,selectedPageID:this.props.selectedPageID,selectedSectionType:b("AdsAssetSectionType").OWNED,showBookmarks:!1,showBottomBorder:!1,showNonBizGroupTitle:!0,showPageCount:!1,shownBusinessID:this.props.shownBusinessID,showPageIDs:e,onPageBookmarked:b("emptyFunction"),onPageRemoved:b("emptyFunction"),onPageSelected:this.props.onSelectedPageIDChange,onSearch:this.props.onSearch}))};d.$4=function(){var a=this.props.selectedPageID;return a==null?h._("Choose Facebook Page"):this.$5().map(function(a){return a.name}).getValue()||a};d.$6=function(){var a=this.$5().getValue();if(!a)return null;if(a.picture&&typeof a.picture==="object")return b("getByPath")(a,b("ApiPagePaths").PICTURE.DATA.URL)||b("getByPath")(a,b("ApiPagePaths").PICTURE.path);else if(a.picture&&typeof a.picture==="string")return a.picture;return null};d.$5=function(){var a=this.props.selectedPageID;return a!=null?this.props.pages.get(a,b("LoadObject").empty()):b("LoadObject").empty()};d.$7=function(){return this.$5().hasValue()};d.render=function(){var a=this.props.pages;if(!a)return b("React").createElement("div",{className:"_1zzu"},b("React").createElement(b("AdsShimmerBar.react"),{height:"10px",width:"180px"}));a=null;this.props.dialogShown&&(a=this.$1());return b("React").createElement("div",null,b("CurrentUser").isEmployee()&&this.props.isGlobalBrand.match({loading:function(){return null},error:function(){return null},loaded:function(a){return a?b("React").createElement(b("SUIHelpMessage.react"),{margin:"_3-91",value:h._("[FB-Only] This Page is part of a global brand structure.")}):null}}),b("React").createElement(b("XUIPopoverButton.react"),{className:"_4z8-",disabled:!1,haschevron:!0,image:b("React").createElement(b("Image.react"),{className:this.$7()?"":"hidden_elem",height:l,src:this.props.covered?i("95410"):this.$6()||i("22120"),width:l}),label:this.$4(),ref:"openMenuButton",size:"large",suppressed:!1,type:"button",onClick:this.props.onToggleDialogClick}),a)};return c}(b("React").Component);e.exports=a}),null);
__d("LMPageSelectorContainer.react",["AdsPageSelectorSearchDataAction","AdsPageSelectorProvider","AdsValidatorTests","CurrentUser","FluxContainer","LMActions","LMConfigStore","LMOwnedPageListStore","LMOwnedPageStore","LMPageSelector.react","LMPageSelectorStore","LoadObject","NullBusinessID","React","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPageSelectorProvider").toFluxStore(),h=b("AdsValidatorTests").isFBIDString,i=b("LMActions").dispatchActionFromView;a=b("React").Component;var j=function(a){i({type:"lm.navigation.selected_page_change",pageID:a})},k=function(){i({type:"lm.page_selector.dialog",dialogShown:!1})},l=function(){var a=b("LMPageSelectorStore").getState();a=a.dialogShown;i({type:"lm.page_selector.dialog",dialogShown:!a})},m=function(a,c){__p&&__p();if(a!=null&&c!=null){c=b("LMOwnedPageStore").get(c).getValue();c=b("getByPath")(c,["userpermissions","data"],[]);for(var d=c.length-1;d>=0;d--){var e=b("getByPath")(c[d],["business","id"]);if(e!=null)return e}}return a!=null?a:b("NullBusinessID")};function n(a,b){return Math.abs(a.length-b.length)>3&&b.length>5&&h(b).isValid}var o=function(a){var c=g.getState().searchQuery;n(c,a)&&(j(a),k());b("AdsPageSelectorSearchDataAction").dispatch({searchQuery:a},{line:"116",module:"LMPageSelectorContainer.react.js"})};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[g,b("LMConfigStore"),b("LMOwnedPageListStore"),b("LMOwnedPageStore"),b("LMPageSelectorStore")]};c.calculateState=function(a){__p&&__p();var c=b("LMConfigStore").getState(),d=c.businessID;c=c.parentPageID;var e=b("LMOwnedPageListStore").getForCurrentUser().map(function(a){return a.toArray()}).getValue()||[];e=[].concat(e);c!=null&&e.push(c);e=b("LMOwnedPageStore").getAll(e,a?a.pages:null);a=b("LMPageSelectorStore").getState();a=a.dialogShown;var f=g.getState().searchQuery,h=f&&b("CurrentUser").isEmployee()?b("LMOwnedPageStore").get(f):b("LoadObject").empty();d=m(d,c);var i=(c!=null?b("LoadObject").withValue(c):b("LoadObject").empty()).map(function(a){return b("LMOwnedPageStore").get(a)}).map(function(a){return a.global_brand_root_id!=null});return{dialogShown:a,isGlobalBrand:i,pages:e,parentPageID:c,searchedPage:h,searchQuery:f,selectedBusinessID:d,onSelectedPageIDChange:j,onToggleDialog:k,onToggleDialogClick:l}};var d=c.prototype;d.render=function(){return b("React").createElement(b("LMPageSelector.react"),{dialogShown:this.state.dialogShown,isGlobalBrand:this.state.isGlobalBrand,pages:this.state.pages,searchedPage:this.state.searchedPage,searchQuery:this.state.searchQuery,selectedBusinessID:this.state.selectedBusinessID,selectedPageID:this.state.parentPageID,onSearch:o,onSelectedPageIDChange:this.state.onSelectedPageIDChange,onToggleDialog:this.state.onToggleDialog,onToggleDialogClick:this.state.onToggleDialogClick})};return c}(a);e.exports=b("FluxContainer").create(c)}),null);
__d("LMPublishingMenuImportItem.react",["ix","cx","fbt","Date.react","FDSButton.react","FDSText.react","Link.react","LMImportStatusUtils","LMPublishingUtils","React","SUIGlyphIcon.react","Tooltip.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LMImportStatusUtils").getStatus,k=b("LMImportStatusUtils").getSubmitTime,l=b("LMImportStatusUtils").isImportFinished,m=b("LMPublishingUtils").ICONS,n=b("LMPublishingUtils").IMPORT_LABELS,o="g:ia M j";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onImportStatusDismissButtonClick(c.props.importStatus)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(a){return!l(a)?null:b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("363590"),srcHover:g("409005")}),label:i._("Dismiss"),labelIsHidden:!0,use:"flatWhite",onClick:this.$1})};d.$3=function(a,c){return!l(a)||a!=="fail"||c==null?null:b("React").createElement(b("Link.react"),{href:c,s:"skip Linkshim"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("530904"),srcHover:g("530901")}),label:i._("Download"),labelIsHidden:!0,tooltip:i._("Download spreadsheet with errors"),use:"flatWhite"}))};d.render=function(){var a=j(this.props.importStatus),c=k(this.props.importStatus);if(a!=null){var d=m[a],e=n[a];return b("React").createElement("div",{className:"_45jy"},b("React").createElement("div",{className:"_7jev"},this.props.tooltip!=null?b("React").createElement(b("Tooltip.react"),{alignH:"center",position:"below",tooltip:this.props.tooltip},d):b("React").createElement(b("React").Fragment,null,d)),b("React").createElement("div",{className:"_7jew"},b("React").createElement("div",{className:"_45k0"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"body2"},e),b("React").createElement(b("FDSText.react"),{color:"disabled",margin:"_3-99",size:"body2"},i._("({import_status_success} of {import_status_total})",[i._param("import_status_success",this.props.importStatus.success),i._param("import_status_total",this.props.importStatus.total)]))),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},b("React").createElement(b("Date.react"),{date:c,format:o}))),b("React").createElement("div",{className:"_7jex"},this.$3(a,this.props.importStatus.error_rows_log_url),this.$2(a)))}return null};return c}(b("React").Component);e.exports=a}),null);
__d("LMPublishingMenuItem.react",["cx","LMPublishingUtils","React","Tooltip.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LMPublishingUtils").ICONS;function a(a){var c=h[a.status];return b("React").createElement("div",{className:"_45jy"},b("React").createElement("div",{className:"_7jev"},a.tooltip!=null?b("React").createElement(b("Tooltip.react"),{alignH:"center",position:"below",tooltip:a.tooltip},c):b("React").createElement(b("React").Fragment,null,c)),b("React").createElement("div",{className:"_7jew _3-8-"},a.label),b("React").createElement("div",{className:"_7jex"},a.action))}e.exports=a}),null);
__d("LMPublishingOperationActionButton.react",["ix","fbt","React","SUIButton.react","SUIGlyphIcon.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onRestoreEditSession(c.props.operation)},c.$2=function(){c.props.onRemoveOperation(c.props.operation.id)},c.$3=function(){c.props.onRestartOperation(c.props.operation)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){switch(this.props.status){case"progress":return null;case"success":return b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("368785"),srcHover:g("409002")}),label:h._("Dismiss"),labelIsHidden:!0,suppressed:!0,onClick:this.$2});case"fail":switch(this.props.operation.operationType){case"delete":return b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("435670"),srcHover:g("460336")}),label:h._("Retry"),labelIsHidden:!0,suppressed:!0,onClick:this.$3});default:return b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("386534"),srcHover:g("387952")}),label:h._("Edit"),labelIsHidden:!0,suppressed:!0,onClick:this.$1})}}return null};return c}(b("React").Component);e.exports=a}),null);
__d("LMPublishingMenu.react",["cx","fbt","ContextualLayerUpdateOnScroll","FDSDropdownButton.react","LayerHideOnBlur","LayerHideOnEscape","LMImportStatusUtils","LMPublishingMenuImportItem.react","LMPublishingMenuItem.react","LMPublishingOperationActionButton.react","LMPublishingUtils","React","ScrollableArea.react","XUIAmbientNUX.react","XUIContextualDialog.react","XUIContextualDialogTitle.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LMPublishingUtils").ICONS,j=b("LMPublishingUtils").IMPORT_LABELS,k=b("LMPublishingUtils").getLocations,l=b("LMPublishingUtils").getLocationStatus,m=b("LMPublishingUtils").getOperationLabel,n=b("LMPublishingUtils").getOperationStatus,o=b("LMPublishingUtils").getOperationTooltip,p={ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape")},q=400;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isShown:!1},d.$2=function(a){return d.$1=a},d.$3=function(){return d.$1},d.$6=function(a){return b("React").createElement(b("LMPublishingMenuImportItem.react"),{importStatus:a,key:a.submission_id,onImportStatusDismissButtonClick:d.props.onImportStatusDismissButtonClick})},d.$7=function(a){var c=m(a),e=n(a),f=o(a);return b("React").createElement(b("LMPublishingMenuItem.react"),{action:b("React").createElement(b("LMPublishingOperationActionButton.react"),{operation:a,status:e,onRemoveOperation:d.props.onRemoveOperation,onRestartOperation:d.props.onRestartOperation,onRestoreEditSession:d.props.onRestoreEditSession}),key:a.id,label:c,status:e,tooltip:f})},d.$8=function(a){a.stopPropagation(),d.setState({isShown:!d.state.isShown})},d.$10=function(a){d.$9()&&d.props.onDismissNux(),d.setState({isShown:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(a,c){return a==null?"":h._("{=[Label for the menu button]}",[h._param("=[Label for the menu button]",b("React").createElement("span",{className:"_4bf2"+(c==="progress"?" _4bf3":"")+(c==="success"?" _4bf4":"")+(c==="fail"?" _4bf5":"")},h._("{Label for the menu button}",[h._param("Label for the menu button",a)])))])};d.$5=function(a){if(a!=null)return b("React").createElement("span",null,b("React").createElement("div",{className:"_6ftj"},i[a]));var c=this.props.publishingState.valueSeq().flatMap(k).map(l).countBy(function(a){return a});a=["progress","fail","success"].map(function(a){return c.get(a)>0?b("React").createElement("span",{className:"_4bf2 _4bf-"+(a==="progress"?" _4bf3":"")+(a==="success"?" _4bf4":"")+(a==="fail"?" _4bf5":""),key:a},i[a]," ",c.get(a)):null});return b("React").createElement("div",null,a)};d.$9=function(){return!this.props.hasSeenNux&&this.props.importStatuses.hasValue()};d.render=function(){__p&&__p();var a=this.props.importStatuses.map(function(a){return a.filter(function(a){return b("LMImportStatusUtils").isImportStatusVisible(a)&&b("LMImportStatusUtils").isImportStatusWithinLastWeek(a)&&b("LMImportStatusUtils").getStatus(a)!=null}).sortBy(function(a){return a.submit_time}).reverse()}).getValue()||b("immutable").List(),c=this.props.publishingState.valueSeq();if(c.isEmpty()&&a.size===0)return null;c=b("LMImportStatusUtils").getStatus(a.first());var d=this.props.publishingState.size===1?this.props.publishingState.first():null,e=c?c:d!=null?n(d):null;c=c?j[c]:d!=null?m(d):null;return b("React").createElement("span",null,b("React").createElement(b("FDSDropdownButton.react"),{icon:this.$5(e),label:this.$4(c,e),ref:this.$2,size:"medium",use:"flat",onClick:this.$8}),b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",behaviors:p,contextRef:this.$3,position:"below",shown:this.state.isShown,onToggle:this.$10},b("React").createElement(b("XUIContextualDialogTitle.react"),null,b("React").createElement("div",{className:"_4be-"},h._("Locations Status"))),b("React").createElement(b("ScrollableArea.react"),{maxHeight:q},b("React").createElement("div",{className:"_4be_"},a.map(this.$6),this.props.publishingState.valueSeq().map(this.$7).reverse()))),b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.$3,position:"below",shown:this.$9(),onCloseButtonClick:this.props.onDismissNux},h._("If you have any active file imports, your locations will continue to be added in the background")))};return c}(b("React").Component);e.exports=a}),null);
__d("LMPublishingMenuContainer.react",["CurrentUser","FluxContainer","LMActions","LMConfigStore","LMImportStatusStore","LMNuxDataManager","LMNuxStore","LMPublishingMenu.react","LMPublishingStore","LMPublishingUtils","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromView,h=b("LMPublishingUtils").getLocations,i="133083510632974";function a(){return[b("LMConfigStore"),b("LMImportStatusStore"),b("LMNuxStore"),b("LMPublishingStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;return{currentUserID:b("CurrentUser").getID(),importStatuses:a!=null?b("LMImportStatusStore").get(a):b("LoadObject").empty(),hasSeenNux:b("LMNuxStore").getState().get(i,!1),publishingState:b("LMPublishingStore").getState()}}function j(a){g({type:"lm.publish.restore_edit_session",operation:a})}function k(a){g({type:"lm.publish.remove_operation",operationID:a})}function l(a){var b=h(a).filter(function(a){return a.hasError()}).map(function(a){return a.getValueEnforcing()}).toArray(),c=a.operationType,d=a.parentPageID;a=a.id;g({type:"lm.publish.start",locations:b,operationType:c,parentPageID:d,operationID:a})}function m(){b("LMNuxDataManager").dismissNux(i)}function n(a){g({type:"lm.upload_locations.import_status.dismissed",importStatus:a})}function d(a){return b("React").createElement(b("LMPublishingMenu.react"),babelHelpers["extends"]({},a,{onDismissNux:m,onImportStatusDismissButtonClick:n,onRemoveOperation:k,onRestartOperation:l,onRestoreEditSession:j}))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMSearchInput.react",["cx","fbt","LMUtils","React","SUISearchInput.react","debounce"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LMUtils").applySTORenaming,j=250;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={searchText:d.props.searchText};d.$1=function(a){d.setState({searchText:a}),d.$2(a)};d.$2=b("debounce")(d.props.onSearchTextChange,j);return d}var d=c.prototype;d.render=function(){return b("React").createElement(b("SUISearchInput.react"),{className:"_4xpc",hasTooltip:!1,placeholder:i(h._("Search locations"),h._("Search stores")),value:this.state.searchText,onChange:this.$1})};return c}(b("React").Component);e.exports=a}),null);
__d("LMSearchInputContainer.react",["FluxContainer","LMActions","LMQueryLocationStore","LMSearchInput.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromView;function a(){return[b("LMQueryLocationStore")]}function c(){var a=b("LMQueryLocationStore").getState();a=a.searchText;return{searchText:a}}function d(a){return b("React").createElement(b("LMSearchInput.react"),babelHelpers["extends"]({},a,{onSearchTextChange:h}))}function h(a){g({type:"lm.set_search_text",searchText:a})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("SignalsNewBadge.react",["cx","fbt","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return b("React").createElement("span",{className:b("joinClasses")(a.className,"_wz4")},h._("NEW"))};e.exports=a}),null);
__d("XLocationManagerSharingTabEligibilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/location-manager-sharing-tab-eligibility/",{page_id:{type:"FBID",required:!0}})}),null);
__d("LMNav.react",["cx","fbt","ErrorBoundary.react","FDSHorizontalLayout.react","LMAddLocationsButtonContainer.react","LMEnvironment","LMPageSelectorContainer.react","LMPublishingMenuContainer.react","LMSearchInputContainer.react","LMTabs","LMUtils","LoadObject","LocationManagerWebDriverTestIDs","React","SignalsNewBadge.react","SUITabGroup.react","XLocationManagerSharingTabEligibilityController","killswitch","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LMUtils").applySTORenaming,j=b("React").useState,k=b("React").useEffect;function l(a){return[].concat(b("killswitch")("LOCATION_HEALTH_UI")?[]:[{badge:b("React").createElement(b("SignalsNewBadge.react"),null),"data-testid":b("LocationManagerWebDriverTestIDs").HOME_TAB_LINK,label:h._("Home"),value:b("LMTabs").HOME}],[{"data-testid":b("LocationManagerWebDriverTestIDs").LOCATIONS_TAB_LINK,label:i(h._("Locations"),h._("Stores")),value:b("LMTabs").LOCATIONS},{"data-testid":b("LocationManagerWebDriverTestIDs").LOCATION_SETS_TAB_LINK,label:i(h._("Location Sets"),h._("Store Sets")),value:b("LMTabs").LOCATION_SETS}],a===!0?[{"data-testid":b("LocationManagerWebDriverTestIDs").SHARING_TAB_LINK,label:i(h._("Sharing"),h._("Collaborative Access")),value:b("LMTabs").SHARING}]:[],[{"data-testid":b("LocationManagerWebDriverTestIDs").SETTINGS_TAB_LINK,label:h._("Settings"),value:b("LMTabs").SETTINGS}])}function a(a){__p&&__p();var c=j(b("LoadObject").empty()),d=c[0],e=c[1];k(function(){if(a.parentPageID!=null){e(b("LoadObject").loading());var c=b("XLocationManagerSharingTabEligibilityController").getURIBuilder().setFBID("page_id",a.parentPageID).getURI();b("promiseDone")(b("promiseAsyncRequest")(c).then(function(a){a=a.payload;return a}),function(a){e(b("LoadObject").withValue(a))},function(a){e(b("LoadObject").withError(a))})}},[a.parentPageID]);c=a.environment!==b("LMEnvironment").PAGE_SETTINGS&&a.onboardingStepType!=="no_pages";return b("React").createElement("div",{className:"_4eey"},c?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMPageSelectorContainer.react"),null)):null,a.onboardingStepType==="edit_locations"?b("React").createElement("div",{className:"_3qkp"},b("React").createElement(b("SUITabGroup.react"),{className:"_3qko",tabs:l(d.getValue()),value:a.tab,onChange:a.onChangeTab}),a.tab==="locations"?b("React").createElement("div",{className:"_60vs"},b("React").createElement(b("FDSHorizontalLayout.react"),null,b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMPublishingMenuContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMSearchInputContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMAddLocationsButtonContainer.react"),null)))):null):null)}e.exports=a}),null);
__d("LMKeyboardShortcutsInfo.react",["cx","fbt","FDSText.react","InfoTable.react","InfoTableRow.react","InfoTableSection.react","React","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function(a){a=a.children;return b("React").createElement("kbd",{className:"_63nt"},a)};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=navigator.platform==="MacIntel",c=a?b("React").createElement(i,null,h._("^")):b("React").createElement(i,null,h._("ctrl")),d=a?b("React").createElement(i,null,h._("\u2325")):b("React").createElement(i,null,h._("alt")),e=a?b("React").createElement(i,null,h._("\u2318")):b("React").createElement(i,null,h._("ctrl")),f=b("React").createElement(i,null,h._("\u21e7")),g=a?e:c;return b("React").createElement("div",{className:"_63nu"},b("React").createElement(b("InfoTable.react"),null,b("React").createElement(b("InfoTableSection.react"),null,this.props.shortcuts.map(function(a){return b("React").createElement(b("InfoTableRow.react"),{key:a.title,label:b("React").createElement("div",{className:"_63nv"},a.ctrlOrCmd===!0&&g,a.ctrl===!0&&c,a.alt===!0&&d,a.shift===!0&&f,b("React").createElement(i,null,[].concat(a.key)[0])),className:"_63nw"},b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"disabled",display:"block",palette:"dark",size:"meta1",weight:"bold"},a.title),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-95",size:"meta1"},a.description)))}))))};return c}(b("React").Component);e.exports=a}),null);
__d("LMPageSettingsItem.react",["cx","FDSSimplePopover.react","FDSText.react","React","SUIRadioList.react","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("SUIRadioList.react").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onChange({setting:c.props.pageSettingSpec.setting,value:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.hidden,d=a.disabled,e=a.page,f=a.pageSetting;a=a.pageSettingSpec;return f==null||c?null:b("React").createElement("div",{className:"_2ys4"},b("React").createElement("div",{className:"_2ys5"},b("React").createElement(b("FDSText.react"),{size:"meta1",weight:"bold"},a.label),b("React").createElement(b("FDSSimplePopover.react"),{alignment:"right",content:a.helpText,display:"inline",position:"below"})),b("React").createElement("div",{className:"_2ys8"},b("React").createElement(b("SUIRadioList.react"),{value:f.value,onChange:this.$1},a.options.map(function(a){return b("React").createElement(h,{disabled:d,key:a.value,value:a.value},a.label)})),b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"meta1"},a.renderDescription(e)))))};return c}(b("React").Component);a.defaultProps={hidden:!1};e.exports=a}),null);
__d("LMPageName.react",["fbt","FDSSpinner.react","React","loadObjectComponent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("loadObjectComponent")({loading:function(){return b("React").createElement(b("FDSSpinner.react"),{size:"small"})},error:function(){return g._("Unknown")},loaded:function(a){return a.name}});function a(a){a=a.page;return b("React").createElement(h,{object:a})}e.exports=a}),null);
__d("LMPageSettingsSpecs",["fbt","LMPageName.react","LMUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LMUtils").applySTORenaming;a=[{setting:"SHOW_PARENT_POSTS_ON_LOCATIONS",label:h(g._("Local Content"),g._("Page Posts")),renderDescription:function(a){return h(g._("Show posts from {name of the page} on your location Pages",[g._param("name of the page",b("React").createElement(b("LMPageName.react"),{page:a}))]),g._("Choose how often you want to show posts from your main Page on your store Pages."))},helpText:h(g._("Location Page admins can chose whether or not to show the parent Page posts on the locations pages."),g._("Store Page admins can choose whether or not to publish posts from the store's main Page.")),options:[{value:"Always show",label:g._("Always show")},{value:"Only show on location Pages that don't publish their own posts",label:g._("Only show on location Pages that don't publish their own posts")},{value:"Never show",label:g._("Never show")}]},{setting:"SHOW_LOCATIONS_TAB",label:h(g._("Locations Tab"),g._("Store Suggestions")),renderDescription:function(a){return h(g._("Allow visitors on your location Pages to see other {name of the page} locations nearby",[g._param("name of the page",b("React").createElement(b("LMPageName.react"),{page:a}))]),g._("Allow people visiting your store Pages to see other {name of the page} stores nearby that they might want to visit.",[g._param("name of the page",b("React").createElement(b("LMPageName.react"),{page:a}))]))},helpText:h(g._("Location Page admins can chose whether or not to show these other locations."),g._("Store Page admins can choose whether to show people other stores nearby.")),options:[{value:"Allow",label:g._("Allow")},{value:"Allow on mobile only",label:g._("Allow on mobile only")},{value:"Don't allow",label:g._("Don't allow")}]}];e.exports=a}),null);
__d("LMPageSettings.react",["cx","fbt","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSSpinner.react","LMPageSettingsItem.react","LMPageSettingsSpecs","React","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalSaveButton.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Something went wrong. Please try again.");function j(a){return b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSGuidanceCard.react"),{category:"error"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,h._("Error")),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,a.error.message||i))))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={pageSettings:c.props.pageSettings},c.$1=function(a){c.setState(function(b){return{pageSettings:b.pageSettings.map(function(b){return b.map(function(b){return b.setting===a.setting?a:b})})}})},c.$2=function(){c.setState({pageSettings:c.props.pageSettings})},c.$3=function(){var a=c.state.pageSettings.getValue();a!=null&&c.props.onSave(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a=a.pageSettings;this.props.pageSettings!==a&&this.setState({pageSettings:a})};d.render=function(){var a=this,c=this.state.pageSettings,d=c.getError(),e=c!==this.props.pageSettings,f=c.isLoading(),g=c.isUpdating(),i=c.hasOperation(),k=c.getValue();c=e;e=!f&&!g&&k!=null&&e;return b("React").createElement("div",{className:f?"_63o0":""},b("React").createElement("div",{className:"_2ph_ _63o1"},d!=null?b("React").createElement(j,{error:d}):null,k==null&&f?b("React").createElement(b("FDSSpinner.react"),null):null,k!=null?b("React").createElement("div",null,b("LMPageSettingsSpecs").map(function(c){return b("React").createElement(b("LMPageSettingsItem.react"),{disabled:i,hidden:a.props.isGlobalBrand.getValue()===!0&&c.setting==="SHOW_PARENT_POSTS_ON_LOCATIONS",key:c.setting,page:a.props.page,pageSetting:k.find(function(a){a=a.setting;return a===c.setting}),pageSettingSpec:c,onChange:a.$1})})):null),b("React").createElement(b("SUIModalFooter.react"),{leftContent:g?b("React").createElement("span",null,b("React").createElement(b("FDSSpinner.react"),{margin:"_3-8_",size:"small"}),h._("Saving changes\u2026")):null,primaryButton:b("React").createElement(b("SUIModalSaveButton.react"),{disabled:!e,onClick:this.$3}),secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),{disabled:!c,onClick:this.$2})}))};return c}(b("React").Component);e.exports=a}),null);
__d("LMPageSettingsContainer.react",["FluxContainer","LMActions","LMConfigStore","LMOwnedPageStore","LMPageSettings.react","LMPageSettingsStore","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){var c=d.state.parentPageID;if(c==null)return;b("LMActions").dispatchActionFromView({type:"lm.page_settings.save",pageID:c,pageSettings:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LMPageSettingsStore"),b("LMConfigStore"),b("LMOwnedPageStore")]};c.calculateState=function(){var a=b("LMConfigStore").getState();a=a.parentPageID;return{parentPageID:a,page:a!=null?b("LMOwnedPageStore").get(a):b("LoadObject").empty(),pageSettings:a!=null?b("LMPageSettingsStore").get(a):b("LoadObject").empty()}};var d=c.prototype;d.$1=function(){var a=b("LMConfigStore").getState();a=a.parentPageID;return a==null?b("LoadObject").empty():b("LMOwnedPageStore").get(a).map(function(a){return a.global_brand_root_id!=null})};d.render=function(){return b("React").createElement(b("LMPageSettings.react"),{isGlobalBrand:this.$1(),page:this.state.page,pageSettings:this.state.pageSettings,onSave:this.$2})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LMSettingsTabConfig",["ix","fbt","LMKeyboardShortcutsInfo.react","LMPageSettingsContainer.react","LMShortcuts","LMSidebarItemIDs","LMUtils","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("LMUtils").applySTORenaming;d={sidebarItems:[[{activeIconSrc:g("402732"),defaultIconSrc:g("375571"),id:b("LMSidebarItemIDs").PARENT_PAGE_SETTINGS,label:a(h._("Location Page Settings"),h._("Store Page Settings"))}],[{activeIconSrc:g("402729"),defaultIconSrc:g("396078"),id:b("LMSidebarItemIDs").KEYBOARD_SHORTCUTS,label:h._("Keyboard Shortcuts")}]],mainContent:(c={},c[b("LMSidebarItemIDs").PARENT_PAGE_SETTINGS]={description:a(h._("Manage local content controls for your Location Pages."),h._("Choose how you want to manage your store Pages.")),iconSrc:g("348947"),render:function(){return b("React").createElement(b("LMPageSettingsContainer.react"),null)},title:a(h._("Location Page Settings"),h._("Store Page Settings"))},c[b("LMSidebarItemIDs").PAGE_NAMING]={description:h._("Change how your location pages are named and shown to your visitors on Facebook."),iconSrc:g("396088"),render:function(){return null},title:h._("Page Naming")},c[b("LMSidebarItemIDs").KEYBOARD_SHORTCUTS]={description:a(h._("A list of useful keyboard shortcuts to make editing multiple locations easier."),h._("A list of useful keyboard shortcuts to make editing multiple stores easier.")),iconSrc:g("396082"),render:function(){return b("React").createElement(b("LMKeyboardShortcutsInfo.react"),{shortcuts:Array.from(b("LMShortcuts").getAllShortcuts().values())})},title:h._("Keyboard Shortcuts")},c)};e.exports=d}),null);
__d("LMSettingsTab.react",["cx","AbstractButton.react","FDSText.react","Image.react","LMSettingsTabConfig","LocationManagerWebDriverTestIDs","React","SUIText.react","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){a.preventDefault()}var i=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(){b.props.onClick(b.props.id)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=this.props.isActive?this.props.activeIconSrc:this.props.defaultIconSrc;return b("React").createElement(b("AbstractButton.react"),{className:"_1bg8"+(this.props.isActive?" _mjp":""),image:b("React").createElement(b("Image.react"),{className:"_3-91",src:a}),label:this.props.label,onClick:this.$1,onMouseDown:h})};return a}(b("React").Component);function j(a){return b("React").createElement("div",{className:"_1bg9"},b("React").createElement("header",{className:"_1bgc"},b("React").createElement("div",{className:"_1bge"},b("React").createElement(b("SUIText.react"),{className:"_3-96",display:"block",headingLevel:2,size:"headline_DEPRECATED",weight:"bold"},a.title),b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"meta1"},a.description)),b("React").createElement(b("Image.react"),{src:a.iconSrc})),b("React").createElement("main",null,a.children))}function a(a){var c=b("LMSettingsTabConfig").mainContent[a.activeSidebarItemID];return b("React").createElement("div",{className:"_1bgg","data-testid":b("LocationManagerWebDriverTestIDs").SETTINGS_TAB},b("React").createElement("div",{className:"_1bgh"},b("React").createElement("div",{className:"_63nx"},b("LMSettingsTabConfig").sidebarItems.map(function(c,d){return b("React").createElement("div",{className:"_1bgi",key:d},c.map(function(c){return b("React").createElement(i,{activeIconSrc:c.activeIconSrc,defaultIconSrc:c.defaultIconSrc,id:c.id,isActive:a.activeSidebarItemID===c.id,key:c.id,label:c.label,onClick:a.onClickSidebarItem})}))}))),c!=null?b("React").createElement(j,{description:c.description,iconSrc:c.iconSrc,render:c.render,title:c.title},c.render()):null)}e.exports=a}),null);
__d("LMSettingsTabContainer.react",["FluxContainer","LMActions","LMConfigStore","LMSettingsTab.react","LMSidebarItemIDs","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMConfigStore")]}function c(){var a=b("LMConfigStore").getState();a=a.sidebarItemID;return{sidebarItemID:a!=null?a:b("LMSidebarItemIDs").PARENT_PAGE_SETTINGS}}function g(a){b("LMActions").dispatchActionFromView({type:"lm.settings.click_side_bar_item",sidebarItemID:a})}function d(a){return b("React").createElement(b("LMSettingsTab.react"),{activeSidebarItemID:a.sidebarItemID,onClickSidebarItem:g})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMCampaignReportingKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({brandPageID:void 0,businessID:void 0,parentPageID:void 0,insightsAttributionWindow:void 0,insightsEndDate:void 0,insightsStartDate:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("LMSharingTabBrandInsights.react",["fbt","FDSTable.react","FDSTableColumn.react","FDSTableIndicatorCell.react","FDSTableMediaCell.react","Instant","LocationManagerWebDriverTestIDs","React","SUITableTextCell.react","formatNumber","loadObjectComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={labels:[g._("Shared With"),g._("Status"),g._("Date Shared"),g._("Impressions"),g._("Reach"),g._("Store Visits"),g._("Offline Conversions")]},i=function(a){return b("React").createElement(b("SUITableTextCell.react"),{content:a.item.labels[a.columnIndex],height:32})},j=function(a){return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:a.item.labels[a.columnIndex],height:32})},k=function(a){var c=g._("{Brand Level Status}",[g._param("Brand Level Status",a.item.status.adcampaign_is_active?"Active":"Inactive")]),d=a.item.status.adcampaign_is_active?"active":"inactive",e=g._({"*":"{Number of campaigns} Campaigns","_1":"1 Campaign"},[g._plural(a.item.status.adcampaign_count,"Number of campaigns")]);return b("React").createElement(b("FDSTableIndicatorCell.react"),{fill:"border",height:a.rowHeight,label:c,status:d,subtitle:e})},l=function(a){var c=a.item.insights.impressions;c=isNaN(c)?c:b("formatNumber").withThousandDelimiters(Number(c));return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:c,height:a.rowHeight})},m=function(a){var c=a.item.insights.reach;c=isNaN(c)?c:b("formatNumber").withThousandDelimiters(Number(c));return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:c,height:a.rowHeight})},n=function(a){var c=a.item.insights.store_visit_actions;c=isNaN(c)?c:b("formatNumber").withThousandDelimiters(Number(c));return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:c,height:a.rowHeight})},o=function(a){var c=a.item.insights.actions;c=isNaN(c)?c:b("formatNumber").withThousandDelimiters(Number(c));return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:c,height:a.rowHeight})},p=function(a){var c=g._("N\/A");a.item.date_shared!=null&&(c=b("Instant").format(a.item.date_shared,"F d"));return b("React").createElement(b("SUITableTextCell.react"),{content:c,height:a.rowHeight})},q=function(a){return b("React").createElement(b("FDSTableMediaCell.react"),{height:a.rowHeight,imageURI:a.item.brand.profile_picture_uri,isImageRound:!1,subtitle:g._("{=Business ID:}{businessID}",[g._param("=Business ID:",b("React").createElement("span",{"data-testid":""+(b("LocationManagerWebDriverTestIDs").SHARING_INSIGHTS_TABLE_BRAND_BUSINESS_PREFIX+a.item.brand.business_id)},g._("Business ID:"))),g._param("businessID",a.item.brand.business_id)]),title:a.item.brand.page_name})};function r(a){return b("React").createElement(b("FDSTable.react"),{borders:"all",hasFlexibleColumnWidths:!0,headerProps:{item:h,height:32},isBodyLoading:a.isBodyLoading,items:a.items,rowHeight:50,onRowClick:a.onRowClick},b("React").createElement(b("FDSTableColumn.react"),{cell:q,header:i,width:3.5}),b("React").createElement(b("FDSTableColumn.react"),{cell:k,header:i,width:1.5}),b("React").createElement(b("FDSTableColumn.react"),{cell:p,header:i,width:1.5}),b("React").createElement(b("FDSTableColumn.react"),{cell:l,header:j,width:1}),b("React").createElement(b("FDSTableColumn.react"),{cell:m,header:j,width:1}),b("React").createElement(b("FDSTableColumn.react"),{cell:n,header:j,width:1}),b("React").createElement(b("FDSTableColumn.react"),{cell:o,header:j,width:1.5}))}var s=b("loadObjectComponent")({error:function(){return null},loading:function(){return b("React").createElement(r,{isBodyLoading:!0,items:[]})},loaded:function(a,c){var d=c.search;c=c.onRowClick;a=a.filter(function(a){return a.brand.page_name.toLowerCase().match(d.toLowerCase())});return b("React").createElement(r,{items:a,onRowClick:c})}});e.exports=function(a){var c=a.items,d=a.search;a=a.onRowClick;return b("React").createElement(s,{object:c,search:d,onRowClick:a})}}),null);
__d("LMSharingTabBrandInsightsContainer.react",["FluxContainer","LMActions","LMCampaignReportingKey","LMConfigStore","LMSharedLocationStructureBrandInsightsProvider","LMSharingTabBrandInsights.react","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMSharedLocationStructureBrandInsightsProvider").toFluxSelector();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRowClick=function(a){var c=d.state.items.getValue();if(c==null)return;b("LMActions").dispatchActionFromView({type:"lm.routing.update_insights_state",state:{businessID:c[a].brand.business_id,brandPageID:c[a].brand.page_id}})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LMConfigStore")].concat(g.getStores())};c.calculateState=function(){var a=b("LMConfigStore").getState(),c=a.insightsAttributionWindow,d=a.insightsEndDate,e=a.insightsStartDate;a=a.parentPageID;c=new(b("LMCampaignReportingKey"))({insightsAttributionWindow:c,insightsEndDate:d,insightsStartDate:e,parentPageID:a});return{items:a!=null?g().get(c):b("LoadObject").loading()}};var d=c.prototype;d.render=function(){return b("React").createElement(b("LMSharingTabBrandInsights.react"),{items:this.state.items,search:this.props.search,onRowClick:this.onRowClick})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMSharingTabCampaignInsights.react",["fbt","FDSTable.react","FDSTableColumn.react","FDSTableIndicatorCell.react","FDSTableSubtitleCell.react","LMUtils","LocationManagerWebDriverTestIDs","React","SUITableTextCell.react","formatNumber","loadObjectComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("LMUtils").applySTORenaming;var h={labels:[g._("Campaign"),g._("Status"),g._("Impressions"),g._("Reach"),g._("Store Visits"),a(g._("Offline Conversions"),g._("Store Sales"))]},i=function(a){return b("React").createElement(b("SUITableTextCell.react"),{content:a.item.labels[a.columnIndex],height:32})},j=function(a){return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:a.item.labels[a.columnIndex],height:32})},k=function(a){var c=g._("{Campaign Status}",[g._param("Campaign Status",a.item.status?"Active":"Inactive")]),d=a.item.status?"active":"inactive";return b("React").createElement(b("FDSTableIndicatorCell.react"),{fill:"border",height:a.rowHeight,label:c,status:d})},l=function(a){var c=a.item.insights.impressions;c=isNaN(c)?c:b("formatNumber").withThousandDelimiters(Number(c));return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:c,height:a.rowHeight})},m=function(a){var c=a.item.insights.reach;c=isNaN(c)?c:b("formatNumber").withThousandDelimiters(Number(c));return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:c,height:a.rowHeight})},n=function(a){var c=a.item.insights.store_visit_actions;c=isNaN(c)?c:b("formatNumber").withThousandDelimiters(Number(c));return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:c,height:a.rowHeight})},o=function(a){var c=a.item.insights.actions;c=isNaN(c)?c:b("formatNumber").withThousandDelimiters(Number(c));return b("React").createElement(b("SUITableTextCell.react"),{align:"right",content:c,height:a.rowHeight})},p=function(a){return b("React").createElement(b("FDSTableSubtitleCell.react"),{height:a.rowHeight,subtitle:g._("{=Campaign ID:} {campaignID}",[g._param("=Campaign ID:",b("React").createElement("span",{"data-testid":""+(b("LocationManagerWebDriverTestIDs").SHARING_INSIGHTS_TABLE_CAMPAIGN_PREFIX+a.item.campaign.campaign_id)},g._("Campaign ID:"))),g._param("campaignID",a.item.campaign.campaign_id)]),title:a.item.campaign.campaign_name})};function q(a){return b("React").createElement(b("FDSTable.react"),{borders:"all",hasFlexibleColumnWidths:!0,headerProps:{item:h,height:32},isBodyLoading:a.isBodyLoading,items:a.items,rowHeight:50},b("React").createElement(b("FDSTableColumn.react"),{cell:p,header:i,width:3.5}),b("React").createElement(b("FDSTableColumn.react"),{cell:k,header:i,width:1.5}),b("React").createElement(b("FDSTableColumn.react"),{cell:l,header:j,width:1}),b("React").createElement(b("FDSTableColumn.react"),{cell:m,header:j,width:1}),b("React").createElement(b("FDSTableColumn.react"),{cell:n,header:j,width:1}),b("React").createElement(b("FDSTableColumn.react"),{cell:o,header:j,width:1.5}))}var r=b("loadObjectComponent")({error:function(){return null},loading:function(){return b("React").createElement(q,{isBodyLoading:!0,items:[]})},loaded:function(a,c){var d=c.search;c=a.filter(function(a){return a.campaign.campaign_name.toLowerCase().includes(d.toLowerCase())});return b("React").createElement(q,{items:c})}});e.exports=function(a){var c=a.items;a=a.search;return b("React").createElement(r,{object:c,search:a})}}),null);
__d("LMSharingTabCampaignInsightsContainer.react",["FluxContainer","LMCampaignReportingKey","LMConfigStore","LMSharedLocationStructureCampaignInsightsProvider","LMSharingTabCampaignInsights.react","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMSharedLocationStructureCampaignInsightsProvider").toFluxSelector();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LMConfigStore")].concat(g.getStores())};c.calculateState=function(){var a=b("LMConfigStore").getState(),c=a.brandPageID,d=a.businessID,e=a.insightsAttributionWindow,f=a.insightsEndDate,h=a.insightsStartDate;a=a.parentPageID;c=new(b("LMCampaignReportingKey"))({brandPageID:c,businessID:d,insightsAttributionWindow:e,insightsEndDate:f,insightsStartDate:h,parentPageID:a});return{items:a!=null?g().get(c):b("LoadObject").loading()}};var d=c.prototype;d.render=function(){return b("React").createElement(b("LMSharingTabCampaignInsights.react"),{items:this.state.items,search:this.props.search})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMSharingTabToolbarAttributionDropdown.react",["fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","React","SetsunaAdsAttrWindowType","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("FDSDropdownSelector.react"),{margin:"_3-9a",placeholder:g._("Attribution Window"),value:a.value,onChange:a.onChange},b("React").createElement(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:"Default"},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("SetsunaAdsAttrWindowType").DEFAULT},g._("Default"))),b("React").createElement(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:"View"},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("SetsunaAdsAttrWindowType").VT_28},g._("28 days")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("SetsunaAdsAttrWindowType").VT_7},g._("7 days")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("SetsunaAdsAttrWindowType").VT_1},g._("1 day"))),b("React").createElement(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:"Click"},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("SetsunaAdsAttrWindowType").CT_28},g._("28 clicks")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("SetsunaAdsAttrWindowType").CT_7},g._("7 clicks")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("SetsunaAdsAttrWindowType").CT_1},g._("1 click"))))}e.exports=a}),null);
__d("LMSharingTabToolbar.react",["fbt","BUIDateRangePicker.react","FlexLayout.react","LMSharingTabToolbarAttributionDropdown.react","React","SUISearchInput.react","Timezone"],(function(a,b,c,d,e,f,g){"use strict";var h=b("Timezone").UTC;function a(a){var c=a.dateRange||{includeToday:!1,preset:a.dateRangeOptions[1].value};return b("React").createElement(b("FlexLayout.react"),{justify:"all"},b("React").createElement("div",null,b("React").createElement(b("BUIDateRangePicker.react"),{height:"medium",options:a.dateRangeOptions,timezoneID:h,value:c,onChange:a.onChangeDateRange}),b("React").createElement(b("LMSharingTabToolbarAttributionDropdown.react"),{value:a.attributionWindow,onChange:a.onAttributionValuesChange})),b("React").createElement(b("SUISearchInput.react"),{placeholder:g._("Search"),value:a.search,onChange:a.onSearchChange}))}e.exports=a}),null);
__d("LMSharingTabContentContainer.react",["fbt","FluxContainer","LMActions","LMConfigStore","LMSharingTabBrandInsightsContainer.react","LMSharingTabCampaignInsightsContainer.react","LMSharingTabToolbar.react","LocalDateInterval","LocationManagerWebDriverTestIDs","React","SetsunaAdsAttrWindowType","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,b){return a!=null&&b!=null}var i=[{calculateInterval:function(a){return new(b("LocalDateInterval"))(a.subtractDays(7),a)},shouldRenderExplicitRangeLabel:!0,text:g._("Last 7 days"),value:"last_7d"},{calculateInterval:function(a){var c=a.startOfMonth();return new(b("LocalDateInterval"))(c,a.addDays(1))},shouldRenderExplicitRangeLabel:!0,text:g._("This month"),value:"this_month"},{calculateInterval:function(a){return new(b("LocalDateInterval"))(a.subtractMonths(1),a)},shouldRenderExplicitRangeLabel:!0,text:g._("Last month"),value:"last_month"},{calculateInterval:function(a){return new(b("LocalDateInterval"))(a.subtractMonths(3),a)},shouldRenderExplicitRangeLabel:!0,text:g._("Last 3 months"),value:"last_3months"},{calculateInterval:function(a){return new(b("LocalDateInterval"))(a.subtractYears(1),a)},shouldRenderExplicitRangeLabel:!0,text:g._("Last year"),value:"last_year"}];function j(a){var c=b("LMConfigStore").getState(),d=c.insightsEndDate;c=c.insightsStartDate;if(a!=null&&a.dateRange!=null)return a.dateRange;return d!=null&&c!=null?{interval:new(b("LocalDateInterval").fromStrings)(c,d)}:null}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onSearchChange=function(a){d.setState({search:a})},d.onChangeDateRange=function(a){d.setState({dateRange:a});a=a.interval;if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.routing.update_insights_state",state:{insightsStartDate:a.start.toISOString(),insightsEndDate:a.end.toISOString()}})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LMConfigStore")]};c.calculateState=function(a){var c=b("LMConfigStore").getState(),d=c.businessID,e=c.brandPageID;c=c.insightsAttributionWindow;var f=j(a);c=(c=c)!=null?c:b("SetsunaAdsAttrWindowType").DEFAULT;return{attributionWindow:c,dateRange:f,businessID:d,brandPageID:e,search:a!=null?a.search:""}};var d=c.prototype;d.onAttributionValuesChange=function(a){b("LMActions").dispatchActionFromView({type:"lm.routing.update_insights_state",state:{insightsAttributionWindow:a}})};d.render=function(){var a=this.state,c=a.attributionWindow,d=a.businessID,e=a.brandPageID,f=a.dateRange;a=a.search;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("LMSharingTabToolbar.react"),{attributionWindow:c,dateRange:f,dateRangeOptions:i,search:a,onAttributionValuesChange:this.onAttributionValuesChange,onChangeDateRange:this.onChangeDateRange,onSearchChange:this.onSearchChange}),b("React").createElement("div",{className:"_4aws","data-testid":b("LocationManagerWebDriverTestIDs").SHARING_INSIGHTS_TABLE},h(d,e)?b("React").createElement(b("LMSharingTabCampaignInsightsContainer.react"),{search:a}):b("React").createElement(b("LMSharingTabBrandInsightsContainer.react"),{search:a})))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LMBreadcrumb.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onClick=function(){return c.props.onItemSelected(c.props.item)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:(this.props.isActive?"_75ub":"")+" _75uc"},b("React").createElement(b("Link.react"),{className:"_75ud",onClick:this.onClick},this.props.item.name))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LMBreadcrumbs.react",["ix","cx","Image.react","LMBreadcrumb.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=g("363530"),j=function(){return b("React").createElement("div",{className:"_75u9"},b("React").createElement(b("Image.react"),{src:i}))};function a(a){return b("React").createElement("div",{className:"_75tv"},b("React").createElement("div",{className:"_75tw"},a.filterItems.flatMap(function(c,d){return[d>0&&b("React").createElement(j,{key:c.id+"-separator"}),b("React").createElement(b("LMBreadcrumb.react"),{isActive:c===a.filterItems.last(),item:c,key:c.id,onItemSelected:a.onItemSelected})]})))}e.exports=a}),null);
__d("LMTabBreadcrumbsHeader.react",["cx","FDSText.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LMBreadcrumbs.react","LocationManagerWebDriverTestIDs","React","immutable","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.description,d=a.rightColumnContent,e=a.breadcrumbs,f=a.title,g=a.isExpanded;a=a.onBreadcrumbClick;return b("React").createElement(b("Layout.react"),{className:(g?"_6q1c":"")+(g?"":" _75ua")},b("React").createElement(b("LayoutFillColumn.react"),null,b("React").createElement("div",{"data-testid":b("LocationManagerWebDriverTestIDs").SHARING_INSIGHTS_TABLE_BREADCRUMBS_HEADER},b("React").createElement(b("LMBreadcrumbs.react"),{filterItems:e,onItemSelected:a})),g&&b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"header1"},f),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8y",size:"body1"},c))),b("React").createElement(b("LayoutColumn.react"),{className:"_6q1d"}),b("React").createElement(b("LayoutColumn.react"),{className:"_6pzm"},d))}e.exports=a}),null);
__d("LMSharingTabHeader.react",["fbt","LMTabBreadcrumbsHeader.react","LMUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LMUtils").applySTORenaming;function a(a){var c=a.breadcrumbs;a=a.onBreadcrumbClick;var d=g._("Collaborative Ads for In-Store Sales"),e=h(g._("Review the businesses with access to your business locations and see a summary of their store visits campaigns."),g._("Review the businesses with access to your stores and see a summary of their store traffic campaigns."));return b("React").createElement(b("LMTabBreadcrumbsHeader.react"),{breadcrumbs:c,description:e,isExpanded:c.size===1,title:d,onBreadcrumbClick:a})}e.exports=a}),null);
__d("LMSharingTabContainer.react",["cx","fbt","FDSDivider.react","FluxContainer","LMActions","LMConfigStore","LMSharingTabContentContainer.react","LMSharingTabHeader.react","LMUtils","LocationManagerWebDriverTestIDs","React","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("LMUtils").applySTORenaming;var i={id:1,name:a(h._("Sharing"),h._("Access"))},j={id:2,name:h._("Campaign")};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onBreadcrumbClick=function(a){if(d.isCampaignBreakdown()&&a===j)return;b("LMActions").dispatchActionFromView({type:"lm.routing.update_insights_state",state:{businessID:null,brandPageID:null}})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LMConfigStore")]};c.calculateState=function(){var a=b("LMConfigStore").getState(),c=a.businessID;a=a.brandPageID;return{businessID:c,brandPageID:a}};var d=c.prototype;d.isCampaignBreakdown=function(){return this.state.businessID!=null&&this.state.brandPageID!=null};d.getBreadcrumbs=function(){var a=b("immutable").List([i]);this.isCampaignBreakdown()&&(a=a.push(j));return a};d.render=function(){return b("React").createElement("div",{className:"_6q1b","data-testid":b("LocationManagerWebDriverTestIDs").SHARING_TAB},b("React").createElement("div",{className:"_6pzl"},b("React").createElement(b("LMSharingTabHeader.react"),{breadcrumbs:this.getBreadcrumbs(),onBreadcrumbClick:this.onBreadcrumbClick}),b("React").createElement(b("FDSDivider.react"),{margin:"_5soe _20nr"}),b("React").createElement(b("LMSharingTabContentContainer.react"),null)))};return c}(b("React").Component);e.exports=b("FluxContainer").create(c)}),null);
__d("LocationManager.react",["cx","LMEmployeeInternSwitchNotice.react","LMHomeTabContainer.react","LMLocationSetsTab.react","LMLocationsTab.react","LMNav.react","LMSettingsTabContainer.react","LMSharingTabContainer.react","LMTabs","LocationManagerWebDriverTestIDs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.tab){case b("LMTabs").HOME:return this.$2();case b("LMTabs").SETTINGS:return b("React").createElement(b("LMSettingsTabContainer.react"),null);case b("LMTabs").SHARING:return b("React").createElement(b("LMSharingTabContainer.react"),null);case b("LMTabs").LOCATION_SETS:return b("React").createElement(b("LMLocationSetsTab.react"),null);case b("LMTabs").LOCATIONS:return b("React").createElement(b("LMLocationsTab.react"),{onboardingStepType:this.props.onboardingStepType,parentPage:this.props.parentPage});default:this.$2()}};d.$3=function(){return this.props.onboardingStepType==="edit_locations"};d.$2=function(){return this.$3()?b("React").createElement(b("LMHomeTabContainer.react"),null):b("React").createElement(b("LMLocationsTab.react"),{onboardingStepType:this.props.onboardingStepType,parentPage:this.props.parentPage})};d.render=function(){return b("React").createElement("div",{className:"_19y4 _4eym","data-testid":b("LocationManagerWebDriverTestIDs").LOCATION_MANAGER},b("React").createElement(b("LMEmployeeInternSwitchNotice.react"),{environment:this.props.environment,permissions:this.props.permissions}),b("React").createElement(b("LMNav.react"),{environment:this.props.environment,onboardingStepType:this.props.onboardingStepType,parentPageID:this.props.parentPageID,tab:this.props.tab,onChangeTab:this.props.onChangeTab}),this.$1())};return c}(b("React").Component);e.exports=a}),null);
__d("LocationManagerContainer.react",["cx","FluxContainer","LMActions","LMConfigStore","LMCoreNavStore","LMEnvironment","LMLoggingUtils","LMOwnedPageStore","LMPermissionsStore","LMUploadLocationsActionCreators","LoadObject","LocationManager.react","React","SUIBusinessThemeContainer.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMActions").dispatchActionFromView;function i(){b("LMUploadLocationsActionCreators").onOpenUpload()}function j(){h({type:"lm.click_add_new_page"})}function k(){h({type:"lm.click_add_existing_page"})}function l(a){b("LMLoggingUtils").logAction("lm."+a+"_opened"),h({type:"lm.tabs.click_tab",tab:a})}function a(){var a=b("LMConfigStore").getState(),c=a.environment,d=a.parentPageID;a=a.tab;return{environment:c,onboardingStepType:b("LMCoreNavStore").getState(),parentPageID:d,parentPage:d!=null?b("LMOwnedPageStore").get(d):b("LoadObject").empty(),permissions:d!=null?b("LMPermissionsStore").get(d):b("LoadObject").empty(),tab:a}}function c(){return[b("LMConfigStore"),b("LMCoreNavStore"),b("LMOwnedPageStore"),b("LMPermissionsStore")]}function d(a){return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_3m89"+(a.environment===b("LMEnvironment").PAGE_SETTINGS?" _3v0r":"")+(a.environment!==b("LMEnvironment").PAGE_SETTINGS?" _3v0s":"")},b("React").createElement(b("LocationManager.react"),babelHelpers["extends"]({},a,{onAddSingleLocation:j,onChangeTab:l,onMakeLocationFromExistingPage:k,onUploadLocations:i}))))}e.exports=b("FluxContainer").createFunctional(d,c,a)}),null);
__d("LMBootstrapper",["AdsDataAtom","BLRouting","LMActions","LMConfigStore","LMLoggingUtils","LMShortcuts","LMStores","LocationManagerContainer.react","React","ReactRenderer","Run","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){function a(){b("LMActions").dispatchActionFromView({type:"lm.routing.popstate",uri:b("URI").getMostRecentURI().getUnqualifiedURI()})}b("BLRouting").init(b("LMConfigStore"),a)}function h(){b("LMShortcuts").init(),b("Run").onLeave(function(){b("LMShortcuts").cleanup()})}function i(){var a=new Set(["lm.page_selector.dialog","lm.search_location","lm.update_location"]),c=b("AdsDataAtom").register(function(c){c=c.action;a.has(c.type)||b("LMLoggingUtils").logAction(c.type)});b("Run").onLeave(function(){b("AdsDataAtom").unregister(c)})}function a(a,c){b("LMStores").LIST,b("LMActions").dispatchActionFromView({type:"lm.bootstrap",config:c}),g(),h(),i(),b("ReactRenderer").renderComponent(b("React").createElement(b("LocationManagerContainer.react"),null),a)}e.exports={init:a}}),null);