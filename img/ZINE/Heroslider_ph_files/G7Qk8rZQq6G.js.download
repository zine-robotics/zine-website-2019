if (self.CavalryLogger) { CavalryLogger.start_js(["0pc3C"]); }

__d("AdsLocationDataLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DATA_LOAD_ERROR"}}),null);
__d("AdsLocationDataLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DATA_LOADED"}}),null);
__d("AdsLWIChangeAdStatusActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLWIChangeAdStatusActionPlugin"}}),null);
__d("AdsLWIPromotionStateChangeActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLWIPromotionStateChangeActionPlugin"}}),null);
__d("AdsPromotionsManagerServerCleanStoreDataDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CLEAN_STORE_DATA"}}),null);
__d("AdsPromotionsManagerServerReceivePromotionEntriesDataDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RECEIVE_PROMOTION_ENTRIES_DATA"}}),null);
__d("AdsPromotionsManagerServerReceivePromotionEntriesErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RECEIVE_PROMOTION_ENTRIES_ERROR"}}),null);
__d("AdsPromotionsManagerServerUpdatePromotionEntriesDataDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"UPDATE_PROMOTION_ENTRIES_DATA"}}),null);
__d("AdsPromotionsManagerViewLockDataFetchDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"LOCK_DATA_FETCH");e.exports=a}),null);
__d("AdsPromotionsManagerViewLockDataFetchDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"LOCK_DATA_FETCH"}}),null);
__d("PromotionsHubDeleteAsyncPromotionDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DELETE_ASYNC_PROMOTION"}}),null);
__d("PromotionsManagerViewActions",["AdsPromotionsManagerViewLockDataFetchDataAction"],(function(a,b,c,d,e,f){"use strict";a={isLoadingData:function(){b("AdsPromotionsManagerViewLockDataFetchDataAction").dispatch({},{line:"15",module:"PromotionsManagerViewActions.js"})}};e.exports=a}),null);
__d("XBoostedComponentFetchPromotionsDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/promotions_manager/fetch_promotions_data/",{page_id:{type:"FBID",required:!0},placement:{type:"Enum",required:!0,enumType:1},target_id:{type:"FBID"},cursor:{type:"String"},max_fetch_count:{type:"Int",required:!0},campaign_group_id:{type:"FBID"},filter:{type:"Enum",enumType:1},replace_id:{type:"String"}})}),null);
__d("BoostedComponentPromotionsDataManager",["AsyncRequest","BoostedComponentPromotionsManagerServerActions","XBoostedComponentFetchPromotionsDataController"],(function(a,b,c,d,e,f){"use strict";a={fetchPromotionEntries:function(a,c,d,e,f){f&&b("BoostedComponentPromotionsManagerServerActions").cleanStoreData();f=b("XBoostedComponentFetchPromotionsDataController").getURIBuilder().setString("cursor",a).setInt("max_fetch_count",c).setFBID("page_id",d).setEnum("placement",e).getURI();new(b("AsyncRequest"))().setURI(f).setHandler(function(a){b("BoostedComponentPromotionsManagerServerActions").updatePromotionEntriesData(a.payload)}).setErrorHandler(function(a,c){return b("BoostedComponentPromotionsManagerServerActions").receiveError(c)}).setAllowCrossPageTransition(!0).send()}};e.exports=a}),null);
__d("BoostedComponentPromotionsManagerStore",["AdsDataAtom","AdsLWIChangeAdStatusActionFlux","AdsLWIPromotionStateChangeActionFlux","AdsPromotionsManagerServerCleanStoreDataDataActionFlux","AdsPromotionsManagerServerReceivePromotionEntriesDataDataActionFlux","AdsPromotionsManagerServerReceivePromotionEntriesErrorDataActionFlux","AdsPromotionsManagerServerUpdatePromotionEntriesDataDataActionFlux","AdsPromotionsManagerViewLockDataFetchDataActionFlux","FluxReduceStore","PromotionsHubDeleteAsyncPromotionDataActionFlux","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Record({currentCursor:null,error:null,hasMoreData:!0,isLoadingData:!1,pageName:"Your Page",previousPageID:null,promotionEntriesData:b("immutable").List()});var g=b("gkx")("779516"),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a);c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new h()};d.__getActionTypes=function(){return g?[b("AdsPromotionsManagerServerCleanStoreDataDataActionFlux").actionType,b("AdsPromotionsManagerServerReceivePromotionEntriesDataDataActionFlux").actionType,b("AdsPromotionsManagerServerReceivePromotionEntriesErrorDataActionFlux").actionType,b("AdsPromotionsManagerServerUpdatePromotionEntriesDataDataActionFlux").actionType,b("AdsPromotionsManagerViewLockDataFetchDataActionFlux").actionType,b("PromotionsHubDeleteAsyncPromotionDataActionFlux").actionType,b("AdsLWIPromotionStateChangeActionFlux").actionType,b("AdsLWIChangeAdStatusActionFlux").actionType]:null};d.reduce=function(a,c){__p&&__p();var d=this,e=c.action;switch(e.type){case b("AdsPromotionsManagerServerCleanStoreDataDataActionFlux").actionType:return a.set("currentCursor",null).set("hasMoreData",!0).set("isLoadingData",!0).set("pageName","Your Page").set("previousPageID",null).set("promotionEntriesData",b("immutable").List());case b("AdsPromotionsManagerServerReceivePromotionEntriesDataDataActionFlux").actionType:c=a.get("promotionEntriesData");c=c.concat(this.initializePromotionActionState(b("immutable").List(e.data.promotionEntries)));return a.set("currentCursor",e.data.cursor).set("hasMoreData",e.data.cursor!==null).set("isLoadingData",!1).set("pageName",e.data.pageName).set("previousPageID",e.data.pageID).set("promotionEntriesData",c.sort(function(a,b){return b.creationTime-a.creationTime}));case b("AdsPromotionsManagerServerUpdatePromotionEntriesDataDataActionFlux").actionType:var f=e.entriesToUpdate;if(f.isEmpty())return a;var g=f.first().asyncRequestID;if(g==null)return a;c=a.get("promotionEntriesData");c=c.map(function(a){if(a.asyncRequestID===g){var b=f.filter(function(b){return b.header===a.header});if(b.count()===1)return d.initializePromotionActionState(b).first()}return a});return a.set("promotionEntriesData",c);case b("PromotionsHubDeleteAsyncPromotionDataActionFlux").actionType:return a.update("promotionEntriesData",function(a){return a["delete"](e.index)});case b("AdsPromotionsManagerServerReceivePromotionEntriesErrorDataActionFlux").actionType:return a.set("error",e.error).set("isLoadingData",!1).set("previousPageID",null).set("promotionEntriesData",b("immutable").List());case b("AdsPromotionsManagerViewLockDataFetchDataActionFlux").actionType:return a.set("isLoadingData",!0);case b("AdsLWIPromotionStateChangeActionFlux").actionType:c=this.getPromotionIndex(e.promotionID);return a.set("promotionEntriesData",a.get("promotionEntriesData").update(c,function(a){return babelHelpers["extends"]({},a,{promotionActionState:e.state})}));case b("AdsLWIChangeAdStatusActionFlux").actionType:c=this.getPromotionIndex(e.promotionID);return a.set("promotionEntriesData",a.get("promotionEntriesData").update(c,function(a){return babelHelpers["extends"]({},a,{adStatus:e.adStatus})}));default:return a}};d.getCurrentCursor=function(){return this.getState().get("currentCursor")};d.getHasMoreData=function(){return this.getState().get("hasMoreData")};d.getPreviousPageID=function(){return this.getState().get("previousPageID")};d.getPageName=function(){return this.getState().get("pageName")};d.getPromotionEntriesData=function(){return this.getState().get("promotionEntriesData")};d.getError=function(){return this.getState().get("error")};d.getIsLoadingData=function(){return this.getState().get("isLoadingData")};d.initializePromotionActionState=function(a){return a.map(function(a){return babelHelpers["extends"]({},a,{promotionActionState:a.adStatus==="active"?"ACTIVE":"PAUSED"})})};d.getPromotionIndex=function(a){return this.getState().get("promotionEntriesData").findIndex(function(b){var c;b=(c=(c=b.buttonData)==null?void 0:c.boostID)!=null?c:(c=b.buttonData)==null?void 0:c.instanceData.boostID;return b===a})};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("AdsDataAtom"))}),null);
__d("BoostedComponentPromotionsOverviewCardContainer.react",["cx","AdsFluxContainer","AdsLWIDuplicatePromotionProviderSelectors","AdsSelectorUtils","AdsStoreUtils","BoostedComponentPromotionsDataManager","BoostedComponentPromotionsManagerStore","BootloaderResource","FDSSpinner.react","HubbleLogger","JSResource","PromotionsManagerViewActions","React","XAdsManagerHomePageController","immutable","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsLWIDuplicatePromotionProviderSelectors").adsLWIDuplicatePromotionBoostIDToInstanceSelector,i=b("lazyLoadComponent")(b("JSResource")("BoostedComponentPromotionsCard.react").__setRef("BoostedComponentPromotionsOverviewCardContainer.react")),j=b("AdsStoreUtils").toSelector(b("BoostedComponentPromotionsManagerStore")),k=12,l=3,m=2;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={boostIDToInstanceIDMap:b("immutable").Map({}),currentCursor:null,hasMoreData:!0,isLoadingData:!1,pageName:"",previousPageID:null,promotionEntries:b("immutable").List([])},d.$3=function(){b("HubbleLogger").logAction("see_more_promotions"),d.$2()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("AdsSelectorUtils").getStores([h,j])};c.calculateState=function(a){a=j();var b=a.currentCursor,c=a.hasMoreData,d=a.isLoadingData,e=a.pageName,f=a.previousPageID;a=a.promotionEntriesData;return{boostIDToInstanceIDMap:h(),currentCursor:b,hasMoreData:c,isLoadingData:d,pageName:e,previousPageID:f,promotionEntries:a}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("BootloaderResource").preload(b("JSResource")("BoostedComponentPromotionsCard.react").__setRef("BoostedComponentPromotionsOverviewCardContainer.react"));var a=this.props,c=a.pageID;a=a.placement;var d=this.state,e=d.previousPageID;d=d.promotionEntries;var f=this.$1();!e||c!==e?b("BoostedComponentPromotionsDataManager").fetchPromotionEntries(null,this.$1(),c,a,!0):d.size<f&&this.$2()};d.$2=function(){var a=this.props,c=a.pageID;a=a.placement;var d=this.state,e=d.currentCursor,f=d.hasMoreData;d=d.isLoadingData;!d&&f&&(b("PromotionsManagerViewActions").isLoadingData(),b("BoostedComponentPromotionsDataManager").fetchPromotionEntries(e,this.$1(),c,a,!1))};d.$1=function(){switch(this.props.placement){case"www_pages_insights_promotions_tab":case"www_promotions_hub_all_promotions":return k;case"www_promotions_hub_overview":return m;case"www_pages_insights_overview_promotions_card":return l}return l};d.$4=function(){return this.props.placement==="www_pages_insights_overview_promotions_card"||this.props.placement==="www_promotions_hub_overview"};d.$5=function(){var a=this.state.promotionEntries;return this.$4()?a.slice(0,this.$1()):a};d.render=function(){var a=this.state,c=a.hasMoreData,d=a.isLoadingData,e=a.pageName;a=a.promotionEntries;if(this.state.isLoadingData&&a.size===0)return b("React").createElement("div",{className:"_2qf6"},b("React").createElement(b("FDSSpinner.react"),{size:"large"}));else if(this.$4()&&a.size===0)return null;return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("FDSSpinner.react"),{size:"large"})},b("React").createElement(i,{adsManagerURI:b("XAdsManagerHomePageController").getURIBuilder().getURI(),boostIDToInstanceIDMap:this.state.boostIDToInstanceIDMap,entries:this.$5(),hasMoreData:c,isPageALEBanHammered:!!this.props.isPageALEBanHammered,isPromotionsSection:!this.$4(),pageID:this.props.pageID,pageName:e,placement:this.props.placement,showRedirectToAdCenterCard:this.props.showRedirectToAdCenterCard,showSpinner:d&&c,onSeeMoreClick:this.$3}))};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("InsightsBrushChart",["React","SpectrumBrush","SpectrumChart","SpectrumStackedAreas","SpectrumXAxis","mergeDeep","mergeHelpers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("mergeHelpers").ArrayStrategies,h={brush:{color:null,handleBars:!0,fadeColor:"rgba(255,255,255,0.75)"},gutter:{top:15,left:16,bottom:20,right:16}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("mergeDeep")(h,null,g.Clobber);return b("React").createElement(b("SpectrumChart"),{domain:this.props.domain,height:this.props.height,scaleX:this.props.scaleX,scaleY:this.props.scaleY,scaleYHasDomain:this.props.scaleYHasDomain,theme:a,width:this.props.width},b("React").createElement(b("SpectrumStackedAreas"),{base:"bottom",data:this.props.areas}),b("React").createElement(b("SpectrumBrush"),{minDays:this.props.minDays,onBrush:this.props.onBrush,onSelection:this.props.onSelection,selection:this.props.selection}),b("React").createElement(b("SpectrumXAxis"),{ticks:3}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("InsightsLegendLineKey.react",["cx","InsightsLegendKey.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_1l46"+(this.props.thin?"":" _5nb6")+(this.props.thin?" _5nb7":"");return b("React").createElement(b("InsightsLegendKey.react"),{className:this.props.className},b("React").createElement("div",{className:a,style:{background:this.props.color}}),this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("InsightsLegend_DEPRECATED.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.layout||c.layout.FLOATED;a=b("joinClasses")("_1ovd"+(a==c.layout.FLOATED?" _1ove":""),this.props.className);return b("React").createElement("div",{className:a},this.props.children)};return c}(b("React").Component);a.layout={FLOATED:"floated",STACKED:"stacked"};e.exports=a}),null);
__d("InsightsTableHeaderCell.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onSortChange&&c.props.onSortChange("click",{value:c.props.sortKey})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.activeSortKey!=null,c=!!this.props.sortKey&&this.props.activeSortKey===this.props.sortKey,d=c&&this.props.order==="desc";a="_5k3-"+(a?" _5k3_":"")+(c?" _5k40":"")+(d?" _5k41":"");d=c?b("React").createElement("i",{className:"_5k42"},this.props.order):null;c=b("React").createElement("span",{className:b("joinClasses")("_5k43",this.props.labelClass)},this.props.children);return b("React").createElement("th",{className:b("joinClasses")(a,this.props.className),onClick:this.$1},b("React").createElement("span",{className:"_5k44"},d,c))};return c}(b("React").Component);e.exports=a}),null);
__d("InsightsTimeSelector.react",["cx","fbt","DatePickerRestraints","InsightsBrushChart","Link.react","React","XUIDatePicker.react","d3-old/time/day"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;var i=100;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeShortcut:null},d.$3=function(a){var c=d.props.selectedDateRange.until,e=b("d3-old/time/day").utc.offset(c,-a),f=d.props.domain[0],g=d.props.domain[1];if(e<f){var h=f-e,i=g-c;h>i?(e=f,c=g):(e=new Date(+e+h),c=new Date(+c+h))}d.props.onRangeChange({since:e,until:c});d.$8(a)},d.$8=function(a){d.setState({activeShortcut:a})},d.$4=function(a){a={since:a,until:d.props.selectedDateRange.until};d.props.onRangeChange(a);d.$8(null)},d.$5=function(a){a={since:d.props.selectedDateRange.since,until:b("d3-old/time/day").utc.offset(a,1)};d.props.onRangeChange(a);d.$8(null)},d.$6=function(a){d.$2&&d.props.onRangeChange({since:a[0],until:a[1]})},d.$7=function(a){d.props.onRangeChange({since:a[0],until:a[1]}),d.$8(null)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=Date.now()};d.componentDidMount=function(){if(this.props.allowUpdatesOnBrush===!1)this.$2=!1;else{var a=Date.now()-this.$1;this.$2=a<i}};d.render=function(){var a=[this.props.selectedDateRange.since,this.props.selectedDateRange.until],c=a[0].getTime(),d=b("d3-old/time/day").utc.offset(a[1],-1).getTime(),e=[b("DatePickerRestraints").enforceDateIsNoEarlierThan(this.props.earliestTime),b("DatePickerRestraints").enforceDateIsNoLaterThan(b("d3-old/time/day").utc.offset(d,-1*this.props.minDays))],f=[b("DatePickerRestraints").enforceDateIsNoEarlierThan(b("d3-old/time/day").utc.offset(c,this.props.minDays)),b("DatePickerRestraints").enforceDateIsNoLaterThan(this.props.mostRecentTime)],g=null;this.props.periodShortcuts&&(g=Object.keys(this.props.periodShortcuts).map(function(a){var c,d="_5nw6";this.state.activeShortcut===a?c=b("React").createElement("span",{className:d,key:a},this.props.periodShortcuts[a]):c=b("React").createElement(b("Link.react"),{className:d,key:a,onClick:this.$3.bind(this,a)},this.props.periodShortcuts[a]);return c},this));var i=null;this.props.timeZoneDisclaimer&&(i=b("React").createElement("div",{className:"_5nw7"},this.props.timeZoneDisclaimer));var j=this.props.className||"_5nw8";return b("React").createElement("div",{className:j},b("React").createElement("div",{className:"_5nw9"},i,g),b("React").createElement("div",{className:"_5nwa"},b("React").createElement("div",{className:"_5nwb"},b("React").createElement("span",{className:"_5nwc"},h._("Start:")),b("React").createElement("div",{className:"_5qkn"},b("React").createElement(b("XUIDatePicker.react"),{dateRestraints:e,initialTime:c,name:"sinceCalendar",onCalendarSelectDateChange:this.$4}))),b("React").createElement("div",{className:"_5nwb"},b("React").createElement("span",{className:"_5nwc"},h._("End:")),b("React").createElement("div",{className:"_5qkn"},b("React").createElement(b("XUIDatePicker.react"),{dateRestraints:f,initialTime:d,name:"untilCalendar",onCalendarSelectDateChange:this.$5})))),b("React").createElement(b("InsightsBrushChart"),{areas:this.props.areas,domain:this.props.domain,height:this.props.brushHeight,minDays:this.props.minDays,onBrush:this.$6,onSelection:this.$7,scaleX:this.props.scaleX,scaleY:this.props.scaleY,scaleYHasDomain:this.props.scaleYHasDomain,selection:a,width:this.props.brushWidth}))};return c}(b("React").Component);c.propTypes={allowUpdatesOnBrush:a.bool,areas:a.array.isRequired,brushHeight:a.number.isRequired,brushWidth:a.number.isRequired,domain:a.array.isRequired,earliestTime:a.instanceOf(Date).isRequired,minDays:a.number.isRequired,mostRecentTime:a.instanceOf(Date).isRequired,onRangeChange:a.func.isRequired,periodShortcuts:a.object,scaleY:a.func,scaleYHasDomain:a.bool,selectedDateRange:a.object.isRequired,timeZoneDisclaimer:a.string};e.exports=c}),null);
__d("AnalyticsQEs",["invariant","immutable"],(function(a,b,c,d,e,f,g){"use strict";a={_qeResults:null,init:function(a){this._qeResults=b("immutable").Map(a)},get:function(a){this._qeResults!==null&&this._qeResults.has(a)||g(0,4935,a);return this._qeResults.get(a)},has:function(a){this._qeResults!==null||g(0,4936);return this._qeResults.has(a)},isInitialized:function(){return this._qeResults!==null}};e.exports=a}),null);