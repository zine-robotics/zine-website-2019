if (self.CavalryLogger) { CavalryLogger.start_js(["8dghZ"]); }

__d("PrivacyBaseFilterConst",[],(function(a,b,c,d,e,f){e.exports={FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,FACEBOOK_EMPLOYEE_DOGFOODING:113,CUSTOM:111,EVERYONE:80,EVERYONE_MINOR_DEPRECATED:75,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,MUTUAL_FRIENDS_DEPRECATED:35,SELF:10,NOBODY:0}}),null);
__d("ReactComposerJSONCollageLayoutData",[],(function(a,b,c,d,e,f){e.exports={1:[{validActors:3,photoLayouts:[[0,1,1,0]]}],2:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],3:[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],4:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],5:[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]}}),null);
__d("Asset3DBackgroundList",["Asset3DBackground"],(function(a,b,c,d,e,f){"use strict";a=[b("Asset3DBackground").DEFAULT,b("Asset3DBackground").ONE,b("Asset3DBackground").TWO,b("Asset3DBackground").THREE,b("Asset3DBackground").FOUR,b("Asset3DBackground").FIVE,b("Asset3DBackground").SIX,b("Asset3DBackground").SEVEN,b("Asset3DBackground").EIGHT,b("Asset3DBackground").NINE,b("Asset3DBackground").TEN,b("Asset3DBackground").ELEVEN,b("Asset3DBackground").TWELVE,b("Asset3DBackground").THIRTEEN,b("Asset3DBackground").FOURTEEN,b("Asset3DBackground").FIFTEEN,b("Asset3DBackground").SIXTEEN,b("Asset3DBackground").SEVENTEEN,b("Asset3DBackground").EIGHTEEN,b("Asset3DBackground").TWENTY,b("Asset3DBackground").TWENTYONE,b("Asset3DBackground").TWENTYTWO,b("Asset3DBackground").TWENTYTHREE,b("Asset3DBackground").TWENTYFOUR,b("Asset3DBackground").TWENTYFIVE,b("Asset3DBackground").TWENTYSIX,b("Asset3DBackground").TWENTYSEVEN,b("Asset3DBackground").TWENTYEIGHT,b("Asset3DBackground").TWENTYNINE,b("Asset3DBackground").THIRTY,b("Asset3DBackground").THIRTYONE,b("Asset3DBackground").THIRTYTWO,b("Asset3DBackground").THIRTYTHREE,b("Asset3DBackground").THIRTYFOUR,b("Asset3DBackground").THIRTYFIVE,b("Asset3DBackground").THIRTYSIX];e.exports=a}),null);
__d("CampfireCommands",[],(function(a,b,c,d,e,f){a=Object.freeze({TOGGLE_LINK:"TOGGLE_LINK",SAVE_DRAFT:"SAVE_DRAFT"});e.exports=a}),null);
__d("getCampfireKeyBinding",["CampfireCommands","KeyBindingUtil","getDefaultKeyBinding"],(function(a,b,c,d,e,f){"use strict";var g=b("KeyBindingUtil").hasCommandModifier;function a(a){if(a.keyCode===75&&g(a))return b("CampfireCommands").TOGGLE_LINK;return a.keyCode===83&&g(a)?b("CampfireCommands").SAVE_DRAFT:b("getDefaultKeyBinding")(a)}e.exports=a}),null);
__d("ClickableAreaButton.react",["cx","invariant","Focus","React","ReactDOM"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.$1&&b("Focus").relocate(b("ReactDOM").findDOMNode(this.$1),b("ReactDOM").findDOMNode(this))};d.focus=function(){b("Focus").set(this.$1)};d.render=function(){var a=this,c=this.props,d=c.children,e=c.disabled,f=c.label,g=c.onClick,i=c.onMouseDown,j=c.onMouseEnter,k=c.onMouseMove,l=c.onMouseOut,m=c.onMouseLeave,n=c.pressed;c=c.tabIndex;d=b("React").Children.only(d);d.props.onClick&&h(0,2794);n=g?b("React").createElement("button",{"aria-pressed":n,className:"accessible_elem",disabled:e,label:f,key:"accessible_button",tabIndex:c,ref:function(b){return a.$1=b}},f):null;return b("React").cloneElement(d,{onClick:e?null:g,onMouseDown:i,onMouseEnter:j,onMouseMove:k,onMouseOut:l,onMouseLeave:m},[d.props.children,n])};return c}(b("React").Component);e.exports=a}),null);
__d("ComposerTargetData",[],(function(a,b,c,d,e,f){a=function(a,b,c,d){"use strict";this.targetID=a,this.targetSupportsMultiplePhotos=b,this.viewerIsTarget=c,this.targetSupportsMultiMedia=d};e.exports=a}),null);
__d("ComposerXDragDropUtils",["csx","Arbiter","CSS","DOMQuery","Parent","VideoUploadFeatureDetector"],(function(a,b,c,d,e,f,g){__p&&__p();a={handleDragEnterAndLeave:function(a){var c=b("DOMQuery").scry(b("Parent").bySelector(a,"._119"),"._2wr");b("Arbiter").subscribe("dragenter",function(d,e){a==e.element&&c.forEach(b("CSS").hide)});b("Arbiter").subscribe("dragleave",function(d,e){a==e.element&&c.forEach(b("CSS").show)})},filterImages:function(a){var c=b("VideoUploadFeatureDetector").supportsFileAPI(),d=[];for(var e=0;e<a.length;e++){var f=a[e];f.type.match("image/*")?d.push(f):c&&f.type.match("video/*")&&d.push(f)}return d}};e.exports=a}),null);
__d("TextDelightInputDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=".",i="delight";a=function(){__p&&__p();function a(a,b){this.__installedDecorators={textDelightsDecorator:!0},this.$2=a,this.$1=b,b&&Object.assign(this.__installedDecorators,b.__installedDecorators)}var b=a.prototype;b.getDecorations=function(a,b){var c=this.$1?this.$1.getDecorations(a,b).toArray():Array(a.getText().length).fill(null),d=0,e=this.$2.strategy,f=function(a,b){j(c,a,b)&&(k(c,a,b,i+h+d),d++)};e(a,f,b);return g(c)};b.getComponentForKey=function(a){return!this.$1||a.split(h)[0]===i?this.$2.component:this.$1.getComponentForKey(a)};b.getPropsForKey=function(a){return!this.$1||a.split(h)[0]===i?this.$2.props:this.$1.getPropsForKey(a)};return a}();function j(a,b,c){for(var b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function k(a,b,c,d){for(var b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("TextDelightSpan.react",["cx","Bootloader","React","SubscriptionsHandler","TextDelightInComposerGating","TextDelightInComposerLogger","createObjectFrom"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=!1,d.$3=new(b("SubscriptionsHandler"))(),d.$4=function(){var a=d.props.contentState.getEntity(d.props.entityKey).getData();b("TextDelightInComposerLogger").rangeTapped(a.funnelKey,a.campaignID,a.keyword,a.surface)},d.$5=function(){var a=d.props.contentState.mergeEntityData(d.props.entityKey,{disabled:!0});a=a.getEntity(d.props.entityKey).getData();b("TextDelightInComposerLogger").optOutTapped(a.funnelKey,a.campaignID,a.keyword,a.surface);d.props.onXOut&&d.props.onXOut(a);d.props.triggerChange&&d.props.triggerChange()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$2=!0;var c=this.props.contentState.getEntity(this.props.entityKey).getData();if(c.disabled)return;var d=c.campaignID;d&&b("Bootloader").loadModules(["TextDelightController"],function(b){if(a.$2===!1)return;a.$3.addSubscriptions(b.attachClickListener(a.$1,d,a.props.decoratedText,c.surface,a.$4))},"TextDelightSpan.react")};d.componentWillUnmount=function(){this.$2=!1,this.$3.release()};d.render=function(){__p&&__p();var a=this,c=this.props.contentState.getEntity(this.props.entityKey).getData();if(c.disabled)return this.props.children;var d=c.styles,e=Object.keys(d);e=b("createObjectFrom")(e.map(function(a){return a.replace(/-([a-z])/gi,function(a,b){return b.toUpperCase()})}),e.map(function(a){return d[a]}));c=b("TextDelightInComposerGating").isXbuttonEnabled(c.surface);var f=null;c&&(f=b("React").createElement("span",{role:"link",tabIndex:-1,className:"_6854",onClick:this.$5}));return b("React").createElement("span",babelHelpers["extends"]({},this.props,{style:e,"data-offset-key":this.props.offsetKey,className:"_3yzm",spellCheck:!1}),b("React").createElement("span",{className:"_2k9q",ref:function(b){a.$1=b}},this.props.children),f)};return c}(b("React").Component);e.exports=a}),null);
__d("keyCommandBackspaceDelight",["EditorState","TextDelightInComposerLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.getSelection();if(!c.isCollapsed())return null;var d=c.getStartKey(),e=a.getCurrentContent();d=e.getBlockForKey(d);if(c.getAnchorOffset()===0)return null;var f=d.getEntityAt(c.getAnchorOffset()-1);if(!f)return null;var g=e.getEntity(f);if(g.getType()!=="DELIGHT")return null;if(g.getData().disabled)return null;if(d.getEntityAt(c.getAnchorOffset())===f)return null;e.mergeEntityData(f,{disabled:!0});g=e.getEntity(f).getData();b("TextDelightInComposerLogger").optOutBackspace(g.funnelKey,g.campaignID,g.keyword,g.surface);return b("EditorState").forceSelection(a,c)};e.exports=a}),null);
__d("addTextDelightInputImpl",["Bootloader","EditorState","React","TextDelightConfig","TextDelightInComposerGating","TextDelightInputDecorator","TextDelightSpan.react","TextDelightSurface","getEntityMatcher","keyCommandBackspaceDelight"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("TextDelightConfig").composerOptions,h=null;a=function(a,c){__p&&__p();return function(d){__p&&__p();babelHelpers.inheritsLoose(e,d);function e(){__p&&__p();var a,e;for(var f=arguments.length,h=new Array(f),i=0;i<f;i++)h[i]=arguments[i];return(a=e=d.call.apply(d,[this].concat(h))||this,e.$1=function(a,d){__p&&__p();if(!b("TextDelightInComposerGating").isBackspaceEnabled(c))return"not-handled";var f=null;switch(a){case"backspace":f=b("keyCommandBackspaceDelight")(d);break}if(f){e.props.onChange(f);return"handled"}return e.props.handleKeyCommand?e.props.handleKeyCommand(a,d):"not-handled"},e.$2=null,e.$3=function(a){e.$2&&clearTimeout(e.$2),e.props.onChange&&e.props.onChange(a),a.getCurrentContent().hasText()&&g.autoHighlightThresholdMs>0&&(e.$2=setTimeout(function(){e.$4()},g.autoHighlightThresholdMs))},e.$5=function(){var a=e.props.editorState;e.$3(b("EditorState").create({currentContent:a.getCurrentContent(),decorator:a.getDecorator(),selection:a.getSelection()}))},a)||babelHelpers.assertThisInitialized(e)}var f=e.prototype;f.blur=function(){var a=this.refs.component;a&&typeof a.blur==="function"&&a.blur()};f.click=function(){var a=this.refs.component;a&&typeof a.click==="function"&&a.click()};f.focus=function(){var a=this.refs.component;a&&typeof a.focus==="function"&&a.focus()};f.$4=function(){if(!h){b("Bootloader").loadModules(["TextDelightInComposerMatcher"],function(a){h=a},"addTextDelightInputImpl");return}var a=h.matchLastWord(this.props.editorState,this.props.delightFunnelID,c);this.props.onChange&&this.props.onChange(a)};f.componentWillUnmount=function(){clearTimeout(this.$2)};f.render=function(){__p&&__p();var d;if(!b("TextDelightInComposerGating").isEnabled(c))return b("React").createElement(a,babelHelpers["extends"]({},this.props,{ref:"component"}));if(this.props.config&&this.props.config.actorConfig&&this.props.config.actorConfig.selectedActorID&&this.props.config.actorConfig.selectedActorID!==this.props.config.actorConfig.viewerAccountID)return b("React").createElement(a,babelHelpers["extends"]({},this.props,{ref:"component"}));var e=this.props.editorState,f=e.getDecorator();if(!b("TextDelightInComposerGating").isHighlightEnabled(c))return b("React").createElement(a,babelHelpers["extends"]({},this.props,{ref:"component"}));c===b("TextDelightSurface").COMMENT&&(f==null||((d=f)!=null?(d=d.__installedDecorators)!=null?d.textDelightsDecorator:d:d)!==!0)&&(e=b("EditorState").set(e,{decorator:new(b("TextDelightInputDecorator"))({strategy:b("getEntityMatcher")(function(a){return a.getType()==="DELIGHT"}),component:b("TextDelightSpan.react"),props:{triggerChange:this.$5}},f)}));return b("React").createElement(a,babelHelpers["extends"]({},this.props,{onChange:this.$3,editorState:e,handleKeyCommand:this.$1,ref:"component"}))};return e}(b("React").Component)};e.exports=a}),null);
__d("InsightsSharingConstants",[],(function(a,b,c,d,e,f){"use strict";a="MINT";b="UNIDASH";c="FFD";d="ANP";f="ODS";var g="DAIQUERY",h="SCUBA",i="DELTOID",j="LINE_CHART",k="BAR_CHART",l="TABLE",m="DASHBOARD",n="OTHER",o="insights_sharing",p={SERIES_SET:"series_set",ICHART:"ichart_source_uri",CHARTA_TABLE:"charta_flat_table",OTHER:n},q="170720323723007",r={annotationline:{opacity:1,strokeDasharray:"4,9",cursor:"pointer",strokeWidth:2},"annotationanchor:active":{cursor:"pointer",stroke:"blue"},"annotationanchor:hover":{cursor:"pointer",stroke:"blue"},gridline:{visibility:"hidden"}},s={annotationline:{opacity:1,strokeDasharray:"2,4",cursor:"pointer",strokeWidth:2},"annotationanchor:active":{cursor:"pointer",stroke:"blue"},"annotationanchor:hover":{cursor:"pointer",stroke:"blue"},'axis[orientation="horizontal"]>axisbucketmark':{visibility:"hidden"},gridline:{visibility:"hidden"}},t={annotationline:{opacity:1,strokeDasharray:"2,4",cursor:"pointer",strokeWidth:2},"annotationanchor:active":{cursor:"pointer",stroke:"blue"},"annotationanchor:hover":{cursor:"pointer",stroke:"blue"},gridline:{visibility:"hidden"},axis:{visibility:"hidden"}};e.exports={MINT:a,UNIDASH:b,FFD:c,ANP:d,ODS:f,DAIQUERY:g,SCUBA:h,DELTOID:i,LINE_CHART:j,BAR_CHART:k,DASHBOARD:m,TABLE:l,OTHER:n,INSIGHTS_SHARING_REFERER:o,INSIGHTS_SHARING_DEFAULT_ENT_ID:q,IDS_CHART_STYLE:r,IDS_CATEGORY_CHART_STYLE:s,METRIK_SUPPORTED_DATA_FORMATS:p,IDS_ALBUM_CHART_STYLE:t}}),null);
__d("ExternalInsightsSharingUtils",["InsightsSharingConstants","ReactComposerScrapedAttachmentStore","ReactComposerStatusUtils","URI","URLMatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){return a.replace(/[\]\[\{\}\:\;\" ]/g,"_")},h={getYSeriesNames:function(a,b){var c=a.x_serie_name;return Object.keys(a).filter(function(d){return d!=="x_serie_name"&&d!==c&&(b||!a[d].intervalOf)})},findRelatedSeries:function(a,b){var c=h.getYSeriesNames(a,!0).filter(function(c){return a[c].intervalOf===b});return c},getEntIDFromURI:function(a){a=new(b("URI"))(a);var c=/datainsights\/(\d+)/g;c=c.exec(a.getPath());return c&&c.length>1?c[1]:""},getEntIDsFromURI:function(a){a=new(b("URI"))(a);var c=/intern\/datainsights(.*)/g;c=c.exec(a.getPath());if(!c||c.length<=1)return null;a=c[1].slice(1,-1).split("_");return a.filter(function(a){return!isNaN(a)})},updateDatainsightAttachment:function(a,c){__p&&__p();c=b("ReactComposerStatusUtils").validateUrl(b("URLMatcher").permissiveHostPathMatch(c)||"");a=b("ReactComposerScrapedAttachmentStore").getPermissiveMatch(a);if(!c||!a)return"";var d=h.getEntIDFromURI(c);if(!d)return"";c=h.getEntIDsFromURI(a);if(!c||!c.length)return"";if(c.findIndex(function(a){return a===d})===-1)return a.slice(0,-1)+"_"+d+"/";else return""},sanitizeAnnotations:function(a){return a==null?null:a.map(function(a){return a.dependentVariableName!=null?babelHelpers["extends"]({},a,{dependentVariableName:g(a.dependentVariableName)}):a})},sanitizeChartData:function(a){var b=JSON.stringify(a);Object.keys(a.schema).forEach(function(a){if(a==="x_serie_name")return;var c=JSON.stringify(a);a=JSON.stringify(g(a));b=b.split(c).join(a)});return JSON.parse(b)},shouldShowInteractive:function(a){if(a==null?void 0:a.enforce_photo)return!1;if(a.chart_type!=b("InsightsSharingConstants").BAR_CHART&&a.chart_type!=b("InsightsSharingConstants").LINE_CHART&&a.chart_type!=b("InsightsSharingConstants").TABLE)return!1;if(a.chart_data.data.length==0)return!1;return a.chart_type!=b("InsightsSharingConstants").TABLE&&a.chart_data.data.filter(function(b){return b&&b[a.x_serie_name]&&Object.keys(b).length>1}).length==0?!1:!0},applySchemaOverrides:function(a,b){__p&&__p();var c=JSON.parse(JSON.stringify(a));Object.keys(b).forEach(function(a){__p&&__p();b[a].stroke&&c.schema[a]&&(c.schema[a].dataStyles=babelHelpers["extends"]({},c.schema[a].dataStyles,{stroke:b[a].stroke}));b[a].isDisabled&&(delete c.schema[a],c.labels=c.labels.filter(function(b){return b.key!=a}),c.data.forEach(function(b){return delete b[a]}));c.data=c.data.filter(function(a){return!(Object.keys(a).length===1&&Object.keys(a)[0]===c.schema.x_serie_name)});if(b[a].title){var d=b[a].title;c.labels=c.labels.map(function(b){return b.key===a?babelHelpers["extends"]({},b,{label:d}):b})}});return c}};e.exports=h}),null);
__d("ReactComposerWorkContentFileUploadActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({FILE_ENQUEUED:null,FILE_UPDATE:null,FILE_UPLOAD_SUCCESS:null,FILE_UPLOAD_REMOVE:null,FILE_PREFILL_DATA:null},"ReactComposerWorkContentFileUploadActionType")}),null);
__d("ReactComposerWorkContentMultiAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({ATTACHMENTS_REMOVED_ALL:null},"ReactComposerWorkContentMultiAttachmentActionType")}),null);
__d("WorkContentFileUploadStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FILE_ENQUEUED:0,FILE_UPLOAD_SUCCESS:100})}),null);
__d("WorkContentShareAttachment",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({APP_ATTACHMENT:"app_attachment",FILE_ATTACHMENT:"file_attachment"})}),null);
__d("ReactComposerWorkContentFileUploadStore",["ReactComposerAttachmentActions","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerStoreBase","ReactComposerTaggerActions","ReactComposerTaggerType","ReactComposerWorkContentFileUploadActionType","ReactComposerWorkContentMultiAttachmentActionType","WorkContentFileUploadStatus","WorkContentShareAttachment","immutable"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,function(){return{uploads:b("immutable").OrderedMap()}},function(a){__p&&__p();switch(a.type){case b("ReactComposerWorkContentFileUploadActionType").FILE_ENQUEUED:d.$ReactComposerWorkContentFileUploadStore1(a);break;case b("ReactComposerWorkContentFileUploadActionType").FILE_UPDATE:d.$ReactComposerWorkContentFileUploadStore2(a);break;case b("ReactComposerWorkContentFileUploadActionType").FILE_UPLOAD_SUCCESS:d.$ReactComposerWorkContentFileUploadStore3(a);break;case b("ReactComposerWorkContentFileUploadActionType").FILE_UPLOAD_REMOVE:d.$ReactComposerWorkContentFileUploadStore4(a);break;case b("ReactComposerWorkContentMultiAttachmentActionType").ATTACHMENTS_REMOVED_ALL:d.$ReactComposerWorkContentFileUploadStore5(a);break;case b("ReactComposerWorkContentFileUploadActionType").FILE_PREFILL_DATA:d.$ReactComposerWorkContentFileUploadStore6(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d.$ReactComposerWorkContentFileUploadStore7(a);break}})||this;var d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.$ReactComposerWorkContentFileUploadStore6=function(a){a=this.validateAction(a,["composerID","attachmentID","fileData","fileConfig"]);var c=a[0],d=a[1],e=a[2];a=a[3];var f=this.getComposerData(c);if(f.uploads.has(d))return;b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").WORK_FILE,b("ReactComposerTaggerType").WORK_FILE,{isWorkFileUpload:!0});f.uploads=f.uploads.set(d,{attachmentType:b("WorkContentShareAttachment").FILE_ATTACHMENT,attachmentID:d,progress:b("WorkContentFileUploadStatus").FILE_UPLOAD_SUCCESS,fileID:a.file_id,data:e});this.emitChange(c)};d.$ReactComposerWorkContentFileUploadStore1=function(a){a=this.validateAction(a,["composerID","attachmentID","fileUpload"]);var c=a[0],d=a[1];a=a[2];b("ReactComposerAttachmentActions").selectAttachment(c,b("ReactComposerAttachmentType").STATUS,!0);var e=this.getComposerData(c);if(e.uploads.has(d))return;e.uploads=e.uploads.set(d,{attachmentType:b("WorkContentShareAttachment").FILE_ATTACHMENT,attachmentID:d,progress:b("WorkContentFileUploadStatus").FILE_ENQUEUED,name:a.name});this.emitChange(c)};d.$ReactComposerWorkContentFileUploadStore2=function(a){__p&&__p();a=this.validateAction(a,["composerID","attachmentID","progress"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);if(!d.uploads.has(c))return;var e=d.uploads.get(c);e.progress=a;d.uploads=d.uploads.set(c,e);this.emitChange(b)};d.$ReactComposerWorkContentFileUploadStore3=function(a){__p&&__p();a=this.validateAction(a,["composerID","attachmentID","handle","data"]);var c=a[0],d=a[1],e=a[2];a=a[3];var f=this.getComposerData(c);if(!f.uploads.has(d))return;var g=f.uploads.get(d);g.progress=b("WorkContentFileUploadStatus").FILE_UPLOAD_SUCCESS;f.uploads=f.uploads.set(d,{attachmentType:g.attachmentType,attachmentID:g.attachmentID,handleID:e,progress:b("WorkContentFileUploadStatus").FILE_UPLOAD_SUCCESS,data:a});this.emitChange(c)};d.$ReactComposerWorkContentFileUploadStore4=function(a){a=this.validateAction(a,["composerID","attachmentID"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.uploads=d.uploads["delete"](a);d.uploads.isEmpty()&&b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").WORK_FILE,b("ReactComposerTaggerType").WORK_FILE,{isWorkFileUpload:null});this.emitChange(c)};d.$ReactComposerWorkContentFileUploadStore5=function(a){a=a.composerID;var c=this.getComposerData(a);c.uploads=c.uploads.clear();b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").WORK_FILE,b("ReactComposerTaggerType").WORK_FILE,{isWorkFileUpload:null});this.emitChange(a)};d.$ReactComposerWorkContentFileUploadStore7=function(a){var b=this.validateAction(a,["id","currentAttachmentID"]),c=b[0];b=b[1];if(c===b)return;this.$ReactComposerWorkContentFileUploadStore5(a)};d.getAllUploads=function(a){a=this.getComposerData(a);return a.uploads.toList()};d.getCompletedUploads=function(a){a=this.getComposerData(a);return a.uploads.filter(function(a){if(a.data)return a}).toList()};d.isLoading=function(a){a=this.getAllUploads(a).filter(function(a){if(a.data==null)return a});return!a.isEmpty()};d.isEmpty=function(a){return this.getAllUploads(a).isEmpty()};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("WorkFileAccessPromptAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHOW_ACCESS_PROMPT:"SHOW_ACCESS_PROMPT",CLICK_MANAGE_PERMISSIONS:"CLICK_MANAGE_PERMISSIONS",REMOVE_ATTACHMENT:"REMOVE_ATTACHMENT"})}),null);
__d("ContentMultiAttachmentUtils",["fbt","CurrentUser","ExceptionDialog","ReactComposerWorkContentAppAttachmentStore","ReactComposerWorkContentFileUploadStore","WebFunnelLogger","WorkFileAccessPromptAction"],(function(a,b,c,d,e,f,g){__p&&__p();var h=6,i=1024;a={fileAccessPromptFunnelLogger:function(a,c){c=new(b("WebFunnelLogger"))("WorkFileAccessPromptFunnelDefinition").setSessionKey(b("CurrentUser").getID()).setAction(a).addActionPayload("app_type",c.source).addActionPayload("attachment_type",c.type).addActionPayload("attachment_id",c.id).addActionPayload("privacy_status",c.privacy_status);switch(a){case b("WorkFileAccessPromptAction").SHOW_ACCESS_PROMPT:c.markStart();break;case b("WorkFileAccessPromptAction").REMOVE_ATTACHMENT:c.markEnd();break}c.log()},getNewID:function(){return(i++).toString()},isPostButtonDisabled:function(a){return b("ReactComposerWorkContentAppAttachmentStore").isScraping(a)||b("ReactComposerWorkContentFileUploadStore").isLoading(a)},getMaxAllowedAttachments:function(){return h},getAttachmentCount:function(a){return b("ReactComposerWorkContentFileUploadStore").getAllUploads(a).size+b("ReactComposerWorkContentAppAttachmentStore").getAttachments(a).size},getMultiAttachmentRemainingQuota:function(a){return h-this.getAttachmentCount(a)},showMaxFilesExceptionDialog:function(){b("ExceptionDialog").show(g._("Your file could not be attached"),g._({"*":"You can attach a maximum of {number} files","_1":"You can attach a maximum of one file"},[g._plural(h,"number")]))}};e.exports=a}),null);
__d("ReactComposerScrapedAttachmentActions",["ReactComposerAttachmentActionType","ReactComposerDispatcher","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerScrapedAttachmentStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.enabled=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED,enabled:c};b("ReactComposerDispatcher").dispatch(a)};c.setScrapedAttachment=function(a,c,d,e,f,g,h){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:c,attachmentConfig:d,sourceLoggingName:e,postConfirmationDialog:f,hasDisputedWarning:g,breakingNewsConfig:h};b("ReactComposerDispatcher").dispatch(a)};c.clearScrapedAttachment=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_CLEARED,sourceLoggingName:c};b("ReactComposerDispatcher").dispatch(a)};c.clearSpinner=function(a){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CLEAR_SPINNER};b("ReactComposerDispatcher").dispatch(a)};c.setScrapedAttachmentWithoutLogging=function(a,c,d,e,f){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:c,attachmentConfig:d,suppressWaterfallLogging:!0,postConfirmationDialog:e,hasDisputedWarning:f};b("ReactComposerDispatcher").dispatch(a)};c.setPermissiveMatch=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:c};b("ReactComposerDispatcher").dispatch(a)};c.scrapeAttachment=function(a,c,d,e,f,g,h){h===void 0&&(h=!1);a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED,targetID:c,value:d,entryPoint:e,actorID:f,sourceLoggingName:g,isFilePicker:h};b("ReactComposerDispatcher").dispatch(a)};c.setShareAttachment=function(a,c,d,e,f,g){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED,targetID:c,actorID:d,shareType:e,shareParams:f,isFbPhotoShare:g};b("ReactComposerDispatcher").dispatch(a)};c.uploadImagesForCarousel=function(a){a={composerID:a.composerID,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD,targetID:a.targetID,scrapeUrl:a.scrapeUrl,carouselParams:a.carouselParams,entryPoint:a.entryPoint,actorID:a.actorID};b("ReactComposerDispatcher").dispatch(a)};c.linkTitleEdited=function(a,c,d){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_TITLE_EDITED,index:c,value:d};b("ReactComposerDispatcher").dispatch(a)};c.linkDescriptionEdited=function(a,c,d){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_DESCRIPTION_EDITED,index:c,value:d};b("ReactComposerDispatcher").dispatch(a)};c.setNoImagePreviewEdit=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_IMAGE_DESELECTED,index:c};b("ReactComposerDispatcher").dispatch(a)};c.setBreakingConfig=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_BREAKING_CONFIG_SET,breakingNewsConfig:c};b("ReactComposerDispatcher").dispatch(a)};c.setIsContentMultiShareAttachment=function(a,c){a={composerID:a,type:b("ReactComposerAttachmentActionType").SET_CONTENT_MULTI_SHARE,isContentMultiShareAttachment:c};b("ReactComposerDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("ReactComposerWorkContentAppAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({FILE_SCRAPED:null,FILE_ADDED:null,FILE_REMOVED:null,FILE_REMOVED_ALL:null,FILE_PREFILL:null,FILES_REFRESH:null},"ReactComposerWorkContentAppAttachmentActionType")}),null);
__d("ReactComposerWorkContentAppAttachmentStore",["ContentMultiAttachmentUtils","ReactComposerAttachmentActionType","ReactComposerLoggingName","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase","ReactComposerTaggerActions","ReactComposerTaggerType","ReactComposerWorkContentAppAttachmentActionType","ReactComposerWorkContentMultiAttachmentActionType","WorkContentShareAttachment","immutable"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,function(){return{uploads:b("immutable").OrderedMap(),notUploadedCounter:0,sourcesByURL:b("immutable").Map()}},function(a){__p&&__p();switch(a.type){case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED:d.$ReactComposerWorkContentAppAttachmentStore1(a);break;case b("ReactComposerWorkContentAppAttachmentActionType").FILE_SCRAPED:d.$ReactComposerWorkContentAppAttachmentStore2(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_CLEARED:case b("ReactComposerWorkContentMultiAttachmentActionType").ATTACHMENTS_REMOVED_ALL:d.$ReactComposerWorkContentAppAttachmentStore3(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d.$ReactComposerWorkContentAppAttachmentStore4(a);break;case b("ReactComposerWorkContentAppAttachmentActionType").FILE_REMOVED:d.$ReactComposerWorkContentAppAttachmentStore5(a);break;case b("ReactComposerWorkContentAppAttachmentActionType").FILE_PREFILL:d.$ReactComposerWorkContentAppAttachmentStore6(a);break;case b("ReactComposerWorkContentAppAttachmentActionType").FILES_REFRESH:d.$ReactComposerWorkContentAppAttachmentStore7(a);break}})||this;var d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getAttachments=function(a){a=this.getComposerData(a);return a.uploads.toList()};d.getScrapedAttachments=function(a){a=this.getAttachments(a).filter(function(a){if(a.data)return a});return a};d.isScraping=function(a){a=this.getAttachments(a).filter(function(a){return a.scraping});return!a.isEmpty()};d.setNotUploadedCounter=function(a,b){a=this.getComposerData(a);a.notUploadedCounter=b};d.getNotUploadedCounter=function(a){a=this.getComposerData(a);return a.notUploadedCounter};d.isEmpty=function(a){return this.getComposerData(a).uploads.isEmpty()};d.isAttached=function(a,b){a=this.getComposerData(a);return a.uploads.has(b)};d.isCheckedURL=function(a,b,c){c=c?"filePicker":"other";a=this.getComposerData(a);return a.sourcesByURL.has(b)?a.sourcesByURL.get(b).has(c):!1};d.$ReactComposerWorkContentAppAttachmentStore1=function(a){__p&&__p();var c=this.validateAction(a,["composerID","value"]),d=c[0];c=c[1];var e=this.getComposerData(d);if(this.isCheckedURL(d,c,a.isFilePicker))return;if(b("ContentMultiAttachmentUtils").getMultiAttachmentRemainingQuota(d)<1||e.uploads.has(c))return;e.uploads=e.uploads.set(c,{attachmentType:b("WorkContentShareAttachment").APP_ATTACHMENT,attachmentID:b("ContentMultiAttachmentUtils").getNewID(),scraping:!0,contentURI:c});e.sourcesByURL=e.sourcesByURL.update(c,b("immutable").Set(),function(b){return b.add(a.isFilePicker?"filePicker":"other")});this.emitChange(d)};d.$ReactComposerWorkContentAppAttachmentStore6=function(a){var c=this.validateAction(a,["composerID","contentAttachmentConfig","contentAttachmentData"]),d=c[0],e=c[1];c=c[2];var f=this.getComposerData(d);f.sourcesByURL=f.sourcesByURL.update(c.contentURI,b("immutable").Set(),function(b){return b.add(a.isFilePicker?"filePicker":"other")});this.$ReactComposerWorkContentAppAttachmentStore8(d,b("ContentMultiAttachmentUtils").getNewID(),e,c);this.emitChange(d)};d.$ReactComposerWorkContentAppAttachmentStore2=function(a){var b=this.validateAction(a,["composerID","contentAttachmentConfig","contentAttachmentData"]),c=b[0],d=b[1];b=b[2];if(d===null||!this.isAttached(c,d.url))return;b?this.$ReactComposerWorkContentAppAttachmentStore8(c,this.getComposerData(c).uploads.get(d.url).attachmentID,d,b):this.$ReactComposerWorkContentAppAttachmentStore9(c,d.url,a.isFilePicker);this.emitChange(c)};d.$ReactComposerWorkContentAppAttachmentStore9=function(a,b,c){var d=this.getComposerData(a);this.$ReactComposerWorkContentAppAttachmentStore10(a,b);d.sourcesByURL=d.sourcesByURL.update(b,function(a){return a.add(c?"filePicker":"other")})};d.$ReactComposerWorkContentAppAttachmentStore10=function(a,c){var d=this.getComposerData(a);d.uploads=d.uploads["delete"](c);d.notUploadedCounter=0;d.sourcesByURL=d.sourcesByURL.update(c,function(a){return a.remove("filePicker")});this.isEmpty(a)&&(b("ReactComposerScrapedAttachmentActions").clearScrapedAttachment(a),b("ReactComposerScrapedAttachmentActions").clearSpinner(a),b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").APP_INTEGRATION_BOX,{isAppAttachmentData:null}));this.emitChange(a)};d.$ReactComposerWorkContentAppAttachmentStore5=function(a){a=this.validateAction(a,["composerID","contentURI"]);var b=a[0];a=a[1];this.$ReactComposerWorkContentAppAttachmentStore10(b,a)};d.$ReactComposerWorkContentAppAttachmentStore3=function(a){a=a.composerID;var c=this.getComposerData(a);c.uploads=c.uploads.clear();c.notUploadedCounter=0;c.sourcesByURL=c.sourcesByURL.map(function(a){return a.remove("filePicker")});b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").APP_INTEGRATION_BOX,{isAppAttachmentData:null});this.emitChange(a)};d.$ReactComposerWorkContentAppAttachmentStore4=function(a){var b=this.validateAction(a,["id","currentAttachmentID"]),c=b[0];b=b[1];if(c===b)return;this.$ReactComposerWorkContentAppAttachmentStore3(a)};d.$ReactComposerWorkContentAppAttachmentStore8=function(a,c,d,e){var f=this.getComposerData(a),g=d.url||e.contentURI;if(g==null)return;var h={attachmentType:b("WorkContentShareAttachment").APP_ATTACHMENT,attachmentID:c,data:e,attachmentConfig:d,scraping:!1,contentURI:g};f.uploads=f.uploads.update(g,function(){return h});b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").APP_INTEGRATION_BOX,{isAppAttachmentData:!0})};d.$ReactComposerWorkContentAppAttachmentStore7=function(a){var c=this;a=this.validateAction(a,["composerID","composerContext","appIntegrationType"]);var d=a[0],e=a[1],f=a[2];this.getAttachments(d).forEach(function(a){a.data&&a.data.app_integration_type===f&&(c.$ReactComposerWorkContentAppAttachmentStore10(d,a.contentURI),b("ReactComposerScrapedAttachmentActions").scrapeAttachment(d,e.targetID,a.data.contentURI,e.composerType,e.actorID,b("ReactComposerLoggingName").INLINE_COMPOSER,!0))})};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerFileActions",["ReactComposerDispatcher","ReactComposerFileActionType","ReactComposerFileStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerFileStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.reset=function(a){a={composerID:a,type:b("ReactComposerFileActionType").RESET};b("ReactComposerDispatcher").dispatch(a)};c.saveFile=function(a,c){a={composerID:a,type:b("ReactComposerFileActionType").SAVE_FILE,name:c.name,file:c.file};b("ReactComposerDispatcher").dispatch(a)};c.setConfig=function(a,c){a={composerID:a,type:b("ReactComposerFileActionType").SET_FILE_CONFIG,config:c};b("ReactComposerDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("WorkContentActivityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WorkContentActivityLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WorkContentActivityLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WorkContentActivityLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdditionalData=function(a){this.$1.additional_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setAppContentID=function(a){this.$1.app_content_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setAssociatedPostID=function(a){this.$1.associated_post_id=a;return this};c.setAttachmentFileType=function(a){this.$1.attachment_file_type=a;return this};c.setContentID=function(a){this.$1.content_id=a;return this};c.setContentType=function(a){this.$1.content_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setParentContentID=function(a){this.$1.parent_content_id=a;return this};c.setParentContentType=function(a){this.$1.parent_content_type=a;return this};c.setSurfaceType=function(a){this.$1.surface_type=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={additional_data:!0,app_content_id:!0,app_id:!0,app_version:!0,associated_post_id:!0,attachment_file_type:!0,content_id:!0,content_type:!0,event:!0,parent_content_id:!0,parent_content_type:!0,surface_type:!0,target_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ReactComposerFileUtils",["fbt","ExceptionDialog","ReactComposerWorkFileAttachmentUploadContainer","WorkContentActivityTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReactComposerWorkFileAttachmentUploadContainer").module;a={selectFileOrWorkFileModule:function(a,b){return h?b:a},hasExceededFileSize:function(a,c){c===void 0&&(c=Infinity);var d=a.size>c;d&&(b("ExceptionDialog").show(g._("File too large").toString(),g._("The file that you've uploaded is too large.").toString()),h&&new(b("WorkContentActivityTypedLogger"))().setSurfaceType("FILES_COMPOSER").setEvent("SELECT_FILE_TOO_BIG").setAdditionalData({file_size:a.size.toString(),max_size:c.toString()}).log());return d}};e.exports=a}),null);
__d("ReactComposerLoggingActions",["ExtensibleSproutsItemType","ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerLoggingName","ReactComposerMediaUploadActionType"],(function(a,b,c,d,e,f){__p&&__p();a={composerEntry:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_ENTRY,uiElementName:c})},mediaUploadInputClicked:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED,sourceLoggingName:c})},mediaUploadInputDone:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE,sourceLoggingName:c})},mediaFileDropped:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_INTENT,featureType:b("ExtensibleSproutsItemType").MEDIA,uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFileDropFinished:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_DONE,featureType:b("ExtensibleSproutsItemType").MEDIA,uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFilePasted:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_INTENT,featureType:b("ExtensibleSproutsItemType").MEDIA,uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_PASTED})},mediaFilePasteFinished:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_DONE,featureType:b("ExtensibleSproutsItemType").MEDIA,uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_PASTED})},sproutVisibilityUpdated:function(a,c,d,e,f,g){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SPROUT_VIEW_UPDATE,visibilityMap:c,event:d,sproutsState:e,promotedSprout:f,promotionID:g})},collectionSelectorCancel:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_CANCEL,featureType:b("ReactComposerFeatureType").COLLECTIONS,uiElementName:c})},collectionSelectorDone:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_DONE,featureType:b("ReactComposerFeatureType").COLLECTIONS,uiElementName:c})},composerCancel:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_CANCEL})},composerNavigateAwayAttempt:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT})},composerSharesheetPostClicked:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerActionTypes").COMPOSER_SHARESHEET_POST_CLICKED})}};e.exports=a}),null);
__d("ReactComposerStatusUtils",["Bootloader","ContentMultiAttachmentUtils","CurrentUser","ExternalInsightsSharingUtils","PUWMethods","ReactComposerAsset3dAttachmentActions","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerFileActions","ReactComposerFileUtils","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerWorkContentAppAttachmentStore","ReactComposerWorkFileActions","URLMatcher","URLScraper","gkx","uniqueID"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ReactComposerWorkFileActions").module,h={scrapeLink:function(a,c,d,e,f,g,i){__p&&__p();i===void 0&&(i=!1);if(!b("ReactComposerScrapedAttachmentStore").isEnabled(a))return;if(b("ReactComposerScrapedAttachmentStore").getMarkup(a)&&b("CurrentUser").isEmployee()&&b("gkx")("816011")&&e==="work_feed"){d=b("ExternalInsightsSharingUtils").updateDatainsightAttachment(a,d);if(!d)return}if(b("ReactComposerScrapedAttachmentStore").getMarkup(a))return;if(b("gkx")("798553")){var j=b("URLMatcher").permissiveMultiMatch(d);j.map(function(b){h.scrapeAppContent(a,c,b,e,f,g,i)});return}j=d.trim().split(/\s+/);for(var k=0;k<j.length;k++){var l=b("URLMatcher").permissiveMatch(j[k]);if(l!==b("ReactComposerScrapedAttachmentStore").getPermissiveMatch(a)){b("ReactComposerScrapedAttachmentActions").setPermissiveMatch(a,l);l=h.validateUrl(b("URLScraper").match(j[k])||l);var m=b("ReactComposerScrapedAttachmentStore").getAttachmentAlreadyCleared(a,d);if(l&&!m){b("ReactComposerScrapedAttachmentActions").scrapeAttachment(a,c,l,e,f,g,i);break}}}},scrapeAppContent:function(a,c,d,e,f,g,i){i===void 0&&(i=!1);if(!b("gkx")("798553"))return h.scrapeLink(a,c,d,e,f,g,i);if(b("ReactComposerWorkContentAppAttachmentStore").isAttached(a,d)||b("ReactComposerWorkContentAppAttachmentStore").isCheckedURL(a,d,i))return;if(!b("ContentMultiAttachmentUtils").getMultiAttachmentRemainingQuota(a))return;d=h.validateUrl(b("URLScraper").match(d));d&&!b("ReactComposerWorkContentAppAttachmentStore").isAttached(a,d)&&b("ReactComposerScrapedAttachmentActions").scrapeAttachment(a,c,d,e,f,g,i)},uploadPastedFile:function(a,c,d){b("ReactComposerLoggingActions").mediaFilePasted(a),c.uploadID=b("uniqueID")(),c.name="",d&&d.enqueueAsyncUploadRequest(a,[c],{},{},!1),b("ReactComposerLoggingActions").mediaFilePasteFinished(a)},uploadDroppedMedia:function(a,c,d,e,f,g){b("ReactComposerLoggingActions").mediaFileDropped(a),b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,b("ReactComposerLoggingName").MEDIA_FILE_DROPPED),b("Bootloader").loadModules(["ReactComposerMediaUtils"],function(h){var i=h.getFileNames(c);i=h.hasVideos(i);f.enableVideoUploadDialogForDropppedFiles&&c.length==1&&i?h.handleVideoUploadForDroppedFiles(c,f,g):h.uploadPhotosOrVideo(a,c,d,!0,b("PUWMethods").DRAGDROP,e);b("ReactComposerLoggingActions").mediaFileDropFinished(a)},"ReactComposerStatusUtils")},loadDroppedFile:function(a,c){b("gkx")("974550")&&/\.(glb)$/i.test(c.name)?(b("ReactComposerAsset3dAttachmentActions").selectGlbFileInput(a,c),b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").ASSET_3D,!0)):(b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").FILE,!0,b("ReactComposerLoggingName").FILE_DROPPED),b("ReactComposerFileUtils").selectFileOrWorkFileModule(b("ReactComposerFileActions"),g).saveFile(a,{file:c,name:c.name}))},handleMarkdownPreview:function(a,c,d,e){if(!d)return;d=d.action;e||(e=b("ReactComposerStatusStore").getEditorState(a));if(!e)return;var f=!!b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").MARKDOWN).isMarkdown;f&&d.updatePreview(a,c,e.getCurrentContent())},validateUrl:function(a){if(!a||a=="about:blank"||a=="http://"||h.validateUrlHasNoHostnameOrIp(a))return null;else return a},validateUrlHasNoHostnameOrIp:function(a){if(a.indexOf(".")>=0)return!1;return a.indexOf("[")>=0&&a.indexOf("]")>=0&&a.indexOf(":")>=0?!1:!0}};e.exports=h}),null);
__d("ComposerConfirmationDialogEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ComposerConfirmationDialogEventLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ComposerConfirmationDialogEventLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ComposerConfirmationDialogEventLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCorrelationID=function(a){this.$1.correlation_id=a;return this};c.setEventLocation=function(a){this.$1.event_location=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWebURI=function(a){this.$1.web_uri=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={correlation_id:!0,event_location:!0,event_name:!0,time:!0,vc:!0,web_uri:!0,weight:!0};e.exports=a}),null);
__d("OldPrivacySelectorTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdamaRenderLocation=function(a){this.$1.adama_render_location=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFbid=function(a){this.$1.fbid=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={adama_render_location:!0,event:!0,fbid:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("AudienceSelectorTags",[],(function(a,b,c,d,e,f){var g={};a={hasTags:function(a){return Object.prototype.hasOwnProperty.call(g,a)},setHasTags:function(a){a&&(g[a]=!0)}};e.exports=a}),null);
__d("PrivacySelectorOption",["csx","fbt","Arbiter","AudienceSelectorTags","CSS","CurrentUser","DOM","DynamicIconSelector","Parent","PrivacyBaseFilterConst","PrivacyConst","SelectorDeprecated","intlList"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a,c){__p&&__p();if(!a)throw new Error("there's no DOM option. Config data: ",c);this._elem=a;this._selector=b("Parent").byClass(this._elem,"audienceSelector");if(!this._selector)return;this._priv_base_val=c.priv_base_val;this._audienceCount="";this._hasRestricted=c.has_restricted||!1;this._isCustom=c.is_custom||!1;this._includedAudience=c.included||"";this._excludedAudience=c.excluded||{};this._excludedTaggees={};this._tagExpansionBehavior=c.tag_expansion_behavior||b("PrivacyConst").TagExpansion.NONE;this._plusLabel=b("DOM").scry(a,".plusLabel")[0];this._audienceCountLabel=b("DOM").scry(a,".audienceCountLabel")[0];this._taggedIDs=[];this._tags=[];this._recalculateTooltipAndLabel();this._updateOptionCountLabel();this._updateSelector();b("Arbiter").subscribe("Composer/changedtags",function(a,c){__p&&__p();a=b("CSS").hasClass(this._selector,"composerAudienceSelector");if(!this._getChangedData()||!a)return;this._tags=[];this._taggedIDs=[];for(var a=0;a<c.withTags.length;a++){var d=c.withTags[a].info;d.uid!=b("CurrentUser").getID()&&(this._tags.push(d.text),this._taggedIDs.push(d.uid))}for(var e in c.mention)c.mention[e].type=="user"&&c.mention[e].uid!=b("CurrentUser").getID()&&(this._tags.push(c.mention[e].text),this._taggedIDs.push(c.mention[e].uid));d=b("DOM").scry(document.body,"._5l7q")[0];d&&!!this._taggedIDs.length&&b("CSS").hide(d);this._updateOptionCountLabel();a=this._recalculateTooltipAndLabel();a&&b("SelectorDeprecated").isOptionSelected(this._elem)&&(this._updateSelector(),b("Arbiter").inform("SelectedPrivacyOption/changed",this._getChangedData()))}.bind(this));b("SelectorDeprecated").listen(this._selector,"change",this._updateSelector.bind(this))}Object.assign(a.prototype,{updateOption:function(a,b,c,d,e){this._priv_base_val=a;this._includedAudience=b;this._excludedAudience=c;this._tagExpansionBehavior=d;this._audienceCount=e;this._recalculateTooltipAndLabel();this._updateOptionCountLabel();return{label:this._label,tooltip:this._tooltip}},_recalculateTooltipAndLabel:function(){var a=this._label;this._label=this._getNewSelectorLabel();var b=this._tooltip;this._tooltip=this._getNewTooltip();return b!=this._tooltip||a!=this._label},_getNewTooltip:function(){if(this._isCustom)return this._recalcCustomTooltip();switch(this._priv_base_val){case b("PrivacyBaseFilterConst").ALL_FRIENDS:return this._recalcFriendsTooltip();case b("PrivacyBaseFilterConst").FRIENDS_MINUS_ACQUAINTANCES:return this._recalcFriendsMinusTooltip();case b("PrivacyBaseFilterConst").SELF:var a=this._getTagExpansionText();return a?a:this._getIncludedAudience();default:return this._recalcCustomTooltip()}},_getNewSelectorLabel:function(){var a=this._elem.getAttribute("data-label").replace(/\(.*\)/,"");if(this._showAudienceCount()){var b=" ("+this._audienceCount+")";a+=b}this._isTagExpanded()&&(a+=" (+)");return a},_updateOptionCountLabel:function(){if(this._audienceCountLabel){if(this._showAudienceCount()){var a=" ("+this._audienceCount+")";b("DOM").setContent(this._audienceCountLabel,a)}b("CSS").conditionShow(this._audienceCountLabel,this._showAudienceCount())}this._plusLabel&&b("CSS").conditionShow(this._plusLabel,this._isTagExpanded())},_getChangedData:function(){return{tags:this._taggedIDs,privacy:this._priv_base_val}},_showAudienceCount:function(){return this._audienceCountLabel&&this._audienceCount&&this._audienceCount.length>0},_isTagExpanded:function(){var a=this._getTagExpansionBehavior(),c=!!this._taggedIDs.length||this._alreadyHasTags();return c&&a!=b("PrivacyConst").TagExpansion.NONE},_alreadyHasTags:function(){var a=b("DOM").scry(this._selector,"*[data-oid]")[0];a=a&&a.getAttribute("data-oid");return a&&b("AudienceSelectorTags").hasTags(a)},_updateSelector:function(){if(!this._isSharedAlbum()&&b("SelectorDeprecated").isOptionSelected(this._elem)){var a=b("CSS").hasClass(this._selector,"composerAudienceSelector");a&&b("SelectorDeprecated").setButtonLabel(this._selector,this._label);b("SelectorDeprecated").setButtonTooltip(this._selector,this._tooltip);b("DynamicIconSelector").swapIcon(this._selector);return!1}return!0},_isSharedAlbum:function(){var a=b("DOM").scry(this._selector,"*[data-shared-album]")[0];return a&&a.getAttribute("data-shared-album")},_getTagExpansionBehavior:function(){if(this._tagExpansionBehavior)return this._tagExpansionBehavior;var a=this._priv_base_val===b("PrivacyConst").FriendsValue.SELF,c=this._priv_base_val===b("PrivacyConst").FriendsValue.EVERYONE;if(a&&this._isSharedAlbum()||c)return b("PrivacyConst").TagExpansion.NONE;else if(this._priv_base_val<b("PrivacyConst").FriendsValue.ALL_FRIENDS)return b("PrivacyConst").TagExpansion.TAGGEES;return b("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES},_getTagExpansionText:function(){var a=this._getTagExpansionBehavior();if(!!this._taggedIDs.length||this._alreadyHasTags()){if(a==b("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES)return h._("friends of anyone tagged");else if(a==b("PrivacyConst").TagExpansion.TAGGEES)return h._("Anyone tagged");return""}return""},_getIncludedAudience:function(){if(this._includedAudience)return this._includedAudience;var a=this._priv_base_val===b("PrivacyConst").FriendsValue.SELF;return a&&!this._isSharedAlbum()?h._("Only Me"):this._elem.getAttribute("data-label")},_getCombinedSentence:function(a,b){return!b?a:h._("{list of people who can see this}; Except: {list of people who cannot see this}",[h._param("list of people who can see this",a),h._param("list of people who cannot see this",b)])},_recalcFriendsTooltip:function(){__p&&__p();var a=this._tags.length;if(a>2)return this._hasRestricted?h._("Your friends and friends of anyone tagged; Except: Restricted"):h._("Your friends and friends of anyone tagged");else if(a==2)if(this._hasRestricted)return h._("Your friends, {user}'s friends and {user2}'s friends. Except: Restricted",[h._param("user",this._tags[0]),h._param("user2",this._tags[1])]);else return h._("Your friends, {user}'s friends and {user2}'s friends",[h._param("user",this._tags[0]),h._param("user2",this._tags[1])]);else if(a==1)if(this._hasRestricted)return h._("Your friends and {user}'s friends; Except: Restricted",[h._param("user",this._tags[0])]);else return h._("Your friends and {user}'s friends",[h._param("user",this._tags[0])]);else return this._hasRestricted?h._("Your friends; Except: Restricted"):h._("Your friends")},_recalcFriendsMinusTooltip:function(){var a=this._tags.length;if(a>0||this._alreadyHasTags()){a=h._("friends of anyone tagged");a=h._("{people who can see this}, {list of more people who can see this}",[h._param("people who can see this",h._("Your friends")),h._param("list of more people who can see this",a)]);var b=h._("Acquaintances");this._hasRestricted&&(b=h._("{Name of Acquaintances friend list}, {restricted}",[h._param("Name of Acquaintances friend list",b),h._param("restricted",h._("Restricted"))]));return this._getCombinedSentence(a,b)}else return this._hasRestricted?h._("Friends; Except: Acquaintances, Restricted"):h._("Friends except Acquaintances")},_recalcCustomTooltip:function(){__p&&__p();var a=this._getIncludedAudience(),c=this._getTagExpansionText();c&&(a=h._("{list of people who can see this}, {list of additional people who can see this}",[h._param("list of people who can see this",a),h._param("list of additional people who can see this",c)]));for(var c=0;c<this._taggedIDs.length;c++){var d=this._taggedIDs[c];if(d in this._excludedAudience){delete this._excludedAudience[d];this._excludedTaggees[d]=this._tags[c];break}}for(var e in this._excludedTaggees)if(Object.prototype.hasOwnProperty.call(this._excludedTaggees,e)&&this._taggedIDs.indexOf(e)===-1){this._excludedAudience[e]=this._excludedTaggees[e];delete this._excludedTaggees[e];break}d=[];for(var f in this._excludedAudience)Object.prototype.hasOwnProperty.call(this._excludedAudience,f)&&d.push(this._excludedAudience[f]);return this._getCombinedSentence(a,b("intlList")(d))}});e.exports=a}),null);
__d("CustomPrivacyOptionController",["Arbiter","AsyncDialog","AsyncRequest","DOM","Event","Form","Parent","PrivacyConst","PrivacySelectorOption","SelectorDeprecated","XPrivacyCustomDialogController"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c){__p&&__p();if(!a)return;setTimeout(function(){__p&&__p();this._selector=b("Parent").byClass(a,"audienceSelector");if(!this._selector)return;this.initCustomState(a,c.option_id,c.id);var d={priv_base_val:c.base_audience_value,audience_count:c.audience_count,is_custom:!0,included:c.included_audience,excluded:c.excluded_audience,tag_expansion_behavior:c.tag_expansion_behavior};this._optionJSInstance=new(b("PrivacySelectorOption"))(a,d);b("Event").listen(a,"click",function(a){this.openCustomDialog(a,c.option_id,c.explain_tags,c.autosave,c.limit_community,c.limit_facebook,c.limit_fof,c.limit_tagexpand,c.source)}.bind(this));b("SelectorDeprecated").listen(this._selector,"select",function(a){a.option._id!=this._id&&this.clearCustomState()}.bind(this))}.bind(this),0)}Object.assign(g,{_instances:{},update:function(a,c,d,e,f,h,i,j,k){e=g._instances[a];e._update(c,d)._updateOption(d,f,h,i,j,k);b("Arbiter").inform("Form/change",{node:e._container})},getData:function(a){a=g._instances[a];return a&&a._privacyData},setPrivacyData:function(a,b,c){g._instances[a]._update(b,c)}});Object.assign(g.prototype,{_updateOption:function(a,c,d,e,f,g){a=b("SelectorDeprecated").getOption(this._selector,a)||b("SelectorDeprecated").getOption(this._selector,b("PrivacyConst").BaseValue.CUSTOM+"");c=this._optionJSInstance.updateOption(c,d,e,f,g);b("Arbiter").inform("CustomPrivacyOptionController/update",{selector:this._selector,option:a,tooltip:c.tooltip,label:c.label});return this},_update:function(a,c){c=c==b("PrivacyConst").BaseValue.CUSTOM||!b("SelectorDeprecated").getOption(this._selector,c);var d=this._selector.getAttribute("data-name");this.updateCustomState(a,c,d);return this},initCustomState:function(a,c,d){g._instances[c]=this;this._container=b("DOM").find(a,".customPrivacyInputs");this._id=d;this._privacyData={};c=b("Form").serialize(this._container);c.audience&&(this._privacyData=c.audience[d]);return a},openCustomDialog:function(a,c,d,e,f,g,h,i,j){c=b("XPrivacyCustomDialogController").getURIBuilder().setString("option_id",c).setString("id",this._id).setString("privacy_data",JSON.stringify(this._privacyData)).setBool("explain_tags",d).setBool("autosave",e).setBool("limit_community",f).setBool("limit_facebook",g).setBool("limit_fof",h).setBool("limit_tagexpand",i).setBool("is_new_privacy_selector",!1).setString("source",j).getURI();d=new(b("AsyncRequest"))(c);d.setRelativeTo(a.getTarget());b("AsyncDialog").send(d,function(a){a.subscribe("cancel",function(){b("Arbiter").inform("CustomPrivacyOptionController/cancel",{selector:this._selector})}.bind(this))}.bind(this))},updateCustomState:function(a,c,d){this.clearCustomState();this._privacyData=babelHelpers["extends"]({},a);if(c&&d){d=d.slice(0,-"[value]".length);c={};c[d]=a;b("Form").createHiddenInputs(c,this._container,{},!0)}},clearCustomState:function(){this._privacyData={},b("DOM").empty(this._container)}});e.exports=g}),null);
__d("OldPrivacySelectorEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RENDER_SELECTOR:"render_selector",OPEN_MENU:"open_menu",CLOSE_MENU:"close_menu",SELECT_EVERYONE:"select_everyone",SELECT_FRIENDS_OF_FRIENDS:"select_friends_of_friends",SELECT_FRIENDS:"select_friends",SELECT_FRIENDS_EXCEPT_ACQUIANTANCES:"select_friends_except_acquaintances",SELECT_ONLY_ME:"select_only_me",SELECT_CUSTOM:"select_custom",CUSTOM_SAVE:"custom_save",CUSTOM_CANCEL:"custom_cancel",SELECT_FB_ONLY:"select_fb_only",SELECT_FRIENDLIST:"select_friendlist",SELECT_OTHER:"select_other",SELECT_SEE_ALL_LISTS:"select_see_all_lists",SELECT_RETURN:"select_return"})}),null);
__d("AudienceSelector",["Arbiter","AsyncRequest","AudienceSelectorTags","CSS","CustomPrivacyOptionController","DOM","DOMQuery","DynamicIconSelector","OldPrivacySelectorEvent","OldPrivacySelectorTypedLogger","PrivacyConst","SelectorDeprecated"],(function(a,b,c,d,e,f){__p&&__p();var g={};b("SelectorDeprecated").subscribe("select",function(a,c){__p&&__p();if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;a=b("SelectorDeprecated").getOptionValue(c.option);c.value=a;b("Arbiter").inform("AudienceSelector/changed",c);if(a==b("PrivacyConst").BaseValue.CUSTOM&&!b("CSS").hasClass(c.option,"noDialog")){b("SelectorDeprecated").toggle(c.selector);return!1}b("Arbiter").inform("AudienceSelector/changedNonCustomDialogButton",c);if(b("CSS").hasClass(c.selector,"dataTooltip")){a=b("DOM").find(c.option,".itemAnchor").getAttribute("data-tooltip");b("SelectorDeprecated").setButtonTooltip(c.selector,a||null)}if(!b("CSS").hasClass(c.option,"specialOption"))return;a=b("DOM").find(c.option,"a").getAttribute("data-type");if(b("CSS").hasClass(c.option,"moreOption")){b("CSS").addClass(c.selector,a);b("CSS").addClass(c.selector,"showSecondaryOptions");return!1}else if(b("CSS").hasClass(c.option,"returnOption")){b("CSS").removeClass(c.selector,"showSecondaryOptions");b("CSS").removeClass(c.selector,"friendList");return!1}});var h=function(a,c){var d=i(a,"data-fbid-for-logging");a=i(a,"data-adama-render-location");new(b("OldPrivacySelectorTypedLogger"))().setEvent(c).setFbid(d).setAdamaRenderLocation(a).log()},i=function(a,c){var d=a.getAttribute(c);if(d)return d;d=b("DOMQuery").scry(a,".uiSelectorButton")[0];return d?d.getAttribute(c):null};function j(a){var b=document.documentElement;a=a.getBoundingClientRect();return a.top>=0&&a.bottom<=(window.innerHeight||b.clientHeight)&&a.left>=0&&a.right<=(window.innerWidth||b.clientWidth)}b("SelectorDeprecated").subscribe(["open","close"],function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;var d=b("DOMQuery").scry(c.selector,".uiSelectorMenuWrapper");if(d.length>0){d=d[0];b("CSS").conditionClass(d,"audienceSelectorUpwards",!j(d))}d=a==="open"?b("OldPrivacySelectorEvent").OPEN_MENU:b("OldPrivacySelectorEvent").CLOSE_MENU;h(c.selector,d)});var k={keepSynchronized:function(a,b){g[a]||(g[a]={}),g[a][b.id]=b},setHasTags:function(a){b("AudienceSelectorTags").setHasTags(a)},getComposerInstance:function(){var a=g["PrivacyLiteNav/audience"];if(a){var b;for(var c in a){b=a[c];return b}}return null},forceAndKeepSynchronized:function(a,c){k.keepSynchronized(a,c),b("Arbiter").inform("AudienceSelector/update",{option:b("SelectorDeprecated").getSelectedOptions(c)[0],selector:c})},get:function(a){if(b("CSS").hasClass(a,"audienceSelector"))return a;a=b("DOM").scry(a,"div.audienceSelector");if(a.length!=1)return;return a[0]},setAudience:function(a,c){var d=k.get(a);b("SelectorDeprecated").loadMenu(d,function(a){b("SelectorDeprecated").setSelected(d,c.toString());b("DynamicIconSelector").swapIcon(d);a=b("SelectorDeprecated").getSelectedOptions(d);var e=a[0]&&b("DOM").find(a[0],"a");e&&e.getAttribute("ajaxify")&&b("AsyncRequest").bootstrap(e.getAttribute("ajaxify"),e,!0);b("Arbiter").inform("AudienceSelector/changed",{option:a[0],selector:d})})}};b("Arbiter").subscribe("CustomPrivacyOptionController/update",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;b("SelectorDeprecated").setSelected(c.selector,b("SelectorDeprecated").getOptionValue(c.option));b("DynamicIconSelector").swapIcon(c.selector);a=b("CSS").hasClass(c.selector,"composerAudienceSelector");a&&b("SelectorDeprecated").setButtonLabel(c.selector,c.label);b("SelectorDeprecated").setButtonTooltip(c.selector,c.tooltip);h(c.selector,b("OldPrivacySelectorEvent").CUSTOM_SAVE);b("Arbiter").inform("AudienceSelector/update",c)});b("Arbiter").subscribe("CustomPrivacyOptionController/cancel",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;h(c.selector,b("OldPrivacySelectorEvent").CUSTOM_CANCEL)});b("Arbiter").subscribe(["AudienceSelector/changed","AudienceSelector/update"],function(a,c){__p&&__p();var d=b("SelectorDeprecated").getOptionValue(c.option),e=null;d==b("PrivacyConst").BaseValue.EVERYONE?e=b("OldPrivacySelectorEvent").SELECT_EVERYONE:d==b("PrivacyConst").BaseValue.FRIENDS_OF_FRIENDS?e=b("OldPrivacySelectorEvent").SELECT_FRIENDS_OF_FRIENDS:d==b("PrivacyConst").BaseValue.ALL_FRIENDS?e=b("OldPrivacySelectorEvent").SELECT_FRIENDS:d==b("PrivacyConst").BaseValue.FRIENDS_MINUS_ACQUAINTANCES?e=b("OldPrivacySelectorEvent").SELECT_FRIENDS_EXCEPT_ACQUIANTANCES:d==b("PrivacyConst").BaseValue.SELF?e=b("OldPrivacySelectorEvent").SELECT_ONLY_ME:d==b("PrivacyConst").BaseValue.CUSTOM?a==="AudienceSelector/changed"&&(e=b("OldPrivacySelectorEvent").SELECT_CUSTOM):d==b("PrivacyConst").BaseValue.FACEBOOK_EMPLOYEES?e=b("OldPrivacySelectorEvent").SELECT_FB_ONLY:b("CSS").hasClass(c.option,"friendListOption")?e=b("OldPrivacySelectorEvent").SELECT_FRIENDLIST:b("CSS").hasClass(c.option,"moreOption")?e=b("OldPrivacySelectorEvent").SELECT_SEE_ALL_LISTS:b("CSS").hasClass(c.option,"returnOption")?e=b("OldPrivacySelectorEvent").SELECT_RETURN:e=b("OldPrivacySelectorEvent").SELECT_OTHER;e!=null&&h(c.selector,e);e={};if(d==b("PrivacyConst").BaseValue.CUSTOM){if(a=="AudienceSelector/changed")return;e=b("CustomPrivacyOptionController").getData(c.option.id);if(!e)return}for(var f in g){a=g[f];if(a[c.selector.id]){b("Arbiter").inform("AudienceSelector/syncNonSelectorIcon",{category:f});for(var i in a){var j=a[i];if(!j||c.selector===j)continue;b("SelectorDeprecated").getValue(j)!==d&&(b("SelectorDeprecated").setSelected(j,d),b("DynamicIconSelector").swapIcon(j));if(d==b("PrivacyConst").BaseValue.CUSTOM){var k=b("SelectorDeprecated").getOption(j,b("PrivacyConst").BaseValue.CUSTOM+"");k&&(b("CustomPrivacyOptionController").setPrivacyData(k.id,e,d),b("SelectorDeprecated").setButtonTooltip(j,c.tooltip))}}}}});e.exports=k}),null);
__d("XPagesPostPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/previews/",{location:{type:"Enum",enumType:0},post_id:{type:"Int",required:!0},preview_container_dom_id:{type:"String",required:!0},site:{type:"String",required:!0},use_permalink_story_location:{type:"Bool",defaultValue:!1}})}),null);
__d("PageContentTabPreviews.react",["cx","fbt","Arbiter","AsyncRequest","BusinessURI.brands","FBFeedLocations","PageContentTabConstants","React","ShimButton.react","XPagesPostPreviewController","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;var i=b("PageContentTabConstants").PREVIEW_TABS,j="ready",k="loading",l="failed";c=b("React").createClass({displayName:"PageContentTabPreviews",propTypes:{permalinkURL:a.string,postID:a.string.isRequired,selectedTab:a.oneOf(Object.keys(i)).isRequired,showClickMask:a.bool,showCloserSecondPreview:a.bool,renderID:a.string.isRequired},getInitialState:function(){return{desktopPreviewState:k,mobilePreviewState:k}},UNSAFE_componentWillReceiveProps:function(a){var b=this;a.renderID!==this.props.renderID&&this.setState(this.getInitialState(),function(){return b._fetchPreviews(a.postID)})},componentDidMount:function(){var a=this;this._previewResizeListener=b("Arbiter").subscribe("page_post_previews_iframe_resize",function(b,c){a.state.mobilePreviewContainerHeight!==c&&a.setState({mobilePreviewContainerHeight:c})});this._fetchPreviews(this.props.postID)},componentWillUnmount:function(){b("Arbiter").unsubscribe(this._previewResizeListener)},_constructDesktopContainerID:function(a){return"DESKTOP_PREVIEW_"+this.props.renderID+"_"+a},_constructMobileContainerID:function(a){return"MOBILE_PREVIEW_"+this.props.renderID+"_"+a},_fetchPreviews:function(a){var c=this,d=b("XPagesPostPreviewController").getURIBuilder().setInt("post_id",a).setString("site","desktop").setString("preview_container_dom_id",this._constructDesktopContainerID(a)).setEnum("location",b("FBFeedLocations").PAGES_CONTENT_TAB_PREVIEW).getURI();new(b("AsyncRequest"))().setURI(d).setHandler(function(a){a.error||c.setState({desktopPreviewState:j})}).setErrorHandler(function(a){c.setState({desktopPreviewState:l})}).send();d=b("XPagesPostPreviewController").getURIBuilder().setInt("post_id",a).setString("site","mobile").setString("preview_container_dom_id",this._constructMobileContainerID(a)).setEnum("location",b("FBFeedLocations").PAGES_CONTENT_TAB_PREVIEW).getURI();new(b("AsyncRequest"))().setURI(d).setHandler(function(a){a.error||c.setState({mobilePreviewState:j})}).setErrorHandler(function(a){c.setState({mobilePreviewState:l})}).send()},render:function(){return b("React").createElement("div",{className:"_4gd5"+(this.props.selectedTab===i.DESKTOP?" _4gd6":"")+(this.props.selectedTab===i.MOBILE?" _4gd7":"")+(this.props.showCloserSecondPreview===!0?" more-left":"")},this._renderDesktopPreview(),this._renderMobilePreview())},_renderDesktopPreview:function(){return b("React").createElement("div",{className:"_4gd8"},b("React").createElement(b("XUISpinner.react"),{className:(this.state.desktopPreviewState!==k?"hidden_elem":"")+" _3dcc",size:"large",background:"light"}),b("React").createElement("div",{className:(this.state.desktopPreviewState!==l?"hidden_elem":"")+" _50p-"},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold",display:"block"},h._("Error")),b("React").createElement(b("XUIText.react"),{size:"meta1",display:"block"},h._("Desktop preview not available"))),b("React").createElement("div",{className:this.props.permalinkURL?"_2h5v":""},b("React").createElement("div",{className:this.state.desktopPreviewState!==j?"hidden_elem":"",id:this._constructDesktopContainerID(this.props.postID)}),this.props.showClickMask!==!1&&b("React").createElement(b("ShimButton.react"),{className:"_5e69",onClick:this._openPermalink})))},_renderMobilePreview:function(){return b("React").createElement("div",{className:"_4gd8"},b("React").createElement(b("XUISpinner.react"),{className:(this.state.mobilePreviewState!==k?"hidden_elem":"")+" _3dcc",size:"large",background:"light"}),b("React").createElement("div",{className:(this.state.mobilePreviewState!==l?"hidden_elem":"")+" _50p-"},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold",display:"block"},h._("Error")),b("React").createElement(b("XUIText.react"),{size:"meta1",display:"block"},h._("Mobile preview not available"))),b("React").createElement("div",{className:(this.state.mobilePreviewState!==j?"hidden_elem":"")+(this.props.permalinkURL?" _5e6a":""),height:this.state.mobilePreviewContainerHeight,id:this._constructMobileContainerID(this.props.postID),onClick:this._openPermalink,ref:"mobilePreviewContainer",role:"button",tabIndex:"0"}))},_openPermalink:function(){this.props.permalinkURL&&window.open(b("BusinessURI.brands")(this.props.permalinkURL),"_blank")}});e.exports=c}),null);
__d("PagesComposerPostPreviewDialog.react",["cx","fbt","FDSModal.react","FDSSection.react","FDSSpinner.react","FDSTabHeader.react","PageContentTabConstants","PageContentTabPreviews.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=532;c=b("PageContentTabConstants").PREVIEW_TABS;var j=h._("Preview");d=h._("Desktop Preview");f=h._("Mobile Preview");var k=h._("Loading preview..."),l=[{label:d,value:c.DESKTOP},{label:f,value:c.MOBILE}];function a(a){var c=a.isLoadingPreview,d=a.isShown,e=a.onClose,f=a.onDialogTabChange,g=a.previewPostID,h=a.renderID;a=a.selectedPreviewTab;f=b("React").createElement(b("FDSTabHeader.react"),{onChange:f,tabs:l,value:a});return b("React").createElement(b("FDSModal.react"),{footer:null,header:f,isShown:d,label:j,onHide:e,width:i},b("React").createElement(b("FDSSection.react"),null,b("React").createElement("div",{className:"_80ga"},c&&b("React").createElement("div",{className:"_809c"},b("React").createElement(b("FDSSpinner.react"),{center:!0,title:k})),g!==null&&g!==void 0&&b("React").createElement(b("React").Fragment,null,b("React").createElement(b("PageContentTabPreviews.react"),{postID:g.toString(),renderID:h,selectedTab:a,showClickMask:!1,showCloserSecondPreview:!0}),b("React").createElement("div",{className:"_80gb"})))))}e.exports=a}),null);
__d("PagesComposerPostPreviewDialogContainer.react",["AdsFluxContainer","ClientIDs","PageContentTabConstants","PagesComposerActions","PagesComposerPostPreviewDialog.react","PagesComposerUnpublishedPostsStore","React","ReactComposerContextTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesComposerActions").setPreview,h=b("PagesComposerActions").updatePreviewConfig,i=b("PageContentTabConstants").PREVIEW_TABS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){h(c.context.composerID,null,null,null,!1),g(c.context.composerID,!0)},c.$2=function(a){h(c.context.composerID,null,null,a,null)},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("PagesComposerUnpublishedPostsStore")]};c.calculateState=function(a,c,d){a=b("PagesComposerUnpublishedPostsStore").getPreviewConfig(d.composerID);c=!!a&&!!a.selectedPreviewTab?a.selectedPreviewTab:i.DESKTOP;d=!!a&&!!a.renderID?a.renderID:b("ClientIDs").getNewClientID();return{isLoadingPreview:!!a&&!!a.isLoadingPreview,previewPostID:a?a.previewPostID:null,renderID:d,selectedPreviewTab:c,showPreviewDialog:!!a&&!!a.showPreviewDialog}};var d=c.prototype;d.render=function(){var a=this.state,c=a.isLoadingPreview,d=a.previewPostID,e=a.renderID,f=a.selectedPreviewTab;a=a.showPreviewDialog;return b("React").createElement(b("PagesComposerPostPreviewDialog.react"),{isLoadingPreview:c,isShown:a,onClose:this.$1,onDialogTabChange:this.$2,previewPostID:d,renderID:e,selectedPreviewTab:f})};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id})}),null);
__d("PagesComposerPostPreviewButton.react",["cx","fbt","FDSButton.react","PagesComposerActions","PagesComposerLoggingUtils","PagesComposerPostPreviewDialogContainer.react","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerMediaUploadStore","ReactComposerSlideshowStore"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesComposerActions").setPreview,j=b("PagesComposerLoggingUtils").logPreviewButtonClick,k=h._("Preview");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a;i(d.context.composerID);j(d.context.actorID,d.context.composerID,d.props.config.loggingConfig.ref);b("ReactComposerActions").postStarted(d.context.composerID,{actorID:d.context.actorID,config:d.props.config,targetID:d.context.targetID,onPostSuccess:(a=d.props.config.postButtonConfig)==null?void 0:a.onPostSuccess})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=!this.props.isTimelineSelected||b("ReactComposerSlideshowStore").isSlideshowSelected(this.context.composerID)||b("ReactComposerMediaUploadStore").getVideos(this.context.composerID).size>0||this.props.isPostButtonDisabled;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_7zyl"},b("React").createElement(b("FDSButton.react"),{isDisabled:a,label:k,onClick:this.$1,size:"small",width:72})),b("React").createElement(b("PagesComposerPostPreviewDialogContainer.react"),null))};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("PagesComposerNuxActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({INITIALIZE_NUX_CONFIG:null,SET_SHOW_NUX_IN_CURRENT_SESSION:null,SET_DISMISS_NUX_IN_CURRENT_SESSION:null,IS_CONTEXTUAL_DIALOG_MOUNTED:null},"PagesComposerNuxActionTypes")}),null);
__d("XPagesComposerNuxImpressionCounterUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages_composer/nux_impression_counter_update/",{nux_product_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("PagesComposerNuxStore",["ActorURI","AsyncRequest","PagesComposerNuxActionTypes","ReactComposerActionStore","XPagesComposerNuxImpressionCounterUpdateController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;return c=a.call(this,function(){return Object.assign({},{nuxConfig:null})},function(a){__p&&__p();switch(a.type){case b("PagesComposerNuxActionTypes").INITIALIZE_NUX_CONFIG:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore1(a);break;case b("PagesComposerNuxActionTypes").SET_SHOW_NUX_IN_CURRENT_SESSION:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore2(a);break;case b("PagesComposerNuxActionTypes").SET_DISMISS_NUX_IN_CURRENT_SESSION:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore3(a);break;case b("PagesComposerNuxActionTypes").IS_CONTEXTUAL_DIALOG_MOUNTED:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore4(a);break;default:return}})||this}var d=c.prototype;d.$PagesComposerNuxStore4=function(a){a=this.validateAction(a,["composerID","isContextualDialogMounted"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isContextualDialogMounted=a;this.emitChange(b)};d.$PagesComposerNuxStore3=function(a){__p&&__p();a=this.validateAction(a,["composerID","productID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c=c.nuxConfig;if(!c)return;c=this.getNuxProductTypeConfig(b,a);if(!c)return;c.dismissed_in_session=!0;this.setNuxProductTypeConfig(b,a,c)};d.$PagesComposerNuxStore2=function(a){__p&&__p();a=this.validateAction(a,["composerID","productID","pageID"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d=d.nuxConfig;if(!d)return;d=this.getNuxProductTypeConfig(b,c);if(!d)return;d.shown_in_session=!0;this.setNuxProductTypeConfig(b,c,d);this.updateNuxImpressionCounter(b,c,a,d)};d.updateNuxImpressionCounter=function(a,c,d,e){var f=this,g=e.impression_days,h=e.nux_variant,i=e.current_impression_counter;if(!Number.isInteger(i)||!Number.isInteger(g)||Boolean(h)===!1)return;g=b("ActorURI").create(b("XPagesComposerNuxImpressionCounterUpdateController").getURIBuilder().setEnum("nux_product_type",c).getURI(),d);new(b("AsyncRequest"))().setURI(g).setHandler(function(){e.current_impression_counter=i+1,f.setNuxProductTypeConfig(a,c,e)}).send()};d.$PagesComposerNuxStore1=function(a){a=this.validateAction(a,["composerID","nuxConfig"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.nuxConfig=b("immutable").fromJS(a);this.emitChange(c)};d.setNuxProductTypeConfig=function(a,c,d){var e=this.getComposerData(a),f=e.nuxConfig;if(!f)return;e.nuxConfig=f.set(c,b("immutable").fromJS(d));this.emitChange(a)};d.getIsContextualDialogMounted=function(a){a=this.getComposerData(a);return!!a.isContextualDialogMounted};d.getNuxConfig=function(a){a=this.getComposerData(a);a=a.nuxConfig;return!a?null:a.toJS()};d.getNuxProductTypeConfig=function(a,b){a=this.getComposerData(a);a=a.nuxConfig;return!a?null:a.get(b)?a.get(b).toJS():null};return c}(b("ReactComposerActionStore"));e.exports=new a()}),null);
__d("PrivacyFieldFBID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,NAME_DAY:8787810733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,SKILLS:8787780733,CUSTOM_GENDERS:237760973066217,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:183468681673909,ACTIVITIES:144331422306930,INTERESTS:113693108715766,MUSIC:172372399483077,BOOKS:100725463352700,GAMES:199298603444535,MOVIES:201146206594049,TV_SHOWS:129665560441221,SPORTS_PLAYED:129991670408857,FAVORITE_TEAMS:225288534151802,FAVORITE_ATHLETES:203380763033334,PEOPLE_I_ADMIRE:210380795648667,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:172588449584647,FAVORITE_WEBSITES:180412195459106,CLOTHING_BRANDS:397391233714082,DEPRECATED_SEARCH:8787330733,DEPRECATED_PAGE_PUBLISHER:8787500733,DEPRECATED_PROFILE:8787325733,DEPRECATED_NOTES:8787380733,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,COMPOSER_CUSTOM_INCLUSION:1067668039947624,COMPOSER_CUSTOM_EXCLUSION:1082068668536535,CAN_LIKE_AND_COMMENT_PUBLIC_PROFILE_MEDIA:1269423589794183,CAN_TAG_PUBLIC_PROFILE_MEDIA:260920744319731,CAN_DOWNLOAD_PUBLIC_PROFILE_MEDIA:410249702663051,CAN_SHARE_PUBLIC_PROFILE_MEDIA:1648969422065270,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171,FACEREC_ENROLLMENT:1709697052669794,DEVICE_PHOTO_PROCESSING:1798505450455620,SPACES_VR_OFFLINE_VISIT_PRIVACY:351913698615451,RESHARES_ON_TIMELINE_VISIBILITY:230094651068076,CAN_POST_TRIBUTES:298481070877996,CAN_SEE_TRIBUTE_POSTS:1909416226028186,TRIBUTES_TAGGED_CONTENT_VISIBILITY:322268258473567,RESHARE_TO_STORIES:282421212606762,RESHARE_STORY_TO_STORIES:855792411486922,EVENT_RESPONSE:316303542562773})}),null);
__d("XStickyComposerChangeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/sticky_composer/change/",{privacyx:{type:"String"},logging_source:{type:"String"}})}),null);
__d("PrivacySelector",["csx","Promise","regeneratorRuntime","Arbiter","ArbiterMixin","AsyncRequest","AudienceSelector","CSS","DataStore","DOM","PrivacyConst","PrivacyFieldFBID","PrivacySelectorNewDispatcher","Run","SelectorDeprecated","SubscriptionsHandler","XStickyComposerChangeController","mixin","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;c instanceof HTMLElement?d.$PrivacySelector3=c:d.$PrivacySelector1=c;d.$PrivacySelector7=null;d.$PrivacySelector6=new(b("SubscriptionsHandler"))();d.$PrivacySelector5=new(b("SubscriptionsHandler"))();d.$PrivacySelector1!=null?d.$PrivacySelector8():d.$PrivacySelector9();b("Run").onLeave(d.cleanup.bind(babelHelpers.assertThisInitialized(d)));return d}var d=c.prototype;d.select=function(a,c,d){__p&&__p();var e=this;if(a==null||c==null)throw new Error("PrivacySelector.select: you must pass in privacyParam and privacyBase");if(this.$PrivacySelector1!=null){var f=this.$PrivacySelector1;d&&this.$PrivacySelector6.addSubscriptions(f.subscribeOnce("changed",function(a,b){d&&d("changed",{post_param:b.post_param})}));f.selectOption(a)}else d&&this.$PrivacySelector5.addSubscriptions(b("Arbiter").subscribe("AudienceSelector/changed",function(a,c){if(e.$PrivacySelector10(c.selector)){a=b("SelectorDeprecated").getOptionValue(c.option);d&&d("changed",{privacy_base:a})}})),b("AudienceSelector").setAudience(this.$PrivacySelector3,c)};d.expandFull=function(a){this.$PrivacySelector1!=null?this.$PrivacySelector1.openSelectorExpanded(a):this.expand(a)};d.expandFullAndShowFlyout=function(a){this.expandFull(this.showFlyoutOnMenu.bind(this,a))};d.expand=function(a){var c=this;if(this.$PrivacySelector1!=null)this.$PrivacySelector1.openSelector(a);else{var d=b("SelectorDeprecated").getSelectorMenu(this.$PrivacySelector3);!d?b("SelectorDeprecated").loadMenu(this.$PrivacySelector3,function(){a&&a()}):this.$PrivacySelector5.addSubscriptions(b("SelectorDeprecated").listen(this.$PrivacySelector3,"open",function(){a&&a(),c.$PrivacySelector10(c.$PrivacySelector3)}));b("SelectorDeprecated").toggle(this.$PrivacySelector3,a)}};d.showFlyoutOnMenu=function(a){this.$PrivacySelector2&&this.$PrivacySelector2.hide();this.$PrivacySelector2=a;var c;this.$PrivacySelector1!=null?(c=this.$PrivacySelector1.getMenuElement(),a.setOffsetY(85)):(c=b("DOM").scry(this.$PrivacySelector3,"div.uiSelectorMenuWrapper")[0],a.setOffsetY(13));a.setContext(c);a.show()};d.setOnClose=function(a){this.$PrivacySelector7=a};d.cleanup=function(){this.$PrivacySelector6.release(),this.$PrivacySelector6=new(b("SubscriptionsHandler"))(),this.$PrivacySelector5.release(),this.$PrivacySelector5=new(b("SubscriptionsHandler"))(),this.$PrivacySelector2&&this.$PrivacySelector2.hide(),this.$PrivacySelector2=null,this.$PrivacySelector7=null};d.disable=function(){this.$PrivacySelector1!=null?this.$PrivacySelector1.disable():b("SelectorDeprecated").setEnabled(this.$PrivacySelector3,!1)};d.enable=function(){this.$PrivacySelector1!=null?this.$PrivacySelector1.enable():b("SelectorDeprecated").setEnabled(this.$PrivacySelector3,!0)};c.get=function(a){if(!a)return null;var b=c.getAdamaSelectorInstance(a);return b?new c(b):new c(a)};c.genAndThen=function(a,d){__p&&__p();a=c.getViableIDsForSelectorFetch(a);if(!a.length)return;a=c.$PrivacySelector12(a);var e=a.then(function(a){var b=a[0];a=a[1];d(b);return[b,a]});b("promiseDone")(e,function(a){a[0];a=a[1];c.$PrivacySelector11[a]=e})};c.getViableIDsForSelectorFetch=function(a){var b=[];a.id&&b.push(a.id);a=c.getDOMFromStory(a);a&&a.id&&b.push(a.id);return b};c.$PrivacySelector12=function(a){__p&&__p();for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=c.$PrivacySelector11[g];if(g!=null)return g}return new(b("Promise"))(function(d){__p&&__p();var e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:e=null;case 1:if(e=c.$PrivacySelector13(a)){f.next=6;break}f.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return setTimeout(a,500)}));case 4:f.next=1;break;case 6:d(e);case 7:case"end":return f.stop()}},null,this)})};c.$PrivacySelector13=function(a){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=b("DataStore").get(e,"selector");if(f)return[f,e]}return null};c.getAdamaSelectorInstance=function(a){return c.$PrivacySelector14(a)||c.$PrivacySelector14(c.getDOMFromStory(a))};c.$PrivacySelector14=function(a){a=a&&a.id;return!a?null:b("DataStore").get(a,"selector")};c.getDOMFromStory=function(a){if(!a)return null;var c=b("DOM").scry(a,"._43_1")[0];return c?c:b("AudienceSelector").get(a)};c.getIconFromSelectorDOM=function(a){return b("DOM").scry(a,"i.img")[0]};c.setComposerPrivacy=function(a,c,d){d=b("XStickyComposerChangeController").getURIBuilder().setString("privacyx",a).setString("logging_source",d);new(b("AsyncRequest"))(d.getURI()).send();b("PrivacySelectorNewDispatcher").handleUpdateFromSelector({selector_type:b("PrivacyFieldFBID").CURRENT_COMPOSER.toString(),post_param:a,unique_value:"_updateStickyComposerPrivacy"});d=b("AudienceSelector").getComposerInstance(c);d&&b("AudienceSelector").setAudience(d,c)};c.isFakeOrUneditableSelector=function(a){return b("CSS").matchesSelector(a,"._2qwi")||b("CSS").matchesSelector(a,"._29ee")||b("CSS").matchesSelector(a,"._jl")||b("DOM").scry(a,"._2qwi")[0]||b("DOM").scry(a,"._29ee")[0]||b("DOM").scry(a,"._jl")[0]};d.$PrivacySelector8=function(){var a=this,b=this.$PrivacySelector1;if(!b)return;this.$PrivacySelector6.addSubscriptions(b.subscribe("changed",function(b,c){return a.inform("changed",{post_param:c.post_param})}),b.subscribe("selectorFinished",function(){return a.$PrivacySelector7&&a.$PrivacySelector7()}))};d.$PrivacySelector9=function(){__p&&__p();var a=this;this.$PrivacySelector6.addSubscriptions(b("Arbiter").subscribe("AudienceSelector/update",function(c,d){if(a.$PrivacySelector3!==d.selector)return;c=b("SelectorDeprecated").getOptionValue(d.option);a.inform("changed",{privacy_base:c})}),b("Arbiter").subscribe("AudienceSelector/changed",function(c,d){if(a.$PrivacySelector3!==d.selector)return;if(b("CSS").hasClass(d.option,"moreOption")||b("CSS").hasClass(d.option,"returnOption"))return;d.value!=b("PrivacyConst").BaseValue.CUSTOM?a.inform("changed",{privacy_base:d.value}):d.value==b("PrivacyConst").BaseValue.CUSTOM&&(a.$PrivacySelector4=!0)}),b("SelectorDeprecated").listen(this.$PrivacySelector3,"close",function(){if(a.$PrivacySelector4){a.$PrivacySelector4=!1;return}a.$PrivacySelector7&&a.$PrivacySelector7()}),b("Arbiter").subscribe("CustomPrivacyOptionController/cancel",function(b,c){if(a.$PrivacySelector3!==c.selector)return;a.$PrivacySelector7&&a.$PrivacySelector7()}))};d.$PrivacySelector10=function(a){if(a!=this.$PrivacySelector3)return!1;this.$PrivacySelector5.release();this.$PrivacySelector5=new(b("SubscriptionsHandler"))();return!0};return c}(b("mixin")(b("ArbiterMixin")));a.$PrivacySelector11={};e.exports=a}),null);
__d("XReactComposerLoggingODSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/logging/ods/",{attachment_type:{type:"String"},composer_type:{type:"Enum",required:!0,enumType:1},event:{type:"String",required:!0}})}),null);
__d("ReactComposerAttachmentLoader",["AsyncRequest","ReactComposerAttachmentActions","ReactComposerAttachmentInitState","ReactComposerAttachmentStore","ReactComposerStore","XReactComposerLoggingODSController"],(function(a,b,c,d,e,f){__p&&__p();a={load:function(a,c,d,e){__p&&__p();var f=this,g=b("ReactComposerAttachmentStore").getAttachment(a,c);if(!g||g.initState===b("ReactComposerAttachmentInitState").INITIALIZED)return;b("ReactComposerAttachmentActions").setInitialized(a,c);this._logToODS(a,"bootload_start",c);d(function(d,e){f._logToODS(a,"bootload_done",c),b("ReactComposerAttachmentActions").setBootloaded(a,c,d,e)});this._logToODS(a,"bootstrap_start",c);new(b("AsyncRequest"))(e).setHandler(function(){f._logToODS(a,"bootstrap_done",c),setTimeout(function(){return b("ReactComposerAttachmentActions").setBootstrapped(a,c)},0)}).send()},_logToODS:function(a,c,d){c=b("XReactComposerLoggingODSController").getURIBuilder().setString("event",c).setString("attachment_type",d).setEnum("composer_type",b("ReactComposerStore").getRef(a)).getURI();new(b("AsyncRequest"))(c).send()}};e.exports=a}),null);
__d("ReactComposerAttachmentPlaceholder.react",["cx","React","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")(this.props.className,"_2nt-");return b("React").createElement("div",{className:a},b("React").createElement(b("XUISpinner.react"),{className:"_2nt_",size:"large"}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerPostToGroupActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SELECT_TAB:null,UNSELECT_TAB:null,UPDATE_SELECTED_GROUP:null,CLOSE_NUX:null,LOG_EVENT:null},"ReactComposerPostToGroupActionType")}),null);
__d("XReactComposerPostToGroupLoggingODSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/logging/post_to_group/ods/",{event:{type:"String",required:!0}})}),null);
__d("ReactComposerPostToGroupStore",["AsyncRequest","ReactComposerPostToGroupActionType","ReactComposerStoreBase","XReactComposerPostToGroupLoggingODSController"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{isTabSelected:!1,selectedGroup:null,showNux:!0}},function(a){__p&&__p();switch(a.type){case b("ReactComposerPostToGroupActionType").SELECT_TAB:d&&d.$ReactComposerPostToGroupStore1(a,!0);break;case b("ReactComposerPostToGroupActionType").UNSELECT_TAB:d&&d.$ReactComposerPostToGroupStore1(a,!1);break;case b("ReactComposerPostToGroupActionType").UPDATE_SELECTED_GROUP:d&&d.$ReactComposerPostToGroupStore2(a);break;case b("ReactComposerPostToGroupActionType").CLOSE_NUX:d&&d.$ReactComposerPostToGroupStore3(a);break;case b("ReactComposerPostToGroupActionType").LOG_EVENT:d&&d.$ReactComposerPostToGroupStore4(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getIsTabSelected=function(a){return this.getComposerData(a).isTabSelected};d.getSelectedGroup=function(a){return this.getComposerData(a).selectedGroup};d.getSelectedGroupID=function(a){a=this.getComposerData(a).selectedGroup;return a?a.getUniqueID():null};d.getShowNux=function(a){return this.getComposerData(a).showNux};d.$ReactComposerPostToGroupStore1=function(a,b){a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a);c.isTabSelected=b;this.emitChange(a)};d.$ReactComposerPostToGroupStore2=function(a){a=this.validateAction(a,["composerID","group"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.selectedGroup=a;this.emitChange(b)};d.$ReactComposerPostToGroupStore3=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.showNux=!1;this.emitChange(a)};d.$ReactComposerPostToGroupStore4=function(a){a=this.validateAction(a,["event"]);a=b("XReactComposerPostToGroupLoggingODSController").getURIBuilder().setString("event",a).getURI();new(b("AsyncRequest"))(a).send()};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerAttachmentSelectorContainer.react",["Arbiter","FluxContainer","React","ReactComposerAttachmentActions","ReactComposerAttachmentSelector.react","ReactComposerAttachmentStore","ReactComposerEvents","ReactComposerPostToGroupStore","ReactComposerStore","emptyFunction","ifRequired","ReactComposerContextTypes"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){__p&&__p();if(d.props.disableSelectAttachment)return;if(d.state.selected){b("ReactComposerAttachmentActions").selectAttachmentLoggingOnlyDoNotUse(d.context.composerID,null,null,b("ReactComposerStore").getSproutSurface(d.context.composerID));return}b("ifRequired")("ReactComposerPostToGroupActions",function(a){return a.unselectTab(d.context.composerID)});b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,d.props.attachmentID,!0,d.props.loggingName);window.setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+d.context.composerID)},0);d.props.onAfterSelected&&d.props.onAfterSelected()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore"),b("ReactComposerPostToGroupStore")]};c.calculateState=function(a,c,d){var e=d.composerID;a=[c.attachmentID];c.alternativeAttachmentIDs&&(a=a.concat(c.alternativeAttachmentIDs));d=a.some(function(a){return b("ReactComposerPostToGroupStore").getIsTabSelected(e)?!1:b("ReactComposerAttachmentStore").getIsAttachmentSelected(e,a)});return{selected:d}};var d=c.prototype;d.render=function(){var a=this.props.onSelected!==b("emptyFunction")?this.props.onSelected:this.$1;return b("React").createElement(b("ReactComposerAttachmentSelector.react"),babelHelpers["extends"]({},this.props,{selected:this.state.selected,showNLUEducation:this.state.showNLUEducation,onSelected:a}))};return c}(b("React").PureComponent);a.defaultProps={onSelected:b("emptyFunction"),disableSelectAttachment:!1,enableDisplayTooltip:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerAsset3DComponent.react",["ix","cx","fbt","invariant","Asset3DBackgroundList","Asset3DCategory","Asset3DInput","BootloaderResource","FDSLink.react","FDSText.react","FluxContainer","Image.react","JSResource","React","ReactComposerAsset3dAttachmentActions","ReactComposerAsset3dAttachmentStore","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","XUICloseButton.react","asset","lazyLoadComponent","suiMargin"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=b("lazyLoadComponent")(b("JSResource")("Asset3DComposerColorPicker.react").__setRef("ReactComposerAsset3DComponent.react")),l=b("lazyLoadComponent")(b("JSResource")("Asset3dFeedViewer.react").__setRef("ReactComposerAsset3DComponent.react")),m=b("lazyLoadComponent")(b("JSResource")("FDSButton.react").__setRef("ReactComposerAsset3DComponent.react")),n=522;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=0,d.$9=function(a){d.$1=a},d.$7=function(a){d.state.placeholderRef||d.setState({placeholderRef:a})},d.$8=function(){b("ReactComposerAsset3dAttachmentActions").removeAsset3D(d.props.composerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAsset3dAttachmentStore")]};c.calculateState=function(a,c,d){c=d.composerID;return{asset3dData:b("ReactComposerAsset3dAttachmentStore").getAsset3DData(c),selectedBackground:b("ReactComposerAsset3dAttachmentStore").getBackground(c),viewerWidth:a?a.viewerWidth:0,placeholderRef:a?a.placeholderRef:null,creationFailed:b("ReactComposerAsset3dAttachmentStore").getCreationFailed(c)}};var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=a.asset3dInput;if(!c){b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").STATUS,!0);var d=b("ReactComposerMediaUploadStore").getUploads(this.context.composerID);b("ReactComposerMediaUploadActions").removeAllPhotoUploads(this.context.composerID,d)}else{d=this.props.asset3dInput;c=!d||c.type!=d.type||c.glbFile!=d.glbFile||JSON.stringify(c.colorImageIDs)!=JSON.stringify(d.colorImageIDs)||JSON.stringify(c.depthImageIDs)!=JSON.stringify(d.depthImageIDs);c&&this.$3(a)}};d.componentDidMount=function(){b("BootloaderResource").preload(b("JSResource")("Asset3DComposerColorPicker.react").__setRef("ReactComposerAsset3DComponent.react")),b("BootloaderResource").preload(b("JSResource")("Asset3dFeedViewer.react").__setRef("ReactComposerAsset3DComponent.react")),b("BootloaderResource").preload(b("JSResource")("FDSButton.react").__setRef("ReactComposerAsset3DComponent.react")),this.props.asset3dInput&&this.state.asset3dData===null&&this.$3(this.props),this.$1!=null||j(0,14175),this.setState({viewerWidth:this.$1.clientWidth})};d.$3=function(a){b("ReactComposerAsset3dAttachmentActions").createAsset3D(a.composerID,a.actorID)};d.$4=function(){this.state.placeholderRef!=null||j(0,13553);return this.state.placeholderRef};d.$5=function(){this.props.asset3dInput||j(0,14501);var a=this.props.asset3dInput.type===b("Asset3DInput").COLOR_DEPTH_PAIR;return b("React").createElement("div",{className:"_7pe9"},b("React").createElement("div",{className:"_7pea"}),b("React").createElement("div",{className:"_7peb"},a?i._("Creating a 3D Photo"):i._("Creating a 3D Post")))};d.$6=function(){this.props.asset3dInput||j(0,14501);var a=this.props.asset3dInput.type===b("Asset3DInput").COLOR_DEPTH_PAIR,c=this.props.showContextButton?b("React").createElement("div",null,b("React").createElement(m,{href:"https://developers.facebook.com/docs/sharing/3d-posts/glb-tutorials",label:i._("Learn More"),size:"small"})):null;return b("React").createElement("div",{className:"_7pe9"},b("React").createElement(b("FDSText.react"),{size:"header3",color:"white",margin:"_3-96",display:"block",textAlign:"center"},a?i._("Failed to create your 3D Photo"):i._("Failed to create your 3D Post")),b("React").createElement(b("FDSText.react"),{size:"body3",color:"white",margin:"_3-98",display:"inline",textAlign:"center",width:200},a?i._("Try again or learn more about how to create 3D Photos."):i._("Try again or learn more about how to create 3D Posts.")),c)};d.render=function(){__p&&__p();var a=this.props.asset3dInput;if(!a)return null;var c=a.type===b("Asset3DInput").COLOR_DEPTH_PAIR,d=null;a=a.placeholderImageSrc;a!==null&&(d=b("React").createElement(b("Image.react"),{className:"_7pe8",src:a}));a=b("React").createElement("div",{className:"_7pe7",style:c?{}:{height:n+"px"},ref:this.$7},d,this.state.creationFailed?this.$6():this.$5());d=null;this.props.showContextButton&&c&&(d=b("React").createElement("div",null,b("React").createElement(b("FDSLink.react"),{href:"https://developers.facebook.com/docs/sharing/3d-posts/glb-tutorials",margin:"_3-8y",showUnderline:"never"},b("React").createElement(b("Image.react"),{className:"_7qn1",src:g("865191")}),b("React").createElement("span",null,i._("Learn more about 3D Photos")))));var e=this.props.showCloseButton?b("React").createElement(b("XUICloseButton.react"),{shade:"light",size:c?"large":"medium",onClick:this.$8,className:"_655z"}):null;e=b("React").createElement("div",null,e);var f=null,h=this.state.asset3dData;if(h&&this.state.placeholderRef){var j=c?h.aspectRatio:1,m=this.state.viewerWidth;j=m/j;var o=c?b("Asset3DCategory").PHOTOS_3D:b("Asset3DCategory").COMPOSER,p=c?null:b("React").createElement(k,{composerID:this.props.composerID,backgrounds:b("Asset3DBackgroundList"),selectedBackground:this.state.selectedBackground});f=b("React").createElement("div",null,b("React").createElement(l,{enableFullscreen:!1,asset3dID:h.asset3dID,glbURI:h.glbURI,compressor:h.compressor,compressionLevel:h.compressionLevel,initialViewContainer:this.$4(),composerID:this.props.composerID,background:this.state.selectedBackground,category:o,actorID:this.props.actorID,shouldSupportVR:!1,shouldUpdateFallbackImage:!c,isModal:!1,width:m,height:j}),p)}return b("React").createElement("div",{className:"_7pef",ref:this.$9},e,a,f,d)};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("PagesComposerMediaEntryType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MEDIA_SPROUT:"media_sprout",INLINE_MEDIA_ICON:"inline_media_icon",SPROUT_AND_ICON:"sprout_and_icon"})}),null);
__d("CollageLayoutConfig",[],(function(a,b,c,d,e,f){__p&&__p();var g=4;a=function(){"use strict";__p&&__p();function a(a,b,c,d){c===void 0&&(c=g),this.$2=c,this.$3=b,this.$5=d,this.$6(a)}var b=a.prototype;b.getItemStyleInfos=function(){return this.$1};b.getIndexForPoint=function(a,b){var c=this.$1.findIndex(function(c){return c.left<=a&&c.top<=b&&c.left+c.width>=a&&c.top+c.height>=b});return c===-1?null:c};b.getCalculatedHeight=function(){return this.$4};b.getSpacing=function(){return this.$2};b.getWidth=function(){return this.$3};b.$6=function(a){var b=this,c=this.$7(a),d=this.$8(a),e=this.$2*(d-1),f=Math.ceil((this.$3-e)/d);this.$4=this.$5||(f+this.$2)*c-this.$2;e=this.$2*(c-1);var g=Math.ceil((this.$4-e)/c);this.$1=[];a.forEach(function(a){a={left:(f+b.$2)*a.x,top:(g+b.$2)*a.y,width:(f+b.$2)*a.width-b.$2,height:(g+b.$2)*a.height-b.$2};a.left+a.width>b.$3&&(a.width=b.$3-a.left);b.$1.push(a)})};b.$8=function(a){var b=0;a.forEach(function(a){b=Math.max(b,a.x+a.width)});return b};b.$7=function(a){var b=0;a.forEach(function(a){b=Math.max(b,a.y+a.height)});return b};return a}();e.exports=a}),null);
__d("ReactComposerCollageLayoutActor",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USER:1,PAGE:2})}),null);
__d("ReactComposerMediaAspectTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LANDSCAPE:"landscape",PORTRAIT:"portrait",SQUARE:"square",PANORAMA_TESTING_ONLY:"panorama",VERTICAL_PANORAMA_TESTING_ONLY:"vertical_panorama"})}),null);
__d("ReactComposerMediaAspect",["ReactComposerMediaAspectTypes"],(function(a,b,c,d,e,f){"use strict";e.exports={fromRect:function(a){return this._fromWidthAndHeight(a.w(),a.h())},fromDimensions:function(a){return this._fromWidthAndHeight(a[0],a[1])},_fromWidthAndHeight:function(a,c){if(a>c)return b("ReactComposerMediaAspectTypes").LANDSCAPE;else if(a<c)return b("ReactComposerMediaAspectTypes").PORTRAIT;else return b("ReactComposerMediaAspectTypes").SQUARE}}}),null);
__d("ReactComposerCollageLayoutModel",["regeneratorRuntime","ReactComposerCollageLayoutActor","ReactComposerMediaAspect"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("regeneratorRuntime").mark(i),h=b("regeneratorRuntime").mark(j);function i(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").wrap(function(b){__p&&__p();while(1)switch(b.prev=b.next){case 0:d=a.next();e=c.next();if(!(d.done||e.done)){b.next=5;break}return b.abrupt("break",9);case 5:b.next=7;return[d.value,e.value];case 7:b.next=0;break;case 9:case"end":return b.stop()}},g,this)}function j(a){__p&&__p();var c,d,e,f,g;return b("regeneratorRuntime").wrap(function(b){__p&&__p();while(1)switch(b.prev=b.next){case 0:c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!d){b.next=7;break}if(!(e>=c.length)){b.next=4;break}return b.abrupt("break",16);case 4:f=c[e++];b.next=11;break;case 7:e=c.next();if(!e.done){b.next=10;break}return b.abrupt("break",16);case 10:f=e.value;case 11:g=f;b.next=14;return g;case 14:b.next=1;break;case 16:case"end":return b.stop()}},h,this)}a=function(){__p&&__p();function a(a,c){this.$1=!!(a&b("ReactComposerCollageLayoutActor").USER),this.$2=!!(a&b("ReactComposerCollageLayoutActor").PAGE),this.$3=[],c&&this.addPhotoLayouts(c)}var c=a.prototype;c.addPhotoLayout=function(a){this.$3.push(a);return this};c.addPhotoLayouts=function(a){var b=this;a.forEach(function(a){return b.$3.push(a)});return this};c.getNumPhotoLayouts=function(){return this.$3.length};c.getPhotoLayouts=function(){return this.$3};c.getIsValidForPages=function(){return this.$2};c.getIsValidForUsers=function(){return this.$1};c.getIsValidFor=function(a){switch(a){case b("ReactComposerCollageLayoutActor").USER:return this.getIsValidForUsers();case b("ReactComposerCollageLayoutActor").PAGE:return this.getIsValidForPages()}return!1};c.hasMatchingCollagePhotoLayoutType=function(a){var c=b("ReactComposerMediaAspect").fromRect(this.$3[0]);a=b("ReactComposerMediaAspect").fromDimensions(a);return c===a};c.score=function(a){__p&&__p();var b=0;for(var a=i(j(this.getPhotoLayouts()),a.values()),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];if(!e)continue;var g=f.w();f=f.h();var h=e[0];e=e[1];var k=0;if(h===0||e===0)k=0;else if(g*e/h>=f){var l=g*e/h;k=(l-f)/l}else if(f*h/e>g){l=f*h/e;k=(l-g)/l}b-=k*100;e===h?b-=k*5:g>f?h>e?b+=k*25:b-=k*25:g<f?h<e?b+=k*25:b-=k*25:g===f&&(b-=k*5)}b+=200*this.getNumPhotoLayouts();return b};return a}();e.exports=a}),null);
__d("ReactComposerCollageLayoutData",["ReactComposerCollageLayoutModel","ReactComposerJSONCollageLayoutData","Rect"],(function(a,b,c,d,e,f){"use strict";var g=[];Object.keys(b("ReactComposerJSONCollageLayoutData")).forEach(function(a){b("ReactComposerJSONCollageLayoutData")[a].forEach(function(a){g.push(new(b("ReactComposerCollageLayoutModel"))(a.validActors,a.photoLayouts.map(function(a){return new(Function.prototype.bind.apply(b("Rect"),[null].concat(a)))()})))})});e.exports=g}),null);
__d("ReactComposerCollageLayoutSelection",["FBIDCheck","ReactComposerCollageLayoutActor","ReactComposerCollageLayoutData"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={MAX_NUM_COLS:6,MAX_NUM_ROWS:6,_getCollageLayoutsFor:function(a){return b("ReactComposerCollageLayoutData").filter(function(b){return b.getIsValidFor(a)})},getMaxPhotosSupported:function(){return Math.max.apply(Math,b("ReactComposerCollageLayoutData").map(function(a){return a.getNumPhotoLayouts()}))},getMaxPhotosSupportedFor:function(a){return Math.max.apply(Math,this._getCollageLayoutsFor(a).map(function(a){return a.getNumPhotoLayouts()}))},getCollageLayout:function(a,c){if(!c)return this.getBestUserCollageLayout(a);c=b("FBIDCheck").isUser_deprecated(c)?this.getBestUserCollageLayout(a):this.getBestPageCollageLayout(a);return c},getBestPageCollageLayout:function(a){__p&&__p();if(a.size==0)return new Map();var c=a.values().next().value,d=Math.min(this.getMaxPhotosSupportedFor(b("ReactComposerCollageLayoutActor").PAGE),a.size),e=this._getCollageLayoutsFor(b("ReactComposerCollageLayoutActor").PAGE).filter(function(a){return a.getNumPhotoLayouts()===d});if(!e.length)throw new Error("no valid layout for these media");e=e.filter(function(a){return a.hasMatchingCollagePhotoLayoutType(c)});if(!e.length)throw new Error("no valid layout for these media starts with a suitable aspect");e=e[0];var f=new Map(),g=0;e=e.getPhotoLayouts();for(var a=a.keys(),h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var k=e[g++];k&&f.set(j,k)}return f},getBestUserCollageLayout:function(a){__p&&__p();var c=this._getCollageLayoutsFor(b("ReactComposerCollageLayoutActor").USER).filter(function(b){return b.getNumPhotoLayouts()<=a.size});if(!c.length)throw new Error("no valid layout for these media");c=this._bestLayoutByScore(c,a);if(!c)throw new Error("no best layout? Should not happen!");var d=new Map(),e=0;c=c.getPhotoLayouts();for(var f=a.keys(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=c[e++];j&&d.set(i,j)}return d},_bestLayoutByScore:function(a,b){__p&&__p();a=a.map(function(a){return[a,a.score(b)]});a=a.reduce(function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return a===null||b>a?[d,b]:[c,a]},[null,null]);a=a[0];return a}}}),null);
__d("ReactComposerHandleUnsavedChanges",["fbt","ComposerEntryPointRef","CurrentUser","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerInit","ReactComposerLoggingActions","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingStore","ReactComposerPhotoStore","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerVideoUploadStore","Run","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h={customChecks:new Map(),handler:function(c,d){__p&&__p();var e=b("URI").getMostRecentURI(),f=b("URI").getNextURI(),g=Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&!Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater")&&d.toString()===f.toString(),i=d.toString()===e.toString()&&!Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater");e=Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater")&&e.toString()!==f.toString();(i||g||e)&&b("Run").onAfterLoad(function(){return b("Run").onBeforeUnload(function(){return h.handler(c,d)})});if(i||g||e||b("ReactComposerStore").hasPostSucceeded(c)||b("ReactComposerStore").isPublishing(c))return void 0;f=h.hasUnsavedChanges(c);if(f&&!(a.Dialog&&a.Dialog.getCurrent())){b("ReactComposerLoggingActions").composerNavigateAwayAttempt(c);return h.getUnsavedChangesMessage(c)}else return void 0},addCustomCheck:function(a,b){var c=[];h.customChecks.has(a)&&(c=h.customChecks.get(a));c&&(c.push(b),h.customChecks.set(a,c))},hasUnsavedChanges:function(a){__p&&__p();var c;if(!b("ReactComposerInit").isInstanceMounted(a))return!1;c=(c=b("ReactComposerInit").instances.get(a))!=null?(c=c.props)!=null?(c=c.contextConfig)!=null?c.composerType:c:c:c;if(c===b("ComposerEntryPointRef").FEED_SPROUTS_DIALOG||c===b("ComposerEntryPointRef").BCMP_DEAL)return!1;c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MEDIA);var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIVE_BROADCAST),e=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").VISUAL_POLL),f=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MLE),g=b("ReactComposerStatusStore").getTextLength(a)>0,i=c&&(b("ReactComposerMediaUploadStore").isUploading(a)||b("ReactComposerPhotoStore").isRecognizing(a)||b("ReactComposerPhotoStore").getPhotos(a).size>0);c=c&&(b("ReactComposerVideoUploadStore").isUploading(a)||b("ReactComposerVideoUploadStore").getVideo(a));var j=!b("ReactComposerTaggerStore").areAllTaggersEmpty(a),k=b("ReactComposerScrapedAttachmentStore").hasAttachment(a);a=h.customChecks.get(a);var l=!1;if(a)for(var a=a,m=Array.isArray(a),n=0,a=m?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=a.length)break;o=a[n++]}else{n=a.next();if(n.done)break;o=n.value}o=o;l=l||o()}o=g||i||c||j||k||d||e||l||f;return!!o},getUnsavedChangesMessage:function(a){if(b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(a))return g._("Your post is still uploading. Do you want to leave without finishing the upload?");a=b("ReactComposerStore").getRef(a);switch(a){case b("ComposerEntryPointRef").EDIT_DIALOG:return g._("If you discard now, you'll lose any changes that you've made to this post.");default:if(b("CurrentUser").isWorkUser())return g._("If you leave now, your post won't be saved.");else return g._("You haven't finished your post yet. Do you want to leave without finishing?")}},possiblyLogComposerCancelEvent:function(a){h.hasUnsavedChanges(a)&&b("ReactComposerLoggingActions").composerCancel(a)}};e.exports=h}),null);
__d("ReactComposerEmojiButton.react",["cx","EmojiInputButton.react","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusStore","UnicodeUtils","addEmojiToEditorState","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=b("ReactComposerStatusStore").getActiveEditorState(d.context.composerID),e=b("ReactComposerStatusStore").getActiveLanguageDialect(d.context.composerID);if(c===null||c===void 0)return;b("addEmojiToEditorState")(a,c,e==null?d.$3:d.$4)},d.$3=function(a){var c=0;if(a){var e=a.getCurrentContent();c=e?b("UnicodeUtils").strlen(e.getPlainText()):0;b("ReactComposerStatusStore").getEditorState(d.context.composerID)!==a&&(b("ReactComposerStatusActions").setEditorState(d.context.composerID,a),b("ReactComposerStatusActions").setTextLength(d.context.composerID,c))}d.props.onChange&&d.props.onChange(a)},d.$4=function(a){var c=d.context.composerID,e=b("ReactComposerStatusStore").getActiveEditorState(c),f=b("ReactComposerStatusStore").getActiveLanguageDialect(c);e!==a&&b("ifRequired")("ReactComposerMultilingualStatusActions",function(b){b.setEditorState(c,f,a)})},d.$2=function(){b("ReactComposerActions").expandSprouts(d.context.composerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=(this.props.isNextToFontPicker?"":"_3nc-")+(this.props.simplifyComposerMoveEmojiButton===!0&&!this.props.isNextToFontPicker?" _77h7":""),c=(this.props.canProduceSATPWithFont?"":"_3nc_")+(this.props.canProduceSATPWithFont?" _7bcl":"")+(this.props.exceedCharacterCount?" _6-3i":""),d="_5zq9";return b("React").createElement(b("EmojiInputButton.react"),{buttonClassName:a,iconActiveClassName:d,iconClassName:c,onSelect:this.$1,onClick:this.$2,position:"below"})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerInlineMediaEntry.react",["ix","cx","fbt","ExtensibleSproutsItemType","FDSTooltip.react","Image.react","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerStore","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=62,k=i._("Add photo\/video");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a=d.props.composerID;b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,b("ExtensibleSproutsItemType").MEDIA,b("ReactComposerStore").getSproutSurface(a),null,b("ReactComposerLoggingName").MEDIA_INLINE_ENTRY)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("ReactComposerAttachmentStore").getSelectedAttachmentID(this.props.composerID);return a===b("ReactComposerAttachmentType").MEDIA?null:b("React").createElement("div",{className:"_7qgi"},b("React").createElement(b("FDSTooltip.react"),{alignment:"center",offset:j,position:"below",tooltip:k},b("React").createElement(b("ShimButton.react"),{className:"_7r2p",onClick:this.$1},b("React").createElement("div",{className:"_7qmz"},b("React").createElement(b("Image.react"),{className:"_7qib",src:g("676603")}),b("React").createElement("div",{className:"_7qr7"})))))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInput.react",["cx","Arbiter","ComposerTestID","MentionsInput.react","React","ReactComponentWithPureRenderMixin","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerInit","ReactComposerTaggerType","SubscriptionsHandler","TextDelightSurface","XUITypeaheadView.react","addEmojiInput","addTextDelightInput","ifRequired","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("addTextDelightInput").addTextDelightInput;c=b("React").PropTypes;var h;a?h=b("addEmojiInput")(a(b("MentionsInput.react"),b("TextDelightSurface").POST)):h=b("addEmojiInput")(b("MentionsInput.react"));d=b("React").createClass({displayName:"ReactComposerStatusAttachmentMentionsInput",_subscriptions:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{config:b("ReactComposerConfig"),mentionsSource:c.object,preventFocus:c.bool,typeaheadReporter:c.object,onChange:c.func,onFocus:c.func,onPasteFiles:c.func,placeholder:c.string},componentWillUnmount:function(){var a=this,c=null;b("ifRequired")("ReactComposerStatusStore",function(b){c=b.getEditorState(a.context.composerID)});var d=!1;b("ifRequired")("ComposerEntryPointRef",function(b){d=a.context.composerType===b.PAGE_CONTENT_TAB_DRAFT_EDIT});d&&c!==null?this.props.onBlur&&this.props.onBlur(c):this.props.onBlur&&this.props.onBlur(this.props.editorState);this._subscriptions&&this._subscriptions.release()},UNSAFE_componentWillMount:function(){var a=this,c=new(b("SubscriptionsHandler"))();this.props.preventFocus||c.addSubscriptions(b("Arbiter").subscribe([b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID],function(){return a.focus()}));this._subscriptions=c},componentDidCatch:function(a,b){},render:function(){var a=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[b("ReactComposerTaggerType").PEOPLE],c=a&&a.typeaheadView?a.typeaheadView:b("XUITypeaheadView.react");a=a&&a.typeaheadViewProps?a.typeaheadViewProps:{};c=Object.assign({},{ariaLabel:this.props.placeholder,ariaMultiline:!0,role:"textbox",typeaheadView:c,typeaheadViewProps:a,selectOnTab:!1,spellCheck:!0},this.props,{className:b("joinClasses")("_1mwp navigationFocus",this.props.className),editorState:this.props.editorState,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return b("React").createElement(h,babelHelpers["extends"]({ref:"mentionsInput"},c,{webDriverTestID:b("ComposerTestID").STATUS_ATTACHMENT_MENTIONS_INPUT}))},focus:function(){var a=this;!b("ReactComposerInit").isInstanceMounted(this.context.composerID)?b("Arbiter").subscribeOnce([b("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID],function(){return a.refs&&a.refs.mentionsInput&&a.refs.mentionsInput.focus()}):this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},blur:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},_onAddMention:function(a,c,d){var e=this,f=this.props.typeaheadReporter;f&&(f.reportSelect(a.getUniqueID(),a.getType(),c,d.button>=0),f.sessionEnd(),f.sessionStart());a.getType()==="event"&&b("ifRequired")("ReactComposerEventAttachmentActions",function(b){return b.fetchEventAttachment(e.context.composerID,a.getUniqueID())})},_onShowMentions:function(a,b){b=this.props.typeaheadReporter;b&&b.reportResults(a.map(function(a){return a.getUniqueID()}))},_onFocus:function(){var a=this.props.typeaheadReporter;a&&a.sessionStart();this.props.onFocus&&this.props.onFocus()},_onChange:function(a){this.props.onChange&&this.props.onChange(a)},_onBlur:function(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd(),this.props.onBlur&&this.props.onBlur(this.props.editorState)}});e.exports=d}),null);
__d("ReactComposerStickerContainer.react",["Arbiter","JSResource","React","ReactComposerEvents","ReactComposerPrefillStore","ReactComposerTaggerActions","ReactComposerTaggerType","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("ReactComposerStickerComponent.react").__setRef("ReactComposerStickerContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(d.props.composerID,["taggersData",b("ReactComposerTaggerType").STICKER]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(d.props.composerID,b("ReactComposerTaggerType").STICKER,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!(this.props.sticker&&this.props.sticker.stickerID)?null:b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(g,{sticker:this.props.sticker,composerID:this.props.composerID}))};d.UNSAFE_componentWillMount=function(){this.$2(),this.$1=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$2)};d.componentWillUnmount=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputVariant.react",["cssVar","cx","Arbiter","Keys","React","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEmojiButton.react","ReactComposerEvents","ReactComposerInlineMediaEntry.react","ReactComposerStatusAttachmentMentionsInput.react","ReactComposerStickerContainer.react","ReactComposerTaggerStore","SubscriptionsHandler","UserAgent_DEPRECATED","emptyFunction","getCampfireKeyBinding","getDefaultKeyBinding","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={CODE:{backgroundColor:"#e9ebee",fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"90%",padding:"1px 4px"}};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){var b=/^image\//;a=a.filter(function(a){return b.test(a.type)});if(a.length>0&&d.props.onPasteFiles){d.props.onPasteFiles(a);return!0}return!1},d.$3=function(a,c){c=b("UserAgent_DEPRECATED").osx()?a.metaKey:a.ctrlKey;if(a.keyCode===b("Keys").RETURN&&c){d.blur();window.setTimeout(d.props.onPostIntent,0);return!0}return!1},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.context&&this.context.composerID&&this.props.useRichTextEditor&&b("Arbiter").inform(b("ReactComposerEvents").RICH_TEXT_EDITOR_MOUNTED+this.context.composerID);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe([b("ReactComposerEvents").HIGHLIGHT_TOP_COMPOSER],function(){return a.focus()}))};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){__p&&__p();var a=this.props.config&&this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],c=null;if(this.props.useRichTextEditor){var d=a.richTextEditor;c=b("React").createElement(d,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_3w8y _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _n7q":"")),canAttachVideo:!1,canAttachPhoto:!1,canAttachEmbed:!1,customStyleMap:i,onSave:b("emptyFunction"),spellCheck:!0,autoCorrect:!1,handlePastedFiles:this.$2,handleContentReturn:this.$3,keyBindingFn:this.props.disableLinkAndMonoFormatting?b("getDefaultKeyBinding"):b("getCampfireKeyBinding"),ref:"mentionsInput"}))}else c=b("React").createElement(b("ReactComposerStatusAttachmentMentionsInput.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,(this.props.isSelectedAttachmentActive?"_1mwq":"")+(this.props.config&&this.props.config.showExpandedComposer?" _4c_p":"")+(a&&a.showProfilePic?" _5bu_":"")+(this.props.isPosting?" _1udp":"")+(this.props.shouldUseLargeText?" _3t-3":"")+(a&&a.largeTextThreshold?" _34nd":"")+" _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _hjn":"")+(this.props.exceedCharacterCount?" _6zdn":"")+(this.props.exceedCharacterCount&&(b("ReactComposerTaggerStore").getNumberOfWithWhoTags(this.props.compositionID)>0||b("ReactComposerTaggerStore").hasMinutiae(this.props.compositionID))?" _6-3h":"")+(this.props.sticker&&this.props.sticker.stickerID&&(this.props.editorState&&this.props.editorState.getCurrentContent().getPlainText().trim().length===0||this.props.shouldUseLargeText)?" _4vlg":"")+(this.props.showInlineMediaEntry?" _7qmn":"")+(this.props.showInlineMediaEntry&&this.props.useDialogInlineMediaStyle?" _7wjo":"")),ref:"mentionsInput",readOnly:this.props.isPosting,editorState:this.props.editorState,mentionsSource:this.props.mentionsSource,typeaheadReporter:this.props.typeaheadReporter,handlePastedFiles:this.$2,handleContentReturn:this.$3}));d=this.props.simplifyComposerMoveEmojiButton||this.props.hideEmojiButtonBeforeFocus?null:b("React").createElement(b("ReactComposerEmojiButton.react"),{exceedCharacterCount:this.props.exceedCharacterCount,onChange:this.props.onChange,canProduceSATPWithFont:this.props.canProduceSATPWithFont,simplifyComposerMoveEmojiButton:this.props.simplifyComposerMoveEmojiButton});a=b("React").createElement(b("ReactComposerStickerContainer.react"),{sticker:this.props.sticker,composerID:this.props.compositionID});var e=this.props.showInlineMediaEntry&&b("React").createElement(b("ReactComposerInlineMediaEntry.react"),{composerID:this.context.composerID});return b("React").createElement("div",{className:"_3nd0"},a,c,e,d)};d.blur=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()};d.focus=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("getReactComposerTextDelightInputDecorator",["EditorState","React","ReactComposerStatusActions","ReactComposerStatusStore","TextDelightInputDecorator","TextDelightSpan.react","TextDelightSurface","getEntityMatcher","memoizeByReference"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("ReactComposerStatusStore").getEditorState(a.funnelKey);c&&b("ReactComposerStatusActions").setEditorState(a.funnelKey,b("EditorState").create({currentContent:c.getCurrentContent(),decorator:c.getDecorator(),selection:c.getSelection()}))}a=b("memoizeByReference")(function(a){return new(b("TextDelightInputDecorator"))({strategy:b("getEntityMatcher")(function(a){return a.getType()==="DELIGHT"&&a.getData().surface===b("TextDelightSurface").POST}),component:function(a){return b("React").createElement(b("TextDelightSpan.react"),babelHelpers["extends"]({},a,{onXOut:g}))}},a)});e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputContainer.react",["fbt","Arbiter","Bootloader","ComposerEntryPointRef","ComposerSourceSurface","EditorState","FDSText.react","LitestandStoryInsertionStatus","PagesComposerMediaEntryType","PagesComposerNuxStore","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFocusStore","ReactComposerHandleUnsavedChanges","ReactComposerInputDecorator","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerOptimisticPostingActions","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerSproutsDisplayState","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputVariant.react","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerStore","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerStore","ReactComposerTaggerType","SimpleNUXMessage","SimpleNUXMessageTypes","TextDelightInComposerGating","TextDelightSurface","UnicodeUtils","URLMatcher","URLScraper","XUIAmbientNUX.react","getReactComposerEmojiInputDecorator","getReactComposerTextDelightInputDecorator","ifRequired","isEmpty"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;var h=null,i=function(a,c){var d=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(d===b("ReactComposerAttachmentType").LIVE_VIDEO||d===b("ReactComposerAttachmentType").SELL||d===b("ReactComposerAttachmentType").GROUP_MEET_UP||b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").FUNDRAISER))return!1;d=c&&c.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];c=b("ReactComposerTaggerStore").hasMarkdown(a);return!!(d&&d.richTextEditor&&!c)},j=function(a){a=a&&a.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];return(a==null?void 0:a.disableLinkAndMonoFormatting)==!0},k=function(a){a=a&&a.actorConfig;return(a==null?void 0:a.shouldShowFormattedPostNux)==!0};c=b("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputContainer",_rerenderSubscription:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerMinutiaeAttachmentStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerStatusStore"),b("ReactComposerStore"),b("ReactComposerTaggerStore"),b("PagesComposerNuxStore"))],propTypes:{config:b("ReactComposerConfig"),mentionsEnabled:a.bool,mentionsSource:a.object,onChange:a.func,onFocus:a.func,onPasteFiles:a.func,handlePastedText:a.func,simplifyComposerMoveEmojiButton:a.bool,canProduceSATPWithFont:a.bool},getDefaultProps:function(){return{mentionsEnabled:!0}},getInitialState:function(){return{isFocused:!1,hasShownLinkPostNux:!1}},statics:{calculateState:function(a,c,d){__p&&__p();d=b("ReactComposerStatusStore").getEditorState(a);var e=c.config&&c.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],f=!1,g=b("ReactComposerStatusStore").getTextLength(a),h=b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a),l=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a),m=i(a,c.config),n=j(c.config),o=k(c.config),p=b("ReactComposerInputDecorator").NONE;c.mentionsEnabled&&(p=e&&e.richTextEditor?b("ReactComposerInputDecorator").RICH_TEXT:b("ReactComposerInputDecorator").MENTIONS);if(e&&e.largeTextThreshold&&b("ReactComposerMediaUploadStore").getUploadsCount(a)===0&&!b("ReactComposerScrapedAttachmentStore").hasAttachment(a)&&!b("ReactComposerTaggerStore").hasExplicitLocation(a)&&!b("ReactComposerTaggerStore").hasMarkdown(a)&&b("ReactComposerMinutiaeAttachmentStore").getMarkup(a)===null&&l!==b("ReactComposerAttachmentType").FIND_PLAYERS&&l!==b("ReactComposerAttachmentType").SELL&&l!==b("ReactComposerAttachmentType").IG_PHOTO_REMINDER){if(!g&&d){var q=d.getCurrentContent();g=b("UnicodeUtils").strlen(q.getPlainText())}q=c.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].placeholderText;(q&&q.length<=e.LargePlaceholderTextThreshold&&g===0&&h||g!==0&&g<=e.largeTextThreshold)&&(f=!0);b("ifRequired")("ReactComposerFormattedTextStore",function(d){d=d.getSelectedIndex(a);d>-1&&(f=!0,p=c.mentionsEnabled?b("ReactComposerInputDecorator").MENTIONS:b("ReactComposerInputDecorator").NONE,m=!1)})}q=b("getReactComposerEmojiInputDecorator")(p,f&&!m?28:16,j(c.config));q=b("getReactComposerTextDelightInputDecorator")(q);d?d.getDecorator()!==q?(h=b("EditorState").set(d,{decorator:q}),b("ReactComposerStatusActions").setEditorState(a,h)):h=d:(h=b("EditorState").createEmpty(q),b("ReactComposerStatusActions").setEditorState(a,h));g=b("ReactComposerStatusStore").getMessageText(a);return{activeEditorState:b("ReactComposerStatusStore").getActiveEditorState(a),editorState:h,isSelectedAttachmentActive:b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a),mentionsSource:c.mentionsEnabled?b("ReactComposerStatusStore").getMentionsSource(a):null,posting:b("ReactComposerStore").isPosting(a),typeaheadReporter:b("ReactComposerStatusStore").getTypeaheadReporter(a),shouldUseLargeText:f,selectedSticker:b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").STICKER),useRichText:m,disableLinkAndMonoFormatting:n,shouldShowFormattingNux:o,exceedCharacterCount:b("ReactComposerTaggerEligibilityUtils").exceedSATPCharacterCountOrExceedNewLinesCount(a,c),atMentionSearchSource:e&&e.bootstrapData?e.bootstrapData.mentionsSource:b("ReactComposerStatusStore").getMentionsSource(a),shouldShowLinkPostWarningNux:(b("ReactComposerStore").getSproutsDisplayState(a)===b("ReactComposerSproutsDisplayState").EXPANDED||b("ReactComposerFocusStore").isComposerFocused(a))&&!b("ReactComposerStore").isPosting(a)&&g.trim().split(" ").length===1&&g.trim().split("\n").length===1&&!b("isEmpty")(b("ReactComposerStatusUtils").validateUrl(b("URLScraper").match(g)||b("URLMatcher").permissiveMatch(g)))&&l===b("ReactComposerAttachmentType").STATUS}}},UNSAFE_componentWillMount:function(){var a=this;this.props.mentionsSource&&b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.props.mentionsSource);this._storyInsertionBlocker=b("LitestandStoryInsertionStatus").registerBlocker(function(){return b("ReactComposerHandleUnsavedChanges").hasUnsavedChanges(a.context.composerID)||a.state.isFocused})},componentDidMount:function(){var a=this,c=b("ReactComposerStatusStore").getEditorState(this.context.composerID);this.state.editorState!==c&&(this._pendingEditorStateUpdateFromMount=c,this.setState({editorState:c},function(){a._pendingEditorStateUpdateFromMount=void 0}));this._rerenderSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").RERENDER_MENTION_INPUT+this.context.composerID,function(){a.setState({editorState:b("ReactComposerStatusStore").getEditorState(a.context.composerID)})})},UNSAFE_componentWillReceiveProps:function(a){this.props.mentionsSource!==a.mentionsSource&&b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,a.mentionsSource);if(a.editorState===null){a=b("EditorState").createEmpty(b("getReactComposerEmojiInputDecorator")(b("ReactComposerInputDecorator").MENTIONS));b("ReactComposerStatusActions").setEditorState(this.context.composerID,a);this.setState({editorState:a})}},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null,this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe(),this._storyInsertionBlocker=null,this._rerenderSubscription&&this._rerenderSubscription.unsubscribe()},render:function(){var a,c,d,e=this,f=this.context.gks.showLinkPostWarning&&this.context.gks.showLinkPostWarningTooltip&&this.refs&&this.refs.mentionsInput?b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return e.refs.mentionsInput},offsetY:-13,onCloseButtonClick:this._onCloseButtonClick,position:"below",shown:this.state.shouldShowLinkPostWarningNux&&!this.state.hasShownLinkPostNux,useDarkMode:!0,width:"wide"},b("React").createElement(b("FDSText.react"),{size:"body3",color:"white"},g._("Add text to help people understand the link you're sharing."))):null;d=((d=this.props)!=null?(d=d.config)!=null?(d=d.loggingConfig)!=null?d.composerSourceSurface:d:d:d)===b("ComposerSourceSurface").PAGE&&this.context.gks.showInlineMediaIcon;c=((c=this.props)!=null?(c=c.config)!=null?(c=c.loggingConfig)!=null?c.composerSourceSurface:c:c:c)===b("ComposerSourceSurface").PAGE&&!!((c=this.context)!=null?(c=c.gks)!=null?c.showInlineDialogExperience:c:c)&&!!((c=this.context)!=null?(c=c.gks)!=null?c.isDialogComposer:c:c);a=((a=this.props)!=null?(a=a.config)!=null?(a=a.loggingConfig)!=null?a.composerSourceSurface:a:a:a)===b("ComposerSourceSurface").PAGE&&!!((a=this.context)!=null?(a=a.gks)!=null?a.showInlineDialogExperience:a:a)&&!((a=this.context)!=null?(a=a.gks)!=null?a.isDialogComposer:a:a);return b("React").createElement("div",null,b("React").createElement(b("ReactComposerStatusAttachmentMentionsInputVariant.react"),babelHelpers["extends"]({},this.props,{activeEditorState:this.state.activeEditorState,compositionID:this.context.composerID,delightFunnelID:this.context.composerID,editorState:this.state.editorState,isSelectedAttachmentActive:this.state.isSelectedAttachmentActive,isPosting:this.state.posting,mentionsSource:this.state.mentionsSource,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onPostIntent:this._onPostIntent,ownerID:this.context.actorID,ref:"mentionsInput",shouldUseLargeText:this.state.shouldUseLargeText,typeaheadReporter:this.state.typeaheadReporter,useRichTextEditor:this.state.useRichText,disableLinkAndMonoFormatting:this.state.disableLinkAndMonoFormatting,shouldShowFormattingNux:this.state.shouldShowFormattingNux,sticker:this.state.selectedSticker,exceedCharacterCount:this.state.exceedCharacterCount,simplifyComposerMoveEmojiButton:this.props.simplifyComposerMoveEmojiButton,canProduceSATPWithFont:this.props.canProduceSATPWithFont,showInlineMediaEntry:d,useDialogInlineMediaStyle:c,hideEmojiButtonBeforeFocus:a})),f)},_onCloseButtonClick:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_SHARING_LINK_POST_WARNING_NUX),this.setState({shouldShowLinkPostWarningNux:!1})},focus:function(){var a=this;this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus();this._pendingEditorStateUpdateFromMount!==void 0&&this.setState({editorState:this._pendingEditorStateUpdateFromMount},function(){return a.refs&&a.refs.mentionsInput&&a.refs.mentionsInput.focus()})},_onFocus:function(){b("Arbiter").inform(b("ReactComposerEvents").MENTION_INPUT_FOCUS+this.context.composerID),b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.state.atMentionSearchSource),this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus()},_onChange:function(a){__p&&__p();if(this._pendingEditorStateUpdateFromMount!==void 0)return;var c=0;if(a){var d=a.getCurrentContent();c=d?b("UnicodeUtils").strlen(d.getPlainText()):0;c>0&&b("TextDelightInComposerGating").isEnabled(b("TextDelightSurface").POST)&&(h?a=h.applyTextDelightEntity(a,b("ReactComposerStatusStore").getEditorState(this.context.composerID),this.context.composerID,b("TextDelightSurface").POST):b("Bootloader").loadModules(["TextDelightInComposerMatcher"],function(a){h=a},"ReactComposerStatusAttachmentMentionsInputContainer.react"));b("ReactComposerStatusStore").getEditorState(this.context.composerID)!==a&&(b("ReactComposerStatusActions").setEditorState(this.context.composerID,a),b("ReactComposerStatusActions").setTextLength(this.context.composerID,c))}this._handleMarkdownChange(a);this.props.onChange&&this.props.onChange(a);this.setState({editorState:a})},_handleMarkdownChange:function(a){var c=this.props.config?this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS]:null;b("ReactComposerStatusUtils").handleMarkdownPreview(this.context.composerID,this.context.targetID,c?c.markdownPreviewAttachment:null,a)},_onBlur:function(a){a instanceof b("EditorState")&&b("ReactComposerStatusActions").setEditorState(this.context.composerID,a),this.setState({isFocused:!1})},_onPostIntent:function(){this.context.gks.optimisticPosting?b("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,b("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID):b("ReactComposerActions").postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID})}});e.exports=c}),null);
__d("ReactComposerStatusMentionsUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getMentionsFromEditorState:function(a){__p&&__p();var b=a.getCurrentContent(),c={};b.getBlockMap().forEach(function(a){__p&&__p();var d=a.getText();a.findEntityRanges(function(){return!0},function(e,f){var g=a.getEntityAt(e);if(!g)return;g=b.getEntity(g);if(g.getType()!=="MENTION"||g.getData().type!=="user")return;var h=g.getData().id;c[h]={type:"user",uid:h,text:d.slice(e,f),isWeak:g.getData().isWeak}})});return c}};e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputContainer.react","ReactComposerStatusMentionsUtils","joinClasses"],(function(a,b,c,d,e,f,g){a=b("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputWithTagExpansionContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],render:function(){var a=b("joinClasses")(this.props.className,"_395");return b("React").createElement(b("ReactComposerStatusAttachmentMentionsInputContainer.react"),babelHelpers["extends"]({},this.props,{className:a,onChange:this._onChange,ref:"mentionsInput"}))},focus:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},insertEmoji:function(a){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.insertEmoji(a)},_onChange:function(a){b("ReactComposerStatusActions").setMentions(this.context.composerID,b("ReactComposerStatusMentionsUtils").getMentionsFromEditorState(a)),this.props.onChange&&this.props.onChange(a)}});e.exports=a}),null);
__d("PagesInterceptionPlacementType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGES_COMPOSER:"pages_composer",PAGES_COMPOSER_AFTER_PARTY:"pages_composer_after_party",PAGES_COMPOSER_POST_BUTTON:"pages_composer_post_button"})}),null);
__d("XReactComposerCollectionSelectorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/collections/selector/",{spaces_aware:{type:"Bool",defaultValue:!1}})}),null);
__d("ReactComposerCollectionsStore",["AsyncRequest","LoadObject","ReactComposerActionStore","ReactComposerCollectionsActionTypes","XReactComposerCollectionSelectorController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{collectionsLoadObject:null,isSelectorVisible:!1}},function(a){switch(a.type){case b("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:d&&d.$ReactComposerCollectionsStore1(a);break;case b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:d&&d.$ReactComposerCollectionsStore2(a);break;case b("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:d&&d.$ReactComposerCollectionsStore3(a);break;case b("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:d&&d.$ReactComposerCollectionsStore4(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.loadCollections=function(a){var c=this,d=this.getComposerData(a);d.collectionsLoadObject=b("LoadObject").loading();d=b("XReactComposerCollectionSelectorController").getURIBuilder().setBool("spaces_aware",!0).getURI();new(b("AsyncRequest"))().setURI(d).setMethod("GET").setReadOnly(!0).setHandler(function(d){var b=c.getComposerData(a);d={albums:d.payload.albums};b.collectionsLoadObject=b.collectionsLoadObject.setValue(d).done();c.emitChange(a)}).send()};d.addNewAlbum=function(a,b){this.$ReactComposerCollectionsStore5(a,b)};d.$ReactComposerCollectionsStore5=function(a,b){__p&&__p();var c=this.getCollections(a);if(!c||!c.isDone())return;c=c.getValue();if(c==null)return;c=c.albums;c||(c=[]);c.unshift(b);this.emitChange(a)};d.getCollections=function(a){a=this.getComposerData(a);return a.collectionsLoadObject};d.getCollectionByID=function(a,b){a=this.getComposerData(a);a=a.collectionsLoadObject;if(!a||!a.isDone())return null;a=a.getValue();return a.albums&&a.albums.find(function(a){return a.id===b})};d.isSelectorVisible=function(a){a=this.getComposerData(a);return a.isSelectorVisible};d.$ReactComposerCollectionsStore1=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.collectionsLoadObject||this.loadCollections(a);b.isSelectorVisible=!0;this.emitChange(a)};d.$ReactComposerCollectionsStore2=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isSelectorVisible=!1;this.emitChange(a)};d.isCreationLayerVisible=function(a){a=this.getComposerData(a);return a.isCreationLayerVisible};d.$ReactComposerCollectionsStore3=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isCreationLayerVisible=!0;this.emitChange(a)};d.$ReactComposerCollectionsStore4=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isCreationLayerVisible=!1;this.emitChange(a)};return c}(b("ReactComposerActionStore"));e.exports=new a()}),null);
__d("ReactComposerBootloaderPropTypes",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;e.exports=a.shape({statusAttachment:a.func.isRequired,mediaAttachment:a.func.isRequired,qandaAttachment:a.func,questionAttachment:a.func,visualPollAttachment:a.func,listAttachment:a.func,todoListAttachment:a.func,extraAttachment:a.func,findPlayersAttachment:a.func,salesPromoAttachment:a.func,eventCreationAttachment:a.func,publishJobAttachment:a.func,actionPostAttachment:a.func,ctaAttachment:a.func,localDevPlatformAttachment:a.func,supportNowAttachment:a.func})}),null);
__d("ReactComposerFooterActions.react",["cx","React","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_2ph-",this.props.className);return b("React").createElement(b("XUICardSection.react"),{className:a},this.props.children)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerFooter.react",["cx","ComposerTestID","React","ReactComposerContextTypes","ReactComposerFocusStore","ReactComposerSproutsDisplayState","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.context.gks.lazySproutsExpand&&b("ReactComposerFocusStore").isComposerFocused(this.context.composerID);if(!this.props.showInlineSproutsPostBar&&!a&&this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE)return null;a=b("joinClasses")("_2dck",this.props.className);return b("React").createElement(b("XUICardSection.react"),{background:this.props.background,className:a,"data-testid":b("ComposerTestID").REACT_COMPOSER_FOOTER},this.props.children)};return c}(b("React").PureComponent);a.defaultProps={background:"white"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerFooterContainer.react",["FluxContainer","React","ReactComposerAudienceActions","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerFooter.react","ReactComposerStore","ifRequired","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("ReactComposerAudienceActions").clickSeeMessenger(d.context.composerID)},c)||babelHelpers.assertThisInitialized(d)}c.calculateState=function(a,c,d){return{adsPostSelected:b("ReactComposerAudienceStore").getAdsPePostSelected(d.composerID),instagramSelected:b("ReactComposerAudienceStore").getInstagramSelected(d.composerID),isComposerFocused:b("ifRequired")("ReactComposerFocusStore",function(a){return a.isComposerFocused(d.composerID)},function(){return!1}),sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID),storiesSelected:b("ReactComposerAudienceStore").getStoriesSelected(d.composerID),timelineSelected:b("ReactComposerAudienceStore").getTimelineSelected(d.composerID),selectedMessengerRecipientEntries:b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(d.composerID),messengerSectionVisible:b("ReactComposerAudienceStore").getMessengerSectionVisible(d.composerID)}};c.getStores=function(){var a=[b("ReactComposerStore"),b("ReactComposerAudienceStore")];b("ifRequired")("ReactComposerFocusStore",function(b){a.push(b)});return a};var d=c.prototype;d.render=function(){var a=this.context.gks&&this.context.gks.isSproutsComposer,c=this.props.footerModule||b("ReactComposerFooter.react");return b("React").createElement(c,babelHelpers["extends"]({adsPostSelected:this.state.adsPostSelected,instagramSelected:this.state.instagramSelected,isComposerFocused:this.state.isComposerFocused,sproutsDisplayState:a?this.state.sproutsDisplayState:null,showInlineSproutsPostBar:this.context.gks&&this.context.gks.showInlineSproutsPostBar,storiesSelected:this.state.storiesSelected,timelineSelected:this.state.timelineSelected,selectedMessengerRecipientEntries:this.state.selectedMessengerRecipientEntries,messengerSectionVisible:this.state.messengerSectionVisible,onClickSeeMore:this.$1},this.props))};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerMediaFilePickerController.react",["fbt","Bootloader","CurrentUser","FileInput.react","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){b("ReactComposerAttachmentActions").initializeAttachment(d.context.composerID,b("ReactComposerAttachmentType").MEDIA),b("Bootloader").loadModules(["ReactComposerLoggingActions"],function(a){a.mediaUploadInputClicked(d.context.composerID,d.props.loggingName)},"ReactComposerMediaFilePickerController.react"),d.props.onClick&&d.props.onClick(a)},d.$2=function(a){__p&&__p();a.persist&&a.persist();var c=d.refs.fileInput.getFileInput();if(!d.$4(c.input.files)){b("Bootloader").loadModules(["Dialog"],function(a){var d=g._("Invalid file type"),e;c.input.files.length&&c.input.files[0].type?e=g._("{file type} is not allowed. Please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:",[g._param("file type",c.input.files[0].type)]):e=g._("The file you have selected is not allowed. Please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:");var f;b("CurrentUser").isWorkUser()?f=new(b("URI"))().setProtocol("https").setDomain(document.location.hostname).setPath("/help/work/885144448260143").toString():f="https://www.facebook.com/help/218673814818907";var h=g._("What video file formats can I upload?");h=typeof h==="string"?h.replace(/\"/g,"&#39;"):"";h='<a href="'+f+'" title="'+h+'" target="_blank">'+f+"</a>";new a().setTitle(d).setButtons(a.OK).setBody(e.toString()+" "+h).setSemiModal(!0).show()},"ReactComposerMediaFilePickerController.react");d.props.onFilesSelected&&d.props.onFilesSelected(!1);return}b("Bootloader").loadModules(["ReactComposerPhotoUploader","ReactComposerMediaUtils","ReactComposerLoggingActions"],function(e,f,g){var h=f.handleSpecialMediaUpload(a,c,d.props.mediaConfig,d.context);d.props.onFilesSelected&&d.props.onFilesSelected(h);if(!h){e=new e(d.context,d.props.photoLimit,{disableFaceRecognition:d.props.disableFaceRecognition});!b("ReactComposerAttachmentStore").getIsAttachmentSelected(d.context.composerID,b("ReactComposerAttachmentType").MEDIA)&&!b("ReactComposerAttachmentStore").getIsAttachmentSelected(d.context.composerID,b("ReactComposerAttachmentType").TASK)&&b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,b("ReactComposerAttachmentType").MEDIA,!0,d.props.loggingName);f.uploadPhotosOrVideoFromTarget(d.context.composerID,a.target,e,d.props.targetData.targetSupportsMultiplePhotos,d.props.targetData.targetSupportsMultiMedia)}g.mediaUploadInputDone(d.context.composerID,d.props.loggingName);f.clearInput(c,!h)},"ReactComposerMediaFilePickerController.react")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement(b("FileInput.react"),{"aria-label":g._("Add Photo or Video"),accept:this.$1(),containerClassName:this.props.containerClassName,multiple:this.props.targetData.targetSupportsMultiplePhotos,name:"composer_photo[]",display:this.props.display,onChange:this.$2,onClick:this.$3,ref:"fileInput",role:"button",tabIndex:"0","data-testid":this.props.webDriverTestID},this.props.children)};d.$1=function(){if(this.props.mediaAcceptParam)if(this.props.mediaType=="VIDEO")return this.props.mediaAcceptParam.videos;else if(this.props.mediaType=="PHOTO")return this.props.mediaAcceptParam.photos;else return this.props.mediaAcceptParam.both;return null};d.$4=function(a){if(!(this.props.mediaAcceptParam&&this.props.mediaAcceptParam.both))return!0;var b=this.props.mediaAcceptParam.both.replace(/,\s*/g,"|").replace(/\*/g,".*");b="^("+b+")$";b=new RegExp(b,"i");for(var c=0;c<a.length;++c)if(a[c].type&&!b.test(a[c].type))return!1;return!0};return c}(b("React").PureComponent);a.defaultProps={disableFaceRecognition:!1,display:"inline"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerPhotoTaggerButton.react",["cx","fbt","React","ReactComponentWithPureRenderMixin","TooltipLink.react","VideoUploadConfig","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerPhotoTaggerButton",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{photoLimit:a.number.isRequired,hasData:a.bool,selected:a.bool,multimediaNuxShown:a.bool,onNUXCloseButtonClick:a.func},getDefaultProps:function(){return{hasData:!1,selected:!1}},render:function(){var a=b("joinClasses")("_2vwi _lnh"+(this.props.hasData?" _6xe":""),this.props.className),c=this._renderMultimediaAttachmentsNux(),d=this.props.photoLimit>1,e=b("VideoUploadConfig").allowMultimedia&&this.props.targetData.targetSupportsMultiMedia;d?e?d=h._("Add photos and videos to your post"):d=h._("Add photos or a video to your post"):d=h._("Add a photo or a video to your post");return b("React").createElement(b("TooltipLink.react"),{className:"_3xem","data-testid":"react-composer-photo-tagger",onClick:this._onSelect,tooltip:d},b("React").createElement("span",{className:"accessible_elem"},this.props.photoLimit>1?h._("Add photos"):h._("Add photo")),b("React").createElement("div",{className:a}),c)},_renderMultimediaAttachmentsNux:function(){var a=this;return b("React").createElement(b("XUIAmbientNUX.react"),{position:"below",width:"custom",contextRef:function(){return a.refs.fileInput},customwidth:400,shown:this.props.multimediaNuxShown,onCloseButtonClick:this.props.onNUXCloseButtonClick},h._("You can now add photos and videos to the same post."))}});e.exports=c}),null);
__d("ComposerPostEligibilityEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_POST_ELIGIBILITY:"composer_post_eligibility"})}),null);
__d("ComposerPostEligibilityLoggingUtils",["ComposerPostEligibilityEvents","ComposerXMarauderLogger","ReactComposerAudienceStore","ReactComposerStore","ReactComposerTaggerEligibilityUtils"],(function(a,b,c,d,e,f){"use strict";a={logComposerPostEligibility:function(a){this._log(b("ComposerPostEligibilityEvents").COMPOSER_POST_ELIGIBILITY,a)},_log:function(a,c){var d={is_eligible_for_messenger:!1,is_eligible_for_my_story:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(c),instagram_eligibility:b("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(c),is_my_story_selected:b("ReactComposerAudienceStore").getStoriesSelected(c),is_ads_pe_post_selected:b("ReactComposerAudienceStore").getAdsPePostSelected(c),is_news_feed_selected:b("ReactComposerAudienceStore").getTimelineSelected(c),is_instagram_selected:b("ReactComposerAudienceStore").getInstagramSelected(c)},e=b("ReactComposerStore").getComposerData(c),f=e.actorID;e=e.isActorAPage;e&&(d=babelHelpers["extends"]({},d,{posting_as_page_id:f}));b("ComposerXMarauderLogger").logEvent(a.toLowerCase(),c,{extraData:d})}};e.exports=a}),null);
__d("ReactComposerPostButton.react",["cx","fbt","ComposerTestID","React","XUIButton.react","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getButtonSize=function(){return"medium"};var d=c.prototype;d.render=function(){var a=this.props.disabled&&(this.props.isPosting||!!this.props.isRunningInterception)&&!this.props.hideSpinner,c=b("React").createElement("div",{className:"_2ph- _6q3h"+(a?" _6q3i":"")},b("React").createElement(b("XUISpinner.react"),{background:"dark",size:"small"}));a=b("React").createElement("span",{className:a?"_5gm9":""},this.props.label);var d=this.props.isMediaUploading&&!this.props.timelineSelected||this.props.disabled,e=this.props.showPagesComposerFooterRedesign?"_805t":b("joinClasses")("_1mf7",this.props.className);this.props.showBoostedPostBtnInFooter&&(e=this.props.className);var f=this.props.useDefaultButton===!0&&!this.props.showPagesComposerFooterRedesign?"default":"confirm",g=this.props.showPagesComposerFooterRedesign?"large":"medium";return b("React").createElement(b("XUIButton.react"),{className:e,disabled:d,label:a,image:c,onClick:this.props.onClick,use:f,size:g,"data-testid":b("ComposerTestID").REACT_COMPOSER_POST_BUTTON})};return c}(b("React").PureComponent);c.propTypes={className:a.string,config:a.object,disabled:a.bool,onClick:a.func,label:a.string,isPosting:a.bool,isMediaUploading:a.bool,timelineSelected:a.bool,hideSpinner:a.bool,useDefaultButton:a.bool,isRunningInterception:a.bool,showPagesComposerFooterRedesign:a.bool};c.defaultProps={disabled:!1,label:h._("Post"),useDefaultPostButton:!1};e.exports=c}),null);
__d("ReactComposerPostButtonContainerMixin",["fbt","requireCond","Arbiter","BanzaiODS","BootloadedComponent.react","Bootloader","ComposerConfirmationDialogEventTypedLogger","ComposerDestinationsLoggingUtils","ComposerPostEligibilityLoggingUtils","cr:890473","cr:890474","cr:870126","FBIDCheck","JSResource","PagesComposerContextUtils","PagesComposerPostPreviewButton.react","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAsset3dAttachmentStore","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFormattedTextPickerComponent.react","ReactComposerInit","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingActions","ReactComposerOptimisticPostingStore","ReactComposerPostButton.react","ReactComposerPostDataUtils","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReloadPage","SimpleXUIDialog","XUIButtonGroup.react","$","debounce","ifRequired","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="misinfo_warning_disputed_flags",i="composer_confirmation_dialog_shown",j="composer_posted_anyways";a=b("React").PropTypes;c={contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin").apply(void 0,[b("ReactComposerOptimisticPostingStore"),b("ReactComposerStore"),b("ReactComposerAsset3dAttachmentStore"),b("ReactComposerAudienceStore"),b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerStatusStore"),b("ReactComposerTaggerStore"),b("cr:890473"),b("cr:890474")].filter(function(a){return a!=null}))],propTypes:{config:b("ReactComposerConfig").isRequired,forceDisabled:a.bool,onClickPreprocess:a.func,useDefaultScheduleComponent:a.bool,isMediaUploading:a.bool,isRunningInterception:a.bool},getDefaultProps:function(){return{forceDisabled:!1}},statics:{calculateState:function(a,c,d){var e=b("ReactComposerStore").isPosting(a),f=b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(a),g=b("ReactComposerAsset3dAttachmentStore").isCreating(a);d=b("ReactComposerPostDataUtils").isEmptyAttachment(c.config,d);var h=b("ReactComposerScrapedAttachmentStore").isScraping(a)&&!b("ReactComposerAttachmentStore").isContentMultiShareAttachment(a),i=b("cr:870126")?b("cr:870126").isPostButtonDisabled(a):!1,j=!!b("ReactComposerStatusStore").getMessageText(a).trim(),k=b("ReactComposerAudienceStore").getTimelineSelected(a);return{disabled:d||i||c.forceDisabled||e||f||g||h&&!j,isPosting:e,isOptimisticallyPosting:f,destinationPickerEligible:b("ReactComposerAttachmentStore").isSelectedAttachmentDestinationPickerEligible(a),timelineSelected:k}},getButtonSize:function(){return"medium"}},render:function(){var a=this.props,c=!this.context.gks.optimisticPosting&&(b("PagesComposerContextUtils").getIsDialogComposer(a.config.loggingConfig.ref)||this.context.gks.isDialogComposer);c=b("React").createElement(b("ReactComposerPostButton.react"),babelHelpers["extends"]({},a,{disabled:this.state.disabled,className:a.className,onClick:b("debounce")(this._onClick),isPosting:this.state.isPosting,isMediaUploading:a.isMediaUploading,timelineSelected:this.state.timelineSelected,hideSpinner:c,isRunningInterception:!!a.isRunningInterception,showPagesComposerFooterRedesign:!!((c=this.context)!=null?(c=c.gks)!=null?c.showPagesComposerFooterRedesign:c:c),showBoostedPostBtnInFooter:!!((c=this.context)!=null?(c=c.gks)!=null?c.showBoostedInFooter:c:c)}));if(a.useDefaultScheduleComponent&&a.config.actorConfig!==void 0&&a.config.actorConfig!==null&&a.config.actorConfig.canSchedule&&a.config.actorConfig.timezoneStr){var d=a.config.actorConfig,e=!1;this.context.composerType==="timeline"&&this.context.actorID===this.context.targetID&&b("FBIDCheck").isUser_deprecated(this.context.actorID)&&(e=!0);return b("React").createElement("span",null,b("React").createElement(b("XUIButtonGroup.react"),null,c),b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerUserScheduledPostButton.react").__setRef("ReactComposerPostButtonContainerMixin"),bootloadPlaceholder:b("React").createElement("div",null),composerID:this.context.composerID,isUserTimeline:e,onSchedule:this._onClick,timezoneStr:d.timezoneStr,disabled:this.state.disabled,minScheduledTimeDelta:d.minScheduledTimeDelta,maxScheduledTimeDelta:d.maxScheduledTimeDelta,timezoneOffset:d.timezoneOffset,defaultScheduledTimeDelta:d.defaultScheduledTimeDelta}))}d=!!((e=this.context)!=null?(e=e.gks)!=null?e.showPostPreview:e:e)&&b("React").createElement(b("PagesComposerPostPreviewButton.react"),{config:a.config,isPostButtonDisabled:this.state.disabled,isTimelineSelected:this.state.timelineSelected});return b("React").createElement(b("React").Fragment,null,d,c)},_onClick:function(a){__p&&__p();var c=this;a=this.props;this.state.destinationPickerEligible&&(this.context.gks.oneStepComposer||this.context.gks.showPagesDestinationPicker)&&b("ComposerDestinationsLoggingUtils").logComposerDestinationsSubmitClicked(this.context.composerID);b("ComposerPostEligibilityLoggingUtils").logComposerPostEligibility(this.context.composerID);if(this.state.disabled)return;if(a.onClickPreprocess&&!a.onClickPreprocess())return;b("ifRequired")("ReactComposerFormattedTextStore",function(a){c._checkEmptyTextWithBackgroundColor(a)},function(){c._validateAndStartPost()})},_checkEmptyTextWithBackgroundColor:function(a){var c=this,d=b("ReactComposerStatusStore").getTextLength(this.context.composerID);a=a.getBackgroundColorIsActive(this.context.composerID);d===0&&a?b("Bootloader").loadModules(["XUIDialogButton.react"],function(a){a=b("React").createElement("div",null,b("React").createElement(a,{action:"cancel",label:g._("Go Back")}),b("React").createElement(a,{action:"cancel",label:g._("Post"),onClick:function(){c._removeBackground(),c._validateAndStartPost()},use:"confirm"}));b("SimpleXUIDialog").showEx(g._("The background that you selected will only appear when you add text to your post."),g._("Post without background?"),a)},"ReactComposerPostButtonContainerMixin"):this._validateAndStartPost()},_handleDisputedWarningConfirmation:function(a){b("BanzaiODS").bumpEntityKey(2966,h,j),new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("confirm").setEventLocation("composer").setCorrelationID(a).log()},_handleDisputedWarningCancellation:function(a){new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("cancel").setEventLocation("composer").setCorrelationID(a).log()},_handleDisputedWarningShowing:function(a){b("BanzaiODS").bumpEntityKey(2966,h,i),new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("shown").setEventLocation("composer").setCorrelationID(a).log()},_validateAndStartPost:function(){__p&&__p();var a=this;if(this._validateAlbumAddition()===!1){b("SimpleXUIDialog").show(g._("Album posts must contain at least one photo or video. Please add a photo or video to your post, or remove the album selection."),g._("Cannot add post to album"));b("BanzaiODS").bumpEntityKey(2966,"www_composer_albumsv2","error_no_media");return}var c=this.context.composerID,d=b("ReactComposerScrapedAttachmentStore").getPostConfirmationDialog(c),e=d==null?b("uuid")():d.getRoot().id;if(d){var f=b("ReactComposerScrapedAttachmentStore").getHasDisputedWarning(c),h=d.subscribe("confirm",function(){d.hide(),d.destroy(),f&&a._handleDisputedWarningConfirmation(e),a._doStartPost()}),i=d.subscribe("cancel",function(){f&&a._handleDisputedWarningCancellation(e)}),j=d.subscribe("show",function(){f&&a._handleDisputedWarningShowing(e)}),k=d.subscribe("hide",function(){h.unsubscribe(),i.unsubscribe(),j.unsubscribe(),k.unsubscribe()});d.show();return}else this._doStartPost()},_removeBackground:function(){var a=this;b("Bootloader").loadModules(["ReactComposerFormattedTextActions"],function(c){c.setSelectedIndex(a.context.composerID,b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)},"ReactComposerPostButtonContainerMixin")},_validateAlbumAddition:function(){var a=this.context.composerID,c=b("ReactComposerAudienceStore").getCollectionID(a);if(!c)return!0;c=b("ReactComposerMediaUploadStore").getUploads(a);return c&&c.size>0?!0:this.context.gks&&this.context.gks.addAnyPostToAlbum},_doStartPost:function(){__p&&__p();var a=this.props,c=b("ReactComposerAudienceStore").getTimelineSelected(this.context.composerID);if(this.context.gks.optimisticPosting&&c)b("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,a.config,b("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID);else{b("ReactComposerActions").postStarted(this.context.composerID,{actorID:this.context.actorID,config:a.config,targetID:this.context.targetID,onPostSuccess:(c=a.config.postButtonConfig)==null?void 0:c.onPostSuccess})}if(a.config.dialogComposer)if(this.context.gks.optimisticPosting&&!a.config.dialogComposerRefreshOnPost)b("Arbiter").subscribe(b("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+this.context.composerID,function(){a.config.dialogHideOnEvent!==void 0&&b("Arbiter").inform(a.config.dialogHideOnEvent)}),b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.context.composerID,function(a,c){b("ReactComposerInit").unmountInstance(c.newComposerID)});else if(a.config.dialogElementID!==void 0){c=b("$")(a.config.dialogElementID);c.parentNode&&c.parentNode.removeChild(c);b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.context.composerID,function(a,c){b("ReactComposerInit").unmountInstance(c.newComposerID),b("ReloadPage").delay(0)})}}};e.exports=c}),null);
__d("ReactComposerPostButtonContainer.react",["React","ReactComposerPostButtonContainerMixin"],(function(a,b,c,d,e,f){a=b("React").createClass({displayName:"ReactComposerPostButtonContainer",mixins:[b("ReactComposerPostButtonContainerMixin")]});e.exports=a}),null);
__d("XGroupsMembersAddedDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/groups/members/add_post/",{group_id:{type:"FBID"},refresh:{type:"Bool",defaultValue:!1},remove_dom:{type:"Bool",defaultValue:!1},message_id:{type:"String"},ref:{type:"String"},source:{type:"Enum",enumType:1},ignore:{type:"Bool",defaultValue:!1},block_user:{type:"Bool",defaultValue:!1},message:{type:"String"},recommendation_key:{type:"String"},members:{type:"StringKeyset"},freeform:{type:"StringKeyset"},free_member:{type:"Bool",defaultValue:!1},multi_company_confirm:{type:"Bool",defaultValue:!1}})}),null);
__d("ReactComposerAsset3dAttachment.react",["fbt","Asset3DInput","FluxContainer","React","ReactComposerAsset3dAttachmentStore","ReactComposerAsset3DComponent.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLazyProfilePhotoBlock.react","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerStatusFooterContainer.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ReactComposerAsset3dAttachmentStore")]};c.calculateState=function(a,c,d){return{asset3dInput:b("ReactComposerAsset3dAttachmentStore").getAsset3DInput(d.composerID)}};var d=c.prototype;d.$1=function(){var a=this.state.asset3dInput&&this.state.asset3dInput.type==b("Asset3DInput").COLOR_DEPTH_PAIR;return a?g._("Say something about this 3D Photo..."):g._("Say something about this 3D Post...")};d.render=function(){var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],c=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").ASSET_3D],d=this.props;return b("React").createElement("div",null,b("React").createElement(b("ReactComposerLazyProfilePhotoBlock.react"),{config:this.props.config,profilePicSrc:a.profilePicSrc,profileURI:a.profileURI,useVoiceSwitcher:!1},b("React").createElement(b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{config:this.props.config,placeholder:this.$1()})),b("React").createElement(b("ReactComposerAsset3DComponent.react"),{composerID:this.context.composerID,actorID:this.context.actorID,asset3dInput:this.state.asset3dInput,showCloseButton:c&&c.showCloseButton!==void 0?c.showCloseButton:!0,showContextButton:c&&c.showContextButton!==void 0?c.showContextButton:!1}),b("React").createElement(b("ReactComposerStatusFooterContainer.react"),babelHelpers["extends"]({},d,{attachmentsConfig:d.config.attachmentsConfig,audienceXHP:d.config.audienceXHP,config:d.config,isCameraIconEnabled:!1,mediaAcceptParam:d.config.mediaAcceptParam,taggersConfig:d.config.taggersConfig,targetData:d.config.targetData})))};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withProps:!0,withContext:!0})}),null);
__d("ReactComposerAttachmentBodyMixin",["invariant","ReactComponentWithPureRenderMixin","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin"],(function(a,b,c,d,e,f,g){__p&&__p();function a(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];c=c.concat(b("ReactComposerAttachmentStore"));return{contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin").apply(this,c)],statics:{beforeCalculateInitialState:function(a,c){var d=this.getAttachmentConfig?this.getAttachmentConfig(c):c.config&&c.config.attachmentsConfig&&c.config.attachmentsConfig[this.attachmentID];b("ReactComposerAttachmentActions").registerAttachment(a,{id:this.attachmentID,selected:c.selected,active:c.prefillConfig&&c.prefillConfig.shouldActivateSelectedAttachment,config:d})},calculateState:function(a,c){return Object.assign({selected:b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,this.attachmentID)},this.calculateAttachmentState?this.calculateAttachmentState(a,c):{})}},UNSAFE_componentWillMount:function(){this.constructor.attachmentID||g(0,2981),this.constructor.attachmentID||g(0,2982)},render:function(){return!this.state.selected?null:this.renderX()}}}e.exports=a}),null);
__d("ReactComposerAsset3dEagerAttachment.react",["React","ReactComposerAsset3dAttachment.react","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentType","ReactComposerConfig"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerAsset3dEagerAttachment",mixins:[b("ReactComposerAttachmentBodyMixin")()],propTypes:{config:b("ReactComposerConfig").isRequired,selected:a.bool},statics:{attachmentID:b("ReactComposerAttachmentType").ASSET_3D},renderX:function(){return b("React").createElement(b("ReactComposerAsset3dAttachment.react"),this.props)}});e.exports=c}),null);
__d("ReactComposerLoadableAttachmentBodyMixin",["cx","invariant","React","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentInitState","ReactComposerAttachmentLoader","ReactComposerAttachmentPlaceholder.react","ReactComposerAttachmentStore","ReactComposerStore"],(function(a,b,c,d,e,f,g,h){__p&&__p();a={mixins:[b("ReactComposerAttachmentBodyMixin")(b("ReactComposerAttachmentStore"))],statics:{calculateAttachmentState:function(a,c){c=b("ReactComposerAttachmentStore").getAttachment(a,this.attachmentID);var d=b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,this.attachmentID);a=b("ReactComposerStore").isActive(a);return{composerIsActive:a,initState:c&&c.initState,attachmentModule:c&&c.module,bootstrapped:c&&c.bootstrapped,postButtonModule:c&&c.postButtonModule,isSelected:d,attachmentID:this.attachmentID}}},UNSAFE_componentWillMount:function(){this.constructor.attachmentID||h(0,2069),this.props.selected&&this._shouldInitialize()&&this._initialize()},componentDidUpdate:function(a,c){this.state.initState===b("ReactComposerAttachmentInitState").INITIALIZING&&this._shouldInitialize()&&this._initialize()},renderX:function(){if(!this.state.attachmentModule||!this.state.bootstrapped){var a=this.getPlaceholderModule&&this.getPlaceholderModule();a=a?a:b("ReactComposerAttachmentPlaceholder.react");return b("React").createElement(a,babelHelpers["extends"]({className:"_3rlw"},this.props))}a=this.state.attachmentModule;return b("React").createElement(a,babelHelpers["extends"]({},this.props,{postButtonModule:this.state.postButtonModule}))},_shouldInitialize:function(){return this.constructor.initOnlyWhenComposerActive?this.state.composerIsActive:!0},_initialize:function(){b("ReactComposerAttachmentLoader").load(this.context.composerID,this.constructor.attachmentID,this.bootload,this.getBootstrapURI())}};e.exports=a}),null);
__d("XReactComposerListAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/list/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0}})}),null);
__d("ReactComposerListLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerListAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerListLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:b("ReactComposerAttachmentType").LIST},propTypes:{selected:a.bool,bootload:a.func,bootloader:b("ReactComposerBootloaderPropTypes")},bootload:function(a){this.props.bootload?this.props.bootload(a):this.props.bootloader&&this.props.bootloader.listAttachment?this.props.bootloader.listAttachment(a):b("Bootloader").loadModules(["ReactComposerListAttachmentContainer.react","ReactComposerListPostButtonContainer.react"],a,"ReactComposerListLazyAttachment.react")},getBootstrapURI:function(){return b("ActorURI").create(b("XReactComposerListAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});e.exports=c}),null);
__d("ReactComposerAttachmentPreviewContainer.react",["csx","cx","fbt","Arbiter","CSS","DOM","Event","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentPreview.react","ReactComposerConstants","ReactComposerContextTypes","ReactComposerEventAttachmentStore","ReactComposerEvents","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerMinutiaeAttachmentStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerWorkFileStore","ReactDOM","XUICloseButton.react","suiMargin","ifRequired","requireCond","cr:859824","cr:864129"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("ReactComposerWorkFileStore").module;c=b("React").PropTypes;d=[b("ReactComposerEventAttachmentStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerMinutiaeAttachmentStore"),b("ReactComposerLocationAttachmentStore"),b("ReactComposerTaggerStore")];a&&d.push(a);f=b("React").createClass({displayName:"ReactComposerAttachmentPreviewContainer",_buttonEvent:void 0,_prefillSubscription:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin").apply(void 0,d)],propTypes:{markup:c.instanceOf(HTMLElement),spinner:c.element,isAttachmentBreaking:c.bool},statics:{calculateState:function(a,c){c=b("ReactComposerScrapedAttachmentStore").getMarkup(a);var d=b("ReactComposerScrapedAttachmentStore").isReadOnly(a),e=b("ReactComposerMinutiaeAttachmentStore").getMarkup(a),f=b("ReactComposerLocationAttachmentStore").getMarkup(a),g=b("ReactComposerEventAttachmentStore").getMarkup(a),h=b("ReactComposerScrapedAttachmentStore").isScraping(a)||b("ReactComposerMinutiaeAttachmentStore").isFetching(a)||b("ReactComposerLocationAttachmentStore").isFetching(a)||b("ReactComposerEventAttachmentStore").isFetching(a),i=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").FUN_FACT),j=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").FUNDRAISER);(i||j)&&(e=null,f=null,g=null,h=b("ReactComposerScrapedAttachmentStore").isScraping(a));i=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").BREAKING_NEWS);return{isAttachmentBreaking:i,markup:c||e||g||f,showSpinner:h,showRemoveButton:c&&d,title:null}}},componentDidMount:function(){this._prefillSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill),this._cleanupButtonEvent(),this._setButtonEvent()},componentDidUpdate:function(){this._setButtonEvent()},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null,this._cleanupButtonEvent()},render:function(){this._updateBreakingFromPreview();var a=this.state.markup&&!this.state.showSpinner?b("React").createElement("div",{"data-testid":"attachment-preview-body",className:"_2ane"},b("React").createElement(b("ReactComposerAttachmentPreview.react"),{isAttachmentBreaking:this.state.isAttachmentBreaking,ref:"attachment",markup:this.state.markup}),this._renderRemoveButton()):null;return b("React").createElement("div",{"data-testid":"attachment-preview"},this._renderSpinner(),a)},_handlePrefill:function(){var a=this,c=b("ReactComposerPrefillStore").getAndEraseField(this.context.composerID,"attachmentPreviewData");c&&(c.scrapedAttachment?(c.scrapedAttachment.markup?b("ReactComposerScrapedAttachmentActions").setScrapedAttachmentWithoutLogging(this.context.composerID,c.scrapedAttachment.markup,c.scrapedAttachment.attachmentConfig):c.minutiaeAttachment.markup&&b("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,c.minutiaeAttachment.markup),b("cr:864129")&&c.fileAttachment&&c.fileAttachment.attachedFilesData&&(c.fileAttachment.attachedFilesData.forEach(function(c){var d=c.data;c=c.config;b("cr:864129").prefillFileData(a.context.composerID,d,c)}),b("ReactComposerScrapedAttachmentActions").setIsContentMultiShareAttachment(this.context.composerID,!0)),b("cr:859824")&&c.scrapedAttachment.isMultiAttachments&&(c.scrapedAttachment.multiAttachmentsData.forEach(function(c){var d=c.data;c=c.config;b("cr:859824").setScrapedContentAttachmentWithoutLogging(a.context.composerID,c,d)}),b("ReactComposerScrapedAttachmentActions").setIsContentMultiShareAttachment(this.context.composerID,!0))):c.scrapedURL&&b("ReactComposerScrapedAttachmentActions").scrapeAttachment(this.context.composerID,this.context.targetID,c.scrapedURL,this.context.composerType,this.context.actorID,b("ReactComposerLoggingName").INLINE_COMPOSER))},_renderRemoveButton:function(){return!this.state.markup||!this.state.showRemoveButton?null:b("React").createElement("div",{className:"_2anf"},b("React").createElement(b("XUICloseButton.react"),{className:"_2anh",size:"medium",shade:"light",onClick:this._clearAttachment}))},_renderSpinner:function(){if(!this.state.showSpinner)return null;var a=this.state.title?b("React").createElement("span",{className:"_239x"},this.state.title):null;return b("React").createElement("div",{className:"_239z"},this.props.spinner,b("React").createElement("div",{className:"_3-8y"},a,i._("Fetching preview")))},_setButtonEvent:function(){var a=this;if(this.refs.attachment){var c=b("DOM").scry(b("ReactDOM").findDOMNode(this.refs.attachment),"._9s")[0];c&&(this._buttonEvent=b("Event").listen(c,"click",function(b){b.preventDefault(),a._clearAttachment(),a._buttonEvent&&a._buttonEvent.remove(),a._buttonEvent=null}));b("Arbiter").inform("react_composer_dom_ready/"+this.context.composerID)}},_clearAttachment:function(){__p&&__p();var a=this;b("ReactComposerScrapedAttachmentActions").clearScrapedAttachment(this.context.composerID,b("ReactComposerLoggingName").LINK_REMOVE_BUTTON);b("cr:859824")&&b("cr:859824").clearAllWorkContentAttachments(this.context.composerID);b("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null);b("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null);b("ifRequired")("ReactComposerEventAttachmentActions",function(b){return b.setMarkup(a.context.composerID,null,null)});b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").LINK_REMOVE_BUTTON,b("ReactComposerTaggerType").GIF,{gifData:null});b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").LINK_REMOVE_BUTTON,b("ReactComposerTaggerType").VIDEO_SUGGESTIONS,{videoID:null});b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").LINK_REMOVE_BUTTON,b("ReactComposerTaggerType").RECRUITING_CANDIDATE,null);b("ReactComposerMinutiaeAttachmentActions").setHideAttachment(this.context.composerID,!0);b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").BREAKING_NEWS,b("ReactComposerTaggerType").BREAKING_NEWS,{})},_cleanupButtonEvent:function(){this._buttonEvent&&this._buttonEvent.remove()},_getContentAndFooterForBreaking:function(a){var c=null,d=null,e=null;b("ifRequired")("LitestandShareAttachment",function(b){c=b.getContentNode(a),d=b.getDetailsFooterBrandName(a),e=b.getTitleNode(a)});return{content:c,footer:d,title:e}},_updateBreakingFromPreview:function(){__p&&__p();if(!this.state.markup||!this.context.gks[b("ReactComposerConstants").GK_PAGE_BREAKING_COMPOSER])return;var a=this.state.markup;if(a==null)return;a=this._getContentAndFooterForBreaking(a);var c=a.content,d=a.footer;a=a.title;var e=this.state.isAttachmentBreaking;e=e?"addClass":"removeClass";c&&b("CSS")[e](c,"_649o");d&&b("CSS")[e](d,"_2dbs");a&&b("CSS")[e](a,"_2dbt")},getHTMLRootNode:function(){if(!this.state.markup)return null;var a=null;typeof this.state.markup.getRootNode==="function"&&(a=this.state.markup.getRootNode());return a}});e.exports=f}),null);
__d("ReactComposer.react",["cx","ComposerTestID","FluxContainer","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerInit","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerLoggingQueue","ReactComposerSessionMetricsStore","ReactComposerStore","ReactDOM","XUICard.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasBeenActive:!1,isActive:!1},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ReactComposerStore"),b("ReactComposerSessionMetricsStore")]};c.calculateState=function(a,c,d){a=d.composerID;return{isActive:b("ReactComposerStore").isActive(a)}};var d=c.prototype;d.componentDidMount=function(){b("ReactComposerActions").initConfig(this.context.composerID,this.props.loggingConfig,this.context.gks&&this.context.gks.lazySproutsExpand,this.props.activateOnInit,this.props.sproutsConfig,this.props.promotedSprout,this.props.activateOnInitEntryPoint),this.props.activateOnInit&&b("ReactComposerLoggingActions").composerEntry(this.context.composerID,this.props.activateOnInitEntryPoint)};d.componentDidUpdate=function(a,c){this.state.isActive&&!this.state.hasBeenActive&&(this.setState({hasBeenActive:!this.state.hasBeenActive}),b("ReactComposerLoggingQueue").initBootload(this.context.composerID,b("ReactDOM").findDOMNode(this),this.context.targetID,this.props.loggingConfig))};d.componentWillUnmount=function(){b("ReactComposerInit").unmountInstance(this.context.composerID,!0)};d.render=function(){var a="_36bx"+(this.props.hideBorders?" _4a60":"");return b("React").createElement(b("XUICard.react"),{className:b("joinClasses")(this.props.className,a),"data-testid":b("ComposerTestID").REACT_COMPOSER_ROOT,"data-test-actorid":this.context.actorID,id:this.context.composerID},this.props.children)};return c}(b("React").PureComponent);a.defaultProps={hideBorders:!1,activateOnInit:!1,activateOnInitEntryPoint:b("ReactComposerLoggingName").OTHERS};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerBodyContainer.react",["cx","FluxContainer","React","ReactComposerAttachmentStore","ReactComposerBody.react","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").isSelectedAttachmentActive(d.composerID);return{active:a}};c.getStores=function(){return[b("ReactComposerAttachmentStore")]};var d=c.prototype;d.render=function(){var a=(this.state.active&&this.props.hasMinHeight?"_5xv3":"")+(this.props.expanded?" _4cw":"");return b("React").createElement(b("ReactComposerBody.react"),{className:a},this.props.children)};return c}(b("React").PureComponent);a.defaultProps={expanded:!1,hasMinHeight:!0};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("CollectionThumbnail.react",["cssVar","cx","fbt","BackgroundImage.react","Focus","React","isKeyActivation","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){b("isKeyActivation")(a)&&(d.props.onClick&&d.props.onClick(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.focus=function(){b("Focus").set(this.$1,!0)};d.render=function(){var a=this;return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_2vw6"),onClick:this.props.onClick,onKeyDown:this.$2,tabIndex:0,ref:function(b){return a.$1=b},role:"button"},b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"cover",height:parseInt("140px",10),src:this.props.thumbnailURL,width:parseInt("140px",10)}),b("React").createElement("div",{className:"_3iom"},b("React").createElement("div",{className:"_3ion"},b("React").createElement(b("BackgroundImage.react"),{backgroundPosition:"100% 50%",className:"_1x7m",height:12,src:this.props.privacyIcon,width:12}),this.props.collectionName),b("React").createElement("div",{className:"_3ioo"},i._({"*":"{number of posts} posts","_1":"1 post"},[i._plural(this.props.numPosts,"number of posts")]))))};return c}(b("React").PureComponent);c.propTypes={collectionID:a.oneOfType([a.string,a.number]).isRequired,collectionName:a.string.isRequired,className:a.string,numPosts:a.number.isRequired,onClick:a.func,thumbnailURL:a.string.isRequired,privacyIcon:a.string};e.exports=c}),null);
__d("ReactComposerCollectionsActions",["ReactComposerCollectionsActionTypes","ReactComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={showCollectionsSelector:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR})},hideCollectionsSelector:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR})},hideCollectionsSelectorWithoutLogging:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR})},showCreationLayer:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER})},hideCreationLayer:function(a,c,d){d===void 0&&(d=!1),b("ReactComposerDispatcher").dispatch({composerID:a,isCancel:d,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER})},showSharingSpaceCreationLayer:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER})},hideSharingSpaceCreationLayer:function(a,c,d){d===void 0&&(d=!1),b("ReactComposerDispatcher").dispatch({composerID:a,isCancel:d,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER})},spacesLoaded:function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SPACE_SELECTOR_LOADED,spaceCount:d})}};e.exports=a}),null);
__d("ReactComposerCollectionSelector.react",["ix","cx","fbt","AccessibleLayer","CollectionThumbnail.react","ContextualLayer.react","ContextualLayerAutoFlip","Grid.react","ReactComposerAudienceActions","ReactComposerCollectionsActions","ReactComposerCollectionsStore","ReactComposerLoggingName","InlineBlock.react","Image.react","LayerAutoFocus","LayerHideOnEscape","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerTabIsolation","Link.react","ShimButton.react","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","XUIPopoverButton.react","XUISpinner.react","ReactComposerContextTypes","React","ReactDOM","fbglyph","focusWithinLayer","ifRequired","isKeyActivation"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Grid.react").GridItem;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$3=function(){d.props.selectorVisible||b("ReactComposerCollectionsActions").showCollectionsSelector(d.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_SELECTOR_BUTTON)},d.$4=function(a){b("isKeyActivation")(a)&&d.$5(a.nativeEvent)},d.$5=function(a){b("ReactComposerAudienceActions").setCollectionID(d.context.composerID,b("ReactComposerLoggingName").COLLECTION_CLEAR_BUTTON,null),a.stopPropagation()},d.$6=function(a,c){c===void 0&&(c=b("ReactComposerLoggingName").OTHERS),!a&&d.props.selectorVisible&&b("ReactComposerCollectionsActions").hideCollectionsSelector(d.context.composerID,c)},d.$7=function(){b("ReactComposerCollectionsActions").hideCollectionsSelectorWithoutLogging(d.context.composerID),b("ReactComposerCollectionsActions").showCreationLayer(d.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_SELECTOR_CREATE_BUTTON)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a,c){__p&&__p();if(this.props.selectorVisible&&!a.selectorVisible&&this.props.selectedCollectionID){c=b("ReactDOM").findDOMNode(this.refs[this.props.selectedCollectionID]);if(c!==null&&this.$1!==null){var d=b("ReactDOM").findDOMNode(this.$1);d!==null&&(d.scrollTop=c.offsetTop)}}if(a.collections&&a.collections.isLoading()&&this.props.collections&&!this.props.collections.isLoading()){d=b("ReactDOM").findDOMNode(this.$2);d&&b("focusWithinLayer")(d,!0)}};d.$8=function(a){var c=this;a.id==this.props.selectedCollectionID?b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_SELECTED,null):b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_SELECTED,a.id,a.privacyLabel);this.$6(!1,b("ReactComposerLoggingName").COLLECTION_SELECTED);b("ifRequired")("ReactComposerPostToGroupActions",function(a){return a.unselectTab(c.context.composerID)})};d.$9=function(a){if(a==null)return null;a=b("ReactComposerCollectionsStore").getCollectionByID(this.context.composerID,a);return a?a.name:null};d.$10=function(a){if(a){a=this.$9(a);if(a)return a}return i._("+ Album").toString()};d.$11=function(){return b("React").createElement(b("ShimButton.react"),{className:(this.props.selectedCollectionID?"":"autofocus")+" _2vw6 _1xp0",key:"addAlbumButton",onClick:this.$7},b("React").createElement("div",{className:"_1xp2"},b("React").createElement("div",{className:"_1xp3"}),i._("Create Album")))};d.$12=function(){return b("React").createElement("div",{key:"albumsNullState",className:"_1d5t"},b("React").createElement("span",{className:"_1d5u"}),b("React").createElement("div",{className:"_1d5v"},i._("No albums to show")),b("React").createElement(b("XUIButton.react"),{label:i._("Create Album"),use:"confirm",onClick:this.$7}))};d.$13=function(){var a=this.props.collections&&this.props.collections.getValue(),b=this.$11();return!a||!a.albums||a.albums.length===0?this.$12():this.$14("albumsGrid",b,a.albums)};d.$14=function(a,c,d){var e=this;c=[c];d&&c.push(d.map(function(a){return b("React").createElement(j,{ref:a.id,key:a.id,className:a.id===e.props.selectedCollectionID?"_5zfq":""},b("React").createElement(b("CollectionThumbnail.react"),{className:a.id===e.props.selectedCollectionID?"autofocus":"",collectionID:a.id,collectionName:a.name,numPosts:a.numPosts,onClick:function(){return e.$8(a)},thumbnailURL:a.thumbnailURL,privacyIcon:a.privacyIcon}))}));return b("React").createElement(b("Grid.react"),{key:a,className:"_1d5w",cols:2,fixed:!1},c)};d.$15=function(){var a=this;if(!this.props.collections)return null;else return b("React").createElement(b("ContextualLayer.react"),{behaviors:{AccessibleLayer:b("AccessibleLayer"),ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),LayerAutoFocus:b("LayerAutoFocus"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerTabIsolation:b("LayerTabIsolation")},contextRef:function(){return a.refs.collectionSelectorTrigger},onToggle:this.$6,position:"below",shown:this.props.selectorVisible},b("React").createElement(b("XUICard.react"),{className:"_5ze9"},b("React").createElement(b("XUICardHeader.react"),{className:"_5zea",type:"primary"},b("React").createElement(b("XUICardHeaderTitle.react"),null,i._("Albums"))),b("React").createElement(b("XUICardSection.react"),{ref:function(b){return a.$1=b},className:"_5zeh"},!this.props.collections||this.props.collections.isLoading()?b("React").createElement("div",{className:"_2n10"},b("React").createElement(b("XUISpinner.react"),{size:"large"})):b("React").createElement("div",{ref:function(b){return a.$2=b}},this.$13()))))};d.$16=function(){return null};d.$17=function(){var a=this;return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.collectionSelectorTrigger},shown:this.props.showAnyPostTypeNux,onCloseButtonClick:this.props.onAnyPostTypeNuxClose,position:this.props.alternateTriggerComponent?"below":"above"},i._("You can now add posts, check-ins and more to albums"))};d.render=function(){var a=!!this.$9(this.props.selectedCollectionID);return b("React").createElement(b("InlineBlock.react"),{className:"uiContextualLayerParent"},this.props.alternateTriggerComponent?b("React").createElement(b("Link.react"),{role:"button",onClick:this.$3,ref:"collectionSelectorTrigger"},this.props.alternateTriggerComponent):b("React").createElement(b("XUIPopoverButton.react"),{className:"_5ze8",label:this.$10(this.props.selectedCollectionID),onClick:this.$3,ref:"collectionSelectorTrigger",use:"confirm",chevron:a?b("React").createElement(b("Image.react"),{onClick:this.$5,onKeyDown:this.$4,role:"button",src:g("114707"),tabIndex:0}):null}),this.$15(),this.$16(),this.props.onAnyPostTypeNuxVisible&&this.$17())};return c}(b("React").PureComponent);a.defaultProps={collections:null,creationLayerVisible:!1,selectedCollectionID:null,selectorVisible:!1,showAnyPostTypeNux:!1,onAnyPostTypeNuxVisible:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerCollectionSelectorContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerAudienceStore","ReactComposerCollectionSelector.react","ReactComposerCollectionsStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerSproutsDisplayState","ReactComposerStore","SimpleNUXMessage","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerCollectionSelectorContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAudienceStore"),b("ReactComposerCollectionsStore"))],propTypes:{alternateTriggerComponent:a.element,addAnyPostToAlbum:a.bool},statics:{calculateState:function(a,c,d){return{collections:b("ReactComposerCollectionsStore").getCollections(a),selectedCollectionID:b("ReactComposerAudienceStore").getCollectionID(a),isSelectorVisible:b("ReactComposerCollectionsStore").isSelectorVisible(a),isCreationLayerVisible:b("ReactComposerCollectionsStore").isCreationLayerVisible(a),showAnyPostTypeNux:c.addAnyPostToAlbum&&!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW),sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID)}}},_onAnyPostTypeNuxClose:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW),this.setState({showAnyPostTypeNux:!1})},render:function(){return b("React").createElement(b("ReactComposerCollectionSelector.react"),{alternateTriggerComponent:this.props.alternateTriggerComponent,collections:this.state.collections,creationLayerVisible:this.state.isCreationLayerVisible,selectedCollectionID:this.state.selectedCollectionID,selectorVisible:this.state.isSelectorVisible,showAnyPostTypeNux:this.state.showAnyPostTypeNux,onAnyPostTypeNuxClose:this._onAnyPostTypeNuxClose,onAnyPostTypeNuxVisible:this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED})}});e.exports=c}),null);
__d("CreatorStudioComposerActions",["MediaManagerActionTypes","MediaManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;function a(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_COMPOSER_INITIALIZED})}function c(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_SUCCESS})}function d(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_ATTEMPT})}function f(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_CANCEL})}function h(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_CONFIRM})}function i(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_GO_LIVE_ERROR})}function j(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_GO_LIVE_INITIALIZED})}function k(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_BASIC_POST,entryPoint:a})}function l(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_BULK_UPLOAD})}function m(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_GO_LIVE_POST,entryPoint:a})}function n(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_VIDPRESSO_NEW_POST,entryPoint:a})}function o(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_SINGLE_VIDEO,fileInput:a,entryPoint:c})}function p(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_BOOTLOAD_ERROR})}function q(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_SET_TARGET_PAGE,targetPage:a})}function r(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_VIDEO_COMPOSER_INITIALIZED})}function s(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_VIDEO_COMPOSER_PUBLISH_SUCCESS})}function t(a){b("MediaManagerDispatcher").dispatch({type:g.LLVC_LAUNCH_CHANNEL_COMPOSER,entryPoint:a})}e.exports={basicPostComposerInitialized:a,basicPostSuccess:c,closeTrayAttempt:d,closeTrayCancel:f,closeTrayConfirm:h,goLiveComposerError:i,goLiveComposerInitialized:j,launchBasicPostTray:k,launchComposerBulkUpload:l,launchGoLivePost:m,launchSingleVideoComposer:o,launchVidpressoNewPost:n,setBasicPostBootloadError:p,setTargetPage:q,videoComposerInitialized:r,videoComposerPublishSuccess:s,launchLinearChannelPost:t}}),null);
__d("CreatorStudioComposerTypes",["EditorState","ExpirationType","ImmutableRecordWithV4Types","VideoComposerPostType","VideoComposerPublishingTypes","VideoComposerScheduleType","VideoComposerTagSuggestionSources","getMentionsInputDecorator","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;c=b("VideoComposerPostType").VideoComposerPostTypes;d=b("VideoComposerPublishingTypes").PublishingType;f=b("VideoComposerScheduleType").DEFAULT_DISABLED_SCHEDULE_TYPES;var g=a({accessToken:"",historyTags:null,mentionsSearchSource:null,suggestedTags:null,taggingGrowthExperimentEnabled:!1}),h=a({id:"",title:null,icon:null,onClick:function(a){},shouldShow:!1,buttonWidth:0});f=a({backdateDay:null,backdateMonth:null,backdateYear:null,disabledScheduleTypesMap:f,expireDate:null,expireType:b("ExpirationType").NONE,hideFromNewsFeed:!1,isFundedContent:!1,minBackdateTime:0,publishingType:d.PUBLISH_NOW,postType:c.VIDEO_UPLOAD,premiereCSType:"premiere",premiereDate:null,premiereDisabledReason:null,premiereFeedBackgroundImageURL:null,scheduleDate:null,shouldPremiere:!1,showPremiereOption:!1,showPremiereNowOption:!1,showPremiereUnderSchedule:!1,showBestPracticesChecklist:!1,isUsingLivingRoomPlayer:!1,videoComposerPremiereInfoBoxTitle:null,videoComposerPremiereInfoBoxDesc:null});d=a({error:null,success:!1});c=a({descriptionEditorState:b("EditorState").createEmpty(b("getMentionsInputDecorator")()),title:"",contentTags:[],selectedThumbnail:null,customThumbnail:null,scrubbedThumbnail:null,publishingData:f(),tagSuggestionSource:b("VideoComposerTagSuggestionSources").BROWSE});b=a({description:!0,tags:!0,title:!0,thumbnail:!0,publishingData:!0});a=a({title:!1,description:!1,tags:!1,thumbnail:!1,publishingData:!1});e.exports={ComposerPostTypeConfigFactory:h,CrosspostFieldReplicationFlagsRecordFactory:b,MultipostInlineInputRecordFactory:c,MultipostCrosspostPublishingDataRecordFactory:f,MultipostCrosspostCreationResultDataRecordFactory:d,MultipostInlineLoggingFlagsRecordFactory:a,MultipostCrosspostPageInitDataRecordFactory:g}}),null);
__d("MediaManagerComposerPost",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BASIC_POST:"basic_post",BULK_UPLOAD:"bulk_upload",SINGLE_VIDEO:"single_video",STORY:"story",GO_LIVE:"go_live",MULTI_POST:"multi_post",VIDPRESSO_POST:"vidpresso_post",LIVE_LINEAR_VIDEO_CHANNEL:"live_linear_video_channel"})}),null);
__d("CreatorStudioPostTypeConfigs",["ix","fbt","CreatorStudioComposerActions","CreatorStudioComposerTypes","CreatorStudioMultipostActions","MediaManagerComposerPost","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("CreatorStudioComposerTypes").ComposerPostTypeConfigFactory;c=a({id:b("MediaManagerComposerPost").BASIC_POST,title:h._("Create post"),icon:g("638077"),onClick:function(a){return b("CreatorStudioComposerActions").launchBasicPostTray(a)},shouldShow:!0});d=a({id:b("MediaManagerComposerPost").SINGLE_VIDEO,title:h._("Upload video"),icon:g("638642"),onClick:function(a){},shouldShow:!0,buttonWidth:165});f=a({id:b("MediaManagerComposerPost").STORY,title:h._("Add Story"),icon:g("504443"),onClick:function(a){},shouldShow:!1,buttonWidth:151});var i=a({id:b("MediaManagerComposerPost").GO_LIVE,title:h._("Go Live"),icon:g("638633"),onClick:function(a){return b("CreatorStudioComposerActions").launchGoLivePost(a)},shouldShow:!0,buttonWidth:151});a=a({id:b("MediaManagerComposerPost").MULTI_POST,title:h._("Post video across Pages"),icon:g("776932"),onClick:function(a){return b("CreatorStudioMultipostActions").openPageSelectorTray(a)},shouldShow:!0,buttonWidth:185});e.exports={BASIC_POST:c,SINGLE_VIDEO:d,STORY:f,GO_LIVE:i,MULTI_POST:a}}),null);
__d("MediaManagerTab",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SOUND_COLLECTION:"sound_collection",DASHBOARD:"dashboard",PAGES:"pages",INSIGHTS:"insights",INSIGHTS_PERFORMANCE:"insights_performance",INSIGHTS_EARNINGS:"insights_earnings",INSIGHTS_FUNNEL:"insights_funnel",INSIGHTS_LOYALTY:"insights_loyalty",INSIGHTS_AUDIENCE:"insights_audience",INSIGHTS_DISTRIBUTION:"insights_distribution",CONTENT:"content",CONTENT_POSTS:"content_posts",CONTENT_MEDIA:"content_media",CONTENT_PLAYLISTS:"content_playlists",CONTENT_POSTS_TIMELINE:"content_posts_timeline",CONTENT_SHOWS:"content_shows",INBOX:"inbox",MONETIZATION:"monetization",MONETIZATION_HOME:"monetization_home",MONETIZATION_AD_BREAKS:"monetization_ad_breaks",MONETIZATION_FAN_SUBSCRIPTIONS:"monetization_fan_subscriptions",MONETIZATION_PAYOUT_SETTINGS:"monetization_payout_settings",MONETIZATION_PLAYBOOK:"monetization_playbook",MONETIZATION_ELIGIBILITY:"monetization_eligibility",MONETIZATION_REFERRAL:"monetization_referral",HOME:"home",RIGHTS_MANAGER:"rights_manager",RIGHTS_MANAGER_DISPUTES:"rights_manager_disputes",RIGHTS_MANAGER_MATCHING_VIDEOS:"rights_manager_matching_videos",RIGHTS_MANAGER_REFERENCE_LIBRARY:"rights_manager_reference_library",RIGHTS_MANAGER_SETTINGS:"rights_manager_settings",RIGHTS_MANAGER_COMPOSITIONS:"rights_manager_compositions",RIGHTS_MANAGER_MANUAL_CLAIM:"rights_manager_manual_claim",RIGHTS_MANAGER_MATCH_RULES:"rights_manager_match_rules",RIGHTS_MANAGER_TAKEDOWN_REQUESTS:"rights_manager_takedown_requests",RIGHTS_MANAGER_PUBLISHER_MATCHING_VIDEOS:"rights_manager_publisher_matching_videos",RIGHTS_MANAGER_PUBLISHER_DISPUTES:"rights_manager_publisher_disputes",SETTINGS_ACCOUNTS:"settings_accounts",SAMPLE:"sample",CODEGEN_EXPERIMENT:"codegen_experiment",CREATIVE_TOOLS:"creative_tools",GAME_SHOWS:"game_shows",CT_SOUND_COLLECTION:"ct_sound_collection",INSTAGRAM_ACCOUNTS:"instagram_accounts",INSTAGRAM_CONTENT:"instagram_content",INSTAGRAM_CONTENT_POSTS:"instagram_content_posts",INSTAGRAM_INSIGHTS:"instagram_insights",INSTAGRAM_INSIGHTS_ACTIVITY:"instagram_insights_activity",INSTAGRAM_INSIGHTS_AUDIENCE:"instagram_insights_audience",VIDPRESSO:"vidpresso",VIDPRESSO_SIGNUP:"vidpresso_signup",FAN_STICKER:"fan_sticker",WAGERS:"wagers",LIVE_LINEAR_VIDEO_CHANNELS:"live_linear_video_channels"})}),null);
__d("CreatorStudioComposerUtils",["ComposerEntryPointRef","CreatorStudioPostTypeConfigs","MediaManagerTab"],(function(a,b,c,d,e,f){"use strict";a=[b("CreatorStudioPostTypeConfigs").BASIC_POST,b("CreatorStudioPostTypeConfigs").SINGLE_VIDEO,b("CreatorStudioPostTypeConfigs").STORY,b("CreatorStudioPostTypeConfigs").GO_LIVE,b("CreatorStudioPostTypeConfigs").MULTI_POST];c={isTrayBasedPagesComposer:function(a){return a===b("ComposerEntryPointRef").CS_HOME_BASIC_POST||a===b("ComposerEntryPointRef").CS_GLOBAL_BASIC_POST},isCreatorStudioPagesComposer:function(a){return a===b("ComposerEntryPointRef").CS_HOME_BASIC_POST||a===b("ComposerEntryPointRef").CS_GLOBAL_BASIC_POST||a===b("ComposerEntryPointRef").MEDIA_MANAGER},canShowGlobalComposerEntryPoints:function(a){return a===b("MediaManagerTab").HOME||a===b("MediaManagerTab").CONTENT||a===b("MediaManagerTab").INSIGHTS||a===b("MediaManagerTab").MONETIZATION}};e.exports={CreatorStudioComposerUtils:c,COMPOSER_ENTRY_POINTS:a}}),null);
__d("XSproutPromotionUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/sprouts/promotions/update/",{promotion_id:{type:"Int"},increment_view:{type:"Exists",defaultValue:!1},end_promotion:{type:"Exists",defaultValue:!1},current_promotion:{type:"Exists",defaultValue:!1}})}),null);
__d("ReactComposerSproutBadgePromotionUtils",["AsyncRequest","ReactComposerActions","XSproutPromotionUpdateController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initWWWPromotion:function(a){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("current_promotion",!0).getURI();new(b("AsyncRequest"))().setURI(a).send()},addView:function(a,c){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("increment_view",!0).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a.payload&&a.payload.clear_badge_on_next_composer&&b("ReactComposerActions").setQueueFinishedSproutPromotion(c)}).send();b("ReactComposerActions").setLoggedSproutPromotionView(c)},endPromotion:function(a,c){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("end_promotion",!0).getURI();new(b("AsyncRequest"))().setURI(a).send();b("ReactComposerActions").setFinishedSproutPromotion(c)}};e.exports=a}),null);
__d("ReactComposerMediaSprout.react",["cx","Arbiter","ComposerTestID","CreatorStudioComposerUtils","ExtensibleSproutsItemType","React","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react","ReactComposerSproutBadgePromotionUtils","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerStore","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("CreatorStudioComposerUtils").CreatorStudioComposerUtils;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.props.config.sproutsPromotionConfig&&d.props.config.sproutsPromotionConfig.sprout===b("ExtensibleSproutsItemType").MEDIA&&(d.props.config.sproutsPromotionConfig.promotionID&&b("ReactComposerSproutBadgePromotionUtils").endPromotion(d.props.config.sproutsPromotionConfig.promotionID,d.context.composerID)),a.stopPropagation()},d.$3=function(a){b("ReactComposerLoggingActions").composerEntry(d.context.composerID,b("ReactComposerLoggingName").MEDIA_SPROUT),a||b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+d.context.composerID)},d.$1=function(a){b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,b("ReactComposerAttachmentType").MEDIA,!0,b("ExtensibleSproutsItemType").MEDIA,b("ReactComposerStore").getSproutSurface(d.context.composerID),null,b("ReactComposerLoggingName").MEDIA_SPROUT)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA],c=h.isCreatorStudioPagesComposer(this.props.config.loggingConfig.ref);c=c&&this.props.mediaType=="MEDIA"?b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").MULTIMEDIA]:this.props.uiConfig;var d=a.noFilePicker&&!this.props.highlighted;if(d)return b("React").createElement(b("ShimButton.react"),{onClick:this.$1,"data-testid":"photo-video-button"},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:c,highlighted:this.props.highlighted,linkRole:"presentation"}));else return b("React").createElement("div",{onMouseDown:function(a){return a.preventDefault()},className:"_6a _4mvf _fk5"},b("React").createElement(b("ReactComposerMediaFilePickerController.react"),{containerClassName:"_5g_r",loggingName:this.props.uiConfig.loggingName,disableFaceRecognition:a.disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,mediaConfig:a,mediaType:this.props.mediaType,onClick:this.$2,onFilesSelected:this.$3,photoLimit:a.photoLimit,targetData:this.props.config.targetData,webDriverTestID:b("ComposerTestID").MEDIA_SPROUT},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:c,highlighted:this.props.highlighted})))};return c}(b("React").PureComponent);a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").MEDIA],highlighted:!1,mediaType:"MEDIA"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerWithSprouts.react",["cx","Arbiter","FluxContainer","React","ReactComposer.react","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFocusStore","ReactComposerLoggingName","ReactComposerSproutsDisplayState","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,d){b=a.call(this,b,d)||this;b.beforeCalculateInitialState(b.context.composerID,b.props);b.state=c.calculateState(b.state,b.props,b.context);return b}c.getStores=function(){return[b("ReactComposerStore"),b("ReactComposerFocusStore"),b("ReactComposerAudienceStore")]};var d=c.prototype;d.beforeCalculateInitialState=function(a,c){c.expandOnInit&&(b("ReactComposerActions").expandSprouts(this.context.composerID),b("ReactComposerAttachmentActions").initializeAttachment(a,c.defaultAttachmentOnExpand,!0,b("ReactComposerLoggingName").OTHERS))};c.calculateState=function(a,c,d){a=d.composerID;return{displayState:b("ReactComposerStore").getSproutsDisplayState(a),isFocused:b("ReactComposerFocusStore").isComposerFocused(a),messengerSectionVisible:b("ReactComposerAudienceStore").getMessengerSectionVisible(d.composerID)}};d.UNSAFE_componentWillMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/selectcomposer/"+this.context.composerID,function(c,d){return a.$2(b("ReactComposerLoggingName").PROMPT,d&&d.selectedTagger)}))};d.componentDidMount=function(){this.props.expandOnInit&&this.$2(b("ReactComposerLoggingName").ELLIPSIS_SPROUT)};d.render=function(){var a=this;return b("React").createElement("div",{className:"_1cx1"+(this.state.displayState===b("ReactComposerSproutsDisplayState").EXPANDED?" _4qr4":"")+(this.state.displayState===b("ReactComposerSproutsDisplayState").INLINE?" _4a8c":"")+" _4aay _4ab3"+(this.context.gks&&!this.context.gks.addAnyPostToAlbum?" _2qma":"")+(this.state.messengerSectionVisible?" _1qf9":""),onClick:function(c){a.$2(b("ReactComposerLoggingName").INLINE_COMPOSER),a.props.onClick&&a.props.onClick(c)},role:"presentation"},b("React").createElement(b("ReactComposer.react"),this.props.innerProps,this.props.children))};d.$2=function(a,c){__p&&__p();var d=this;if(!this.state.isFocused){this.context.gks&&this.context.gks.lazySproutsExpand||b("ReactComposerActions").expandSprouts(this.context.composerID);b("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,this.props.defaultAttachmentOnExpand,!0,a);var e=b("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID);b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,e||this.props.defaultAttachmentOnExpand,!0,a);c&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,c.loggingName,c.taggerType);(!b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)||b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===b("ReactComposerTaggerType").FORMATTED_TEXT)&&setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+d.context.composerID)},0)}};return c}(b("React").PureComponent);a.defaultProps={expandOnInit:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("TextStyles",["ViewStyles"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("ViewStyles"),{color:!0,fontFamily:!0,fontSize:!0,fontStyle:!0,fontWeight:!0,letterSpacing:!0,lineHeight:!0,textAlign:!0,textDecorationLine:!0,whiteSpace:!0});e.exports=a}),null);
__d("Text",["cx","React","TextStyles","getValidatedStyle","joinClasses","pluckClassNames"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getChildContext=function(){return{inline:!0}};d.render=function(){__p&&__p();var a=this.props,d=a.children;a=a.style;a=b("pluckClassNames")(a);var e=a.classNames;a=a.styles;a=b("getValidatedStyle")(a,b("TextStyles"));var f=typeof d==="string",g=this.context.inline;g=b("joinClasses").apply(void 0,["_b5a"+(!f&&!g?" _b5b":"")+(g?" _b5c":"")].concat(e));f?e=d:e=b("React").Children.map(d,function(a){return typeof a==="string"?b("React").createElement(c,null,a):a});return b("React").createElement("div",{className:g,style:a},e)};return c}(b("React").Component);c.childContextTypes={inline:a.bool};c.contextTypes={inline:a.bool};e.exports=c}),null);