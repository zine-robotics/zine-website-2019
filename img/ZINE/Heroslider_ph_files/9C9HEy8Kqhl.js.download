if (self.CavalryLogger) { CavalryLogger.start_js(["BTRWi"]); }

__d("BoostedComponentCouponPromotionV2LoadCouponPromotionDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BoostedComponentCouponPromotion.LOAD_COUPON_PROMOTION_DATA");e.exports=a}),null);
__d("BoostedAutomatedAdsProgramAdvertisingGoalSelectorV2.react",["fbt","cx","AdproObjectiveType","AdsCallToActionTypes","AdsCouponProducts","AdsTextInput.react","BoostedAutomatedAdsConstants","BoostedAutomatedAdsObjectiveActionsV2","BoostedAutomatedAdsObjectiveUtils","BoostedAutomatedAdsStrings","BoostedAutomatedAdsV2Spinner.react","BoostedComponentAdAccountActionsV2","BoostedComponentAppID","BoostedComponentCommonActionsV2","BoostedComponentCTAPlaceEditor.react","CenteredContainer.react","FDSText.react","Grid.react","GridItem.react","Image.react","LeftRight.react","Link.react","URI","XUISingleSelector.react","immutable","React","ads-lib-urllib","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("BoostedAutomatedAdsConstants").CREATE_PROMOTION_LEARN_MORE_URI,j=b("XUISingleSelector.react").Option,k=300,l=52,m=194,n=260;function o(a){var c=a.disabled,d=a.pageID,e=a.programCTAType,f=e===b("AdsCallToActionTypes").TYPES.GET_DIRECTIONS.name?"middle":"top",h=a.eligibleForConversions?b("React").createElement(j,{value:b("AdsCallToActionTypes").TYPES.LEARN_MORE.name},g._("Get people to make a purchase")):null,k=a.eligibleForLeadGeneration?b("React").createElement(j,{value:b("AdsCallToActionTypes").TYPES.SIGN_UP.name},g._("Get more customer contacts")):null,l=b("React").createElement("div",{className:"_2pid"},b("React").createElement(b("Link.react"),{href:i,target:"_blank"},g._("Learn how this works")));return b("React").createElement(b("Grid.react"),{alignv:f,cols:3},b("React").createElement(b("GridItem.react"),null,b("React").createElement(b("XUISingleSelector.react"),{className:"_4kmc",defaultValue:e,disabled:c,maxwidth:500,name:"objective_selector",size:"xlarge",onChange:a.onProgramCTATypeChange},b("React").createElement(j,{value:b("AdsCallToActionTypes").TYPES.SHOP_NOW.name},g._("Get people to visit your website")),h,b("React").createElement(j,{value:b("AdsCallToActionTypes").TYPES.GET_DIRECTIONS.name},g._("Raise awareness in your local community")),k)),b("React").createElement(b("GridItem.react"),null,b("React").createElement(p,{defaultCity:a.defaultCity,disabled:c,isLoading:a.isLoading,pageAccessToken:a.pageAccessToken,pageID:d,programCTALink:a.programCTALink,programCTAType:e,programURLErrors:a.programURLErrors,userID:a.userID,onProgramCTALinkChange:a.onProgramCTALinkChange,onURLChange:a.onURLChange})),b("React").createElement(b("GridItem.react"),null,c?b("React").createElement("div",{className:"_zls"},b("React").createElement(b("BoostedAutomatedAdsV2Spinner.react"),{height:48})):null),b("React").createElement(b("GridItem.react"),null,l))}function p(a){switch(a.programCTAType){case b("AdsCallToActionTypes").TYPES.GET_DIRECTIONS.name:return b("React").createElement(q,{defaultCity:a.defaultCity,isLoading:a.isLoading,pageAccessToken:a.pageAccessToken,pageID:a.pageID,programCTALink:a.programCTALink,userID:a.userID,onProgramCTALinkChange:a.onProgramCTALinkChange});case b("AdsCallToActionTypes").TYPES.SHOP_NOW.name:case b("AdsCallToActionTypes").TYPES.LEARN_MORE.name:return b("React").createElement(r,{disabled:a.disabled,programCTALink:a.programCTALink,programURLErrors:a.programURLErrors,onURLChange:a.onURLChange});default:return null}}function q(a){var c;return b("React").createElement("div",{className:"_5qum"},b("React").createElement(b("BoostedComponentCTAPlaceEditor.react"),{appID:b("BoostedComponentAppID").BOOSTED_AUTOMATED_ADS,ctaLink:(c=a.programCTALink)!=null?c:void 0,defaultCity:a.defaultCity,hideTitle:!0,invalidAddressError:g._("Please set a valid address."),isLoading:a.isLoading,pageAccessToken:a.pageAccessToken,pageID:a.pageID,userID:a.userID,onCTALinkChange:a.onProgramCTALinkChange}))}function r(a){return b("React").createElement(b("AdsTextInput.react"),{badTextRules:null,className:"_39yl",disabled:a.disabled,errors:a.programURLErrors.toObject(),multiline:!1,placeholder:g._("Input your website URL"),value:a.programCTALink,onChange:a.onURLChange})}function s(a){var c=a.couponValue,d=a.objective;a=a.couponProduct;return c==null||c===""||d!==b("AdproObjectiveType").WEBSITE_CONVERSIONS&&a===b("AdsCouponProducts").AYMT_COUPON_DRSMB_WEBSITE_CONVERSIONS_RETENTION?null:b("React").createElement(b("CenteredContainer.react"),{className:"_5-iy",horizontal:!0,vertical:!0},b("React").createElement(b("LeftRight.react"),{direction:"left"},b("React").createElement(b("Image.react"),{src:"/images/ads/aymt/megaphone/native/USD.png"}),b("React").createElement("span",{className:"_5-iz"},b("React").createElement(b("FDSText.react"),{display:"block",size:"body1"},b("BoostedAutomatedAdsStrings").getLandingPageCouponText(c,a)))))}function t(a){switch(a){case b("AdsCallToActionTypes").TYPES.SHOP_NOW.name:return b("AdproObjectiveType").LINK_CLICKS;case b("AdsCallToActionTypes").TYPES.GET_DIRECTIONS.name:return b("AdproObjectiveType").REACH;case b("AdsCallToActionTypes").TYPES.LEARN_MORE.name:return b("AdproObjectiveType").WEBSITE_CONVERSIONS;case b("AdsCallToActionTypes").TYPES.SIGN_UP.name:return b("AdproObjectiveType").LEAD_GENERATION;default:return b("AdproObjectiveType").NONE}}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){__p&&__p();var c=t(a.value),e=d.props,f=e.adAccounts,g=e.boostID,h=e.conversionEligibleAdAccounts,i=e.instanceID,j=e.pageID,k=e.permanentCreateMode,l=e.placement;e=e.selectedAccountID;b("BoostedComponentCommonActionsV2").fetchBoostedComponentDialogData(j,b("BoostedComponentAppID").BOOSTED_AUTOMATED_ADS,null,g,l,e,c,i,null,k);b("BoostedAutomatedAdsObjectiveActionsV2").onUpdateProgramObjectiveAndCTAType(g,c,a.value);if(c===b("AdproObjectiveType").WEBSITE_CONVERSIONS){l=b("BoostedAutomatedAdsObjectiveUtils").filterConversionEligibleAdAccounts(f,c,h);if(l&&!l.has(e)&&l.size>0){k=l.keys().next().value;k!=null&&k!==""&&b("BoostedComponentAdAccountActionsV2").updateAdAccount(k,e,j,b("BoostedComponentAppID").BOOSTED_AUTOMATED_ADS,null,g,i,!0,c)}}},d.$2=function(a){var c=d.props,e=c.boostID,f=c.instanceID,g=c.objective;c=c.programCTAType;b("BoostedAutomatedAdsObjectiveActionsV2").onUpdateProgramCTALink(e,g,a,c,f)},d.$3=function(a){var c=b("ads-lib-urllib").isUrl(a)?b("URI").tryParseURI(b("ads-lib-urllib").normalize(a)):null;c=c&&c.toString()||a;d.$2(c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.couponProduct,d=a.couponValue,e=a.defaultCity,f=a.dialogHeight,h=a.disabled,i=a.eligibleForConversions,j=a.eligibleForLeadGeneration,p=a.isLoading,q=a.objective,r=a.pageAccessToken,t=a.pageID,u=a.programCTALink,v=a.programCTAType,w=a.programURLErrors;a=a.userID;f=Math.max(m,f-n);d!=null&&d!==""&&f<k&&(f+=l);var x={};x.height=f+"px";f=b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement("div",{style:{marginBottom:"56px"}},b("React").createElement(b("FDSText.react"),{color:"primary",size:"header1"},g._("Create an ongoing promotion"))),b("React").createElement("div",{style:{marginBottom:"12px"}},b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-94",size:"body1"},g._("Choose the result that you want:"))));return b("React").createElement(b("CenteredContainer.react"),{className:"_4kma",horizontal:!0,style:x,vertical:!0},f,b("React").createElement(o,{defaultCity:e,disabled:h,eligibleForConversions:i,eligibleForLeadGeneration:j,isLoading:p,pageAccessToken:r,pageID:t,programCTALink:u,programCTAType:v,programURLErrors:w,userID:a,onProgramCTALinkChange:this.$2,onProgramCTATypeChange:this.$1,onURLChange:this.$3}),b("React").createElement(s,{couponProduct:c,couponValue:d,objective:q}))};return c}(b("React").Component);e.exports=a}),null);
__d("XBoostedComponentCouponPromotionDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/boosted_components/fetch_coupon_data/",{client_app_id:{type:"FBID"},product:{type:"Enum",required:!0,enumType:1},is_boosted:{type:"Bool",defaultValue:!1},target_id:{type:"Int"},page_id:{type:"Int",required:!0},coupon_offer:{type:"Int"},ad_account_id:{type:"Int"},placement:{type:"String"}})}),null);
__d("BoostedComponentCouponPromotionActionsV2",["AdsLWIProductUtils","AsyncRequest","BoostedComponentCouponPromotionV2LoadCouponPromotionDataAction","XBoostedComponentCouponPromotionDataController"],(function(a,b,c,d,e,f){"use strict";e.exports={fetchCouponPromotionData:function(a,c,d,e,f,g,h,i){i===void 0&&(i=null);var j=b("AdsLWIProductUtils").convertAppIDToProduct(a);a=b("XBoostedComponentCouponPromotionDataController").getURIBuilder().setEnum("product",j).setInt("target_id",e).setBool("is_boosted",c).setInt("page_id",d).setInt("coupon_offer",f).setInt("ad_account_id",g).setString("placement",h).setFBID("client_app_id",i);c=a.getURI();new(b("AsyncRequest"))(c).setHandler(function(a){b("BoostedComponentCouponPromotionV2LoadCouponPromotionDataAction").dispatch({data:a.payload,product:String(j),targetID:e},{line:"44",module:"BoostedComponentCouponPromotionActionsV2.js"})}).setErrorHandler(function(a){}).send()}}}),null);
__d("BoostedAutomatedAdsProgramAdvertisingGoalSelectorV2Container.react",["AdproObjectiveType","AdsCurrencyFormatter","AdsFluxContainer","AdsLWIInstanceType","AdsLWIInstanceUtils","AdsSelectorUtils","BoostedAutomatedAdsDialogUIStoreV2","BoostedAutomatedAdsObjectiveUtils","BoostedAutomatedAdsProgramAdvertisingGoalSelectorV2.react","BoostedAutomatedAdsValidationStoreV2","BoostedComponentAdAccountStoreV2","BoostedComponentAppID","BoostedComponentConstants","BoostedComponentContainerUtils","BoostedComponentContextStoreV2","BoostedComponentCouponPromotionActionsV2","BoostedComponentCouponPromotionStoreV2","BoostedComponentErrorBoundaryContainer.react","FBSimplePaneDialogUtils","LoadObject","React","URI","adsLWIAutomatedAdsObjectiveConversionSelectors","adsLWIAutomatedAdsProgramObjectiveSelectors","adsLWICurrentInstanceDataSelector","adsLWIDefaultCitySelector","adsLWIDialogStateSelector","adsLWISelectedAccountIDSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIInstanceType").NO_INSTANCE_ID,h=b("AdsLWIInstanceUtils").getKeyFromInstanceData,i=b("BoostedComponentConstants").DIALOG_MARGIN,j=b("BoostedComponentConstants").DIALOG_MAX_HEIGHT,k=b("BoostedComponentConstants").DIALOG_MIN_HEIGHT,l=b("BoostedComponentContainerUtils").isDataLoaded,m=b("adsLWIAutomatedAdsObjectiveConversionSelectors").adsLWIAutomatedAdsConversionEligibleAdAccountSelector,n=b("adsLWIAutomatedAdsProgramObjectiveSelectors").adsLWIAutomatedAdsProgramCTALinkSelector,o=b("adsLWIAutomatedAdsProgramObjectiveSelectors").adsLWIAutomatedAdsProgramCTASpecsSelector,p=b("adsLWIAutomatedAdsProgramObjectiveSelectors").adsLWIAutomatedAdsProgramCTATypeSelector,q=b("adsLWIAutomatedAdsProgramObjectiveSelectors").adsLWIAutomatedAdsProgramObjectiveSelector;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={adAccounts:b("immutable").Map(),conversionEligibleAdAccounts:b("immutable").Map(),couponProduct:null,couponValue:null,dataLoaded:!1,defaultCity:b("LoadObject").empty(),disabled:!1,eligibleForConversions:!1,eligibleForLeadGeneration:!1,instanceID:g,objective:b("AdproObjectiveType").LINK_CLICKS,pageAccessToken:"",programCTALink:null,programCTAType:"",programURLErrors:b("immutable").List(),selectedAccountID:"",userID:""},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[].concat(b("AdsSelectorUtils").getStores([m,n,o,p,q,b("adsLWICurrentInstanceDataSelector"),b("adsLWIDefaultCitySelector"),b("adsLWISelectedAccountIDSelector")]),[b("BoostedAutomatedAdsDialogUIStoreV2"),b("BoostedAutomatedAdsValidationStoreV2"),b("BoostedComponentAdAccountStoreV2"),b("BoostedComponentContextStoreV2"),b("BoostedComponentCouponPromotionStoreV2")])};c.calculateState=function(a,c){__p&&__p();c=h(b("BoostedComponentAppID").BOOSTED_AUTOMATED_ADS,null,c.boostID);var d=b("BoostedComponentAdAccountStoreV2").getState(),e=b("BoostedComponentContextStoreV2").getDataByKey(c),f=b("BoostedComponentCouponPromotionStoreV2").getData(b("BoostedComponentAppID").BOOSTED_AUTOMATED_ADS,null),g=b("BoostedAutomatedAdsDialogUIStoreV2").getDataByKey(c);c=b("BoostedAutomatedAdsValidationStoreV2").getDataByKey(c);var i=b("BoostedAutomatedAdsObjectiveUtils").isEligibleForLeadGenerationObjective(o()),j=b("adsLWIDialogStateSelector")();j=j.instanceID;var k=l([d]);if(!k)return babelHelpers["extends"]({},a,{dataLoaded:k,defaultCity:b("adsLWIDefaultCitySelector")(),disabled:!0,eligibleForConversions:b("BoostedAutomatedAdsObjectiveUtils").isEligibleForConversionsObjective(m()),eligibleForLeadGeneration:i,instanceID:j,objective:q(),pageAccessToken:e.getPageAccessToken(),programCTAType:p(),programCTALink:n(),userID:e.getUserID()});a=null;if(f&&l([f])){var r=f.get("value_in_cents"),s=f.get("currency");a=r&&s?b("AdsCurrencyFormatter").formatCurrencyFullFormat(s,r,!1,!0,!1):null}return{adAccounts:d.getAccounts(),conversionEligibleAdAccounts:m(),couponProduct:f&&f.get("coupon_product"),couponValue:a,dataLoaded:k,defaultCity:b("adsLWIDefaultCitySelector")(),disabled:g.getIsFetching(),eligibleForConversions:b("BoostedAutomatedAdsObjectiveUtils").isEligibleForConversionsObjective(m()),eligibleForLeadGeneration:i,instanceID:j,objective:q(),pageAccessToken:e.getPageAccessToken(),programCTALink:n(),programCTAType:p(),programURLErrors:c.getURLErrors(),selectedAccountID:b("adsLWISelectedAccountIDSelector")(),userID:e.getUserID()}};var d=c.prototype;d.componentDidMount=function(){var a=new(b("URI"))(window.location.href).getQueryData();a=a.coupon_offer?Number(a.coupon_offer):null;if(a===null||a===0)return;var c=this.props.pageID;b("BoostedComponentCouponPromotionActionsV2").fetchCouponPromotionData(b("BoostedComponentAppID").BOOSTED_AUTOMATED_ADS,!1,c,null,a)};d.render=function(){var a=this.props,c=a.boostID,d=a.pageID,e=a.permanentCreateMode;a=a.placement;var f=b("FBSimplePaneDialogUtils").getDialogColumnMaxHeight(k,j,i),g=this.state,h=g.adAccounts,l=g.conversionEligibleAdAccounts,m=g.couponProduct,n=g.couponValue,o=g.dataLoaded,p=g.defaultCity,q=g.disabled,r=g.eligibleForConversions,s=g.eligibleForLeadGeneration,t=g.instanceID,u=g.objective,v=g.pageAccessToken,w=g.programCTALink,x=g.programCTAType,y=g.programURLErrors,z=g.selectedAccountID;g=g.userID;return b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedAutomatedAdsProgramAdvertisingGoalSelectorV2"},b("React").createElement(b("BoostedAutomatedAdsProgramAdvertisingGoalSelectorV2.react"),{adAccounts:h,boostID:c,conversionEligibleAdAccounts:l,couponProduct:m,couponValue:n,dataLoaded:o,defaultCity:p.value||void 0,dialogHeight:f,disabled:q,eligibleForConversions:r,eligibleForLeadGeneration:s,instanceID:t,isLoading:!o,objective:u,pageAccessToken:v,pageID:d,permanentCreateMode:e,placement:a,programCTALink:w,programCTAType:x,programURLErrors:y,selectedAccountID:z,userID:g}))};return c}(b("React").Component);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsLWILegacyAAGoalSelectorContainer.react",["AdsFluxContainer","AdsSelectorUtils","BoostedAutomatedAdsProgramAdvertisingGoalSelectorV2Container.react","React","adsLWICurrentInstanceDataSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return b("AdsSelectorUtils").getStores([b("adsLWICurrentInstanceDataSelector")])};c.calculateState=function(){var a=b("nullthrows")(b("adsLWICurrentInstanceDataSelector")()),c=a.boostID,d=a.pageID,e=a.permanentCreateMode;a=a.placement;return{boostID:c,pageID:d,permanentCreateMode:e,placement:a}};var d=c.prototype;d.render=function(){return b("React").createElement(b("BoostedAutomatedAdsProgramAdvertisingGoalSelectorV2Container.react"),{boostID:this.state.boostID,pageID:this.state.pageID,permanentCreateMode:!!this.state.permanentCreateMode,placement:this.state.placement})};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("AdsLWIPackageLandingObjectiveStep.react",["cx","ix","AdsLWILegacyAAGoalSelectorContainer.react","BoostedComponentErrorBoundaryContainer.react","FlexLayout.react","Image.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"AdsLWIPackageLandingObjectiveStep"},b("React").createElement(b("FlexLayout.react"),{align:"center",direction:"vertical"},b("React").createElement(b("AdsLWILegacyAAGoalSelectorContainer.react"),null),b("React").createElement(b("Image.react"),{className:"_2zxa",src:h("465666")})))}e.exports=a}),null);