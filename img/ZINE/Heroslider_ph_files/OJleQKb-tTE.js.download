if (self.CavalryLogger) { CavalryLogger.start_js(["VzXnD"]); }

__d("AdsCanvasInitDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INIT"}}),null);
__d("AdsProductSetBatchCreateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT_SET.BATCH_CREATE_ERROR");e.exports=a}),null);
__d("AdsProductSetBatchCreateErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET.BATCH_CREATE_ERROR"}}),null);
__d("AdsProductSetBatchCreatedAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentProductSetBatchCreatedReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})}),b("ifRequired")("AdsCFAdgroupProductSetBatchCreatedReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"PRODUCT_SET.BATCH_CREATED");e.exports=a}),null);
__d("AdsProductSetBatchDeleteErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT_SET.BATCH_DELETE_ERROR");e.exports=a}),null);
__d("AdsProductSetBatchDeleteErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET.BATCH_DELETE_ERROR"}}),null);
__d("CatalogProductSetsListProductSetDeletedReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,b){__p&&__p();var c=a;a=a.getData().keys();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f.catalogID===b.productCatalogID&&(c=c["delete"](f))}return c}};e.exports=a}),null);
__d("CatalogProductSetsListDataLoader",["CatalogGraphAPI"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("CatalogGraphAPI").get(e.id).object("product_catalog",a.catalogID).edge("product_sets").get({after:c,fields:["id","name","capability","filter"],filtering:g(a),limit:a.limit,sort:a.sort}).then(function(a){var b;b=(a==null?void 0:(b=a.paging)==null?void 0:b.next)?a==null?void 0:(b=a.paging)==null?void 0:(b=b.cursors)==null?void 0:b.after:null;return{after:b,productSets:a.data}})}function g(a){return a.searchFilter==null?void 0:[{field:"id_or_name",operator:"CONTAIN",value:a.searchFilter}]}e.exports={load:a}}),null);
__d("CatalogProductSetsListProviderPlugin",["CatalogProductSetsListDataLoader","LoadObject","PaginationLoadObjectMap"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return new(b("PaginationLoadObjectMap"))({after:null,productSets:[]},b("CatalogProductSetsListDataLoader").load,function(c,d){a(function(a){return a.update(c,function(e){return b("LoadObject").withValue({after:d.after,productSets:a.get(c).getValueEnforcing().productSets.concat(d.productSets)})})})})}};e.exports=a}),null);
__d("CatalogProductSetsListProvider",["Laminar","CatalogProductSetsListProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("CatalogProductSetsListProviderPlugin"),"CatalogProductSetsListProviderPlugin")}),null);
__d("AdsProductSetBatchDeletedDataAction",["Laminar","CatalogProductSetsListProductSetDeletedReducerPlugin","CatalogProductSetsListProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("CatalogProductSetsListProductSetDeletedReducerPlugin"),b("CatalogProductSetsListProvider"),{})]},function(){return[]},"PRODUCT_SET.BATCH_DELETED");e.exports=a}),null);
__d("AdsProductSetBatchLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PRODUCT_SET.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsProductSetBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET.BATCH_LOAD_ERROR"}}),null);
__d("AdsProductSetBatchLoadedDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsCFAdgroupProductSetBatchLoadedReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"PRODUCT_SET.BATCH_LOADED");e.exports=a}),null);
__d("AdsProductSetBatchLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET.BATCH_LOADED"}}),null);
__d("AdsProductSetCreateBatchDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET.CREATE_BATCH"}}),null);
__d("AdsProductSetDeleteBatchDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PRODUCT_SET.DELETE_BATCH"}}),null);
__d("CatalogPreloadingHandleScenarioReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){a=b.isOngoing;return{isOngoing:a}}};e.exports=a}),null);
__d("CatalogPreloadingScenarioProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{isOngoing:!0}};e.exports=a}),null);
__d("CatalogPreloadingScenarioProvider",["Laminar","CatalogPreloadingScenarioProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("CatalogPreloadingScenarioProviderPlugin"),"CatalogPreloadingScenarioProviderPlugin")}),null);
__d("CatalogPreloadingHandleScenarioAction",["Laminar","CatalogPreloadingHandleScenarioReducerPlugin","CatalogPreloadingScenarioProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("CatalogPreloadingHandleScenarioReducerPlugin"),b("CatalogPreloadingScenarioProvider"),{})]},function(){return[]},"CATALOG.PRELOADING_HANDLE_SCENARIO");e.exports=a}),null);
__d("productsAssertExhausted",[],(function(a,b,c,d,e,f){"use strict";function a(a){return null}e.exports=a}),null);
__d("AdsUniqueCatalogPreloadingUtils",["CatalogBusinessEventsLoggerHelper","CatalogPreloadingHandleScenarioAction","CatalogPreloadingScenarioProvider","gkx","productsAssertExhausted"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CatalogPreloadingScenarioProvider").toFluxStore();function a(){if(!b("gkx")("678759"))return!1;var a=g.getState();a=a.isOngoing;return a}function h(a){switch(a){case"ADS_INTERFACES_PRELOADING_SUCCESS":return"catalog_preloading_success_ui";case"ADS_INTERFACES_PRELOADING_ISSUE":return"catalog_preloading_issue_ui";default:return b("productsAssertExhausted")(a)||null}}function c(a,c){c=h(c);c!=null&&b("CatalogBusinessEventsLoggerHelper").getPreloadingLogger().setEvent(c).setActionData({data:JSON.stringify(a)});b("CatalogPreloadingHandleScenarioAction").dispatch({isOngoing:!1},{line:"56",module:"AdsUniqueCatalogPreloadingUtils.js"})}e.exports={defaultConfig:{isScenarioOngoing:a,log:c}}}),null);
__d("ProductFeedField",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CATALOG_ITEM_TYPE:"catalog_item_type",DEFAULT_CURRENCY:"default_currency",DELETION_ENABLED:"deletion_enabled",DELIMITER:"delimiter",ENCODING:"encoding",FEED_TYPE:"feed_type",ID:"id",LATEST_UPLOAD:"latest_upload",MISSING_FEED_ITEM_REPLACEMENT:"missing_feed_item_replacement",MISSING_FEED_ITEM_AVAILABILITY:"missing_feed_item_availability",NAME:"name",PRODUCT_COUNT_EXPENSIVE:"product_count_expensive",QUALITY_SCORE:"quality_score",QUOTED_FIELDS_MODE:"quoted_fields_mode",SCHEDULE:"schedule",UPDATE_SCHEDULE:"update_schedule",UPLOADS:"uploads",RULES:"rules",OVERRIDE_TYPE:"override_type"});e.exports=a}),null);
__d("ProductFeedUploadField",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ID:"id",END_TIME:"end_time",ERROR_COUNT:"error_count",INPUT_METHOD:"input_method",URL:"url",FILENAME:"filename",NUM_DETECTED_ITEMS:"num_detected_items",NUM_PERSISTED_ITEMS:"num_persisted_items",NUM_INVALID_ITEMS:"num_invalid_items",NUM_DELETED_ITEMS:"num_deleted_items",PROGRESSES:"progresses",START_TIME:"start_time",WARNING_COUNT:"warning_count"});e.exports=a}),null);
__d("ProductFeedLatestUploadFields",["ProductFeedUploadField"],(function(a,b,c,d,e,f){"use strict";a=[b("ProductFeedUploadField").END_TIME,b("ProductFeedUploadField").ERROR_COUNT,b("ProductFeedUploadField").INPUT_METHOD,b("ProductFeedUploadField").NUM_DELETED_ITEMS,b("ProductFeedUploadField").URL,b("ProductFeedUploadField").FILENAME,b("ProductFeedUploadField").NUM_DETECTED_ITEMS,b("ProductFeedUploadField").NUM_INVALID_ITEMS,b("ProductFeedUploadField").NUM_PERSISTED_ITEMS,b("ProductFeedUploadField").PROGRESSES,b("ProductFeedUploadField").START_TIME,b("ProductFeedUploadField").WARNING_COUNT];e.exports=a}),null);
__d("ProductSetAPIClient",["regeneratorRuntime","Promise","CatalogGraphAPI","FBLogger","GraphProductCatalogNodeFields","GraphProductSetNodeFields","first","firstx","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("GraphProductSetNodeFields").ID,b("GraphProductSetNodeFields").NAME,b("GraphProductSetNodeFields").FILTER,b("GraphProductSetNodeFields").CAPABILITY,b("GraphProductSetNodeFields").IS_ELIGIBLE_FOR_VALUE_OPTIMIZATION,b("GraphProductSetNodeFields").PRODUCT_CATALOG+"{"+[b("GraphProductCatalogNodeFields").ID,b("GraphProductCatalogNodeFields").VERTICAL].join(",")+"}"],h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,"No catalogs with product sets found")||this}return a}(babelHelpers.wrapNativeSuper(Error)),i={loadRecord:function(a){return b("CatalogGraphAPI").get(e.id).object("product_set",a).batched().get({fields:g}).then(i.createProductSetFromResponse)},loadFirstEligibleFromAccount:function(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:d=function(){__p&&__p();var d,f,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:d=[{field:"product_set_count",operator:"GREATER_THAN_OR_EQUAL",value:1}];c!=null&&c.length>0&&d.push({field:"vertical",operator:"IN",value:c});f=b("gkx")("969392")?".filtering("+JSON.stringify([{field:"product_count",operator:"GREATER_THAN",value:0}])+")":"";l.next=5;return b("regeneratorRuntime").awrap(b("CatalogGraphAPI").get(e.id).adaccount(a).edge("dpa_eligible_product_catalogs").get({limit:b("gkx")("969392")?10:1,fields:"product_sets.limit(1)"+f+"{"+g.join(",")+"}",filtering:d}));case 5:j=l.sent;k=j.data.find(function(a){return((a=a.product_sets)==null?void 0:(a=a.data)==null?void 0:a.length)>0});if(!(k==null)){l.next=9;break}throw new h();case 9:return l.abrupt("return",i.createProductSetFromResponse(b("firstx")(k.product_sets.data)));case 10:case"end":return l.stop()}},null,this)};c===void 0&&(c=null);f.prev=2;f.next=5;return b("regeneratorRuntime").awrap(d());case 5:return f.abrupt("return",f.sent);case 8:f.prev=8;f.t0=f["catch"](2);f.t0 instanceof h||b("FBLogger")("dpa").catching(f.t0).warn("hit error trying to load first eligible product set from account");throw f.t0;case 12:case"end":return f.stop()}},null,this,[[2,8]])},loadFirstEligibleFromAccountByVerticals:function(a,c){return b("CatalogGraphAPI").get(e.id).adaccount(a).edge("dpa_eligible_product_catalogs").get({limit:1,fields:"product_sets.limit(1){"+g.join(",")+"}",filtering:[{field:"vertical",operator:"IN",value:c}]}).then(function(a){return(a=b("first")(a.data))!=null?a:b("Promise").reject(new h())}).then(function(a){return b("firstx")(a.product_sets.data)}).then(function(a){return i.createProductSetFromResponse(a)})},loadFromCatalogWithFields:function(a,c){return b("CatalogGraphAPI").get(e.id).object("product_set",a).get({fields:b("GraphProductSetNodeFields").PRODUCT_CATALOG+"{"+c.join(",")+"}"}).then(function(a){return a[b("GraphProductSetNodeFields").PRODUCT_CATALOG]})},createProductSetFromResponse:function(a){return{catalogID:a[b("GraphProductSetNodeFields").PRODUCT_CATALOG][b("GraphProductCatalogNodeFields").ID],filter:a[b("GraphProductSetNodeFields").FILTER],id:a[b("GraphProductSetNodeFields").ID],is_eligible_for_value_optimization:a[b("GraphProductSetNodeFields").IS_ELIGIBLE_FOR_VALUE_OPTIMIZATION],name:a[b("GraphProductSetNodeFields").NAME],vertical:a[b("GraphProductSetNodeFields").PRODUCT_CATALOG][b("GraphProductCatalogNodeFields").VERTICAL],capability:a[b("GraphProductSetNodeFields").CAPABILITY]}},getProductSetFields:function(){return g}};e.exports=i}),null);
__d("ProductCatalogAPIClient",["Promise","AdsUniqueCatalogPreloadingUtils","CatalogDataManagerPreloader","CatalogGraphAPI","ProductCatalogAPIReadOnlyClient","ProductFeedField","ProductFeedLatestUploadFields","ProductSetAPIClient","first","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c={loadWithFields:function(a,c){var d=window.location.href,e=d.includes("/catalogs/"+a);return b("ProductCatalogAPIReadOnlyClient").loadWithFields(a,c,function(a){return e&&b("gkx")("678759")?a.preloadedBy(b("CatalogDataManagerPreloader").preloader,b("AdsUniqueCatalogPreloadingUtils").defaultConfig):a})},createCatalog:function(c){var d=new a.FormData();Object.entries(c).forEach(function(a){var b=a[0];a=a[1];if(!a)return;d.append(b,a)});return b("CatalogGraphAPI").get(e.id).me().edge("product_catalogs").post(d)},createProductSet:function(a,c){return b("CatalogGraphAPI").get(e.id).object("product_catalog",a).edge("product_sets").post(c)},fetchOldestProductSet:function(a){return b("CatalogGraphAPI").get(e.id).object("product_catalog",a).edge("product_sets").batched().get({fields:b("ProductSetAPIClient").getProductSetFields(),limit:1,sort:"creation_time_ascending"}).then(function(a){a=b("first")(a.data);return a!=null?b("ProductSetAPIClient").createProductSetFromResponse(a):null})},fetchProductCatalogAgencies:function(a){return b("CatalogGraphAPI").get(e.id).object("product_catalog",a).edge("agencies").batched().get({fields:["id","name"]}).then(function(a){a=a.data;return a.map(function(a){return{id:a.id,name:a.name}})})},createFeed:function(a,c){return b("CatalogGraphAPI").get(e.id).object("product_catalog",a).edge("product_feeds").post(c)},uploadFeed:function(a,c){return b("CatalogGraphAPI").get(e.id).object("product_feed",a).edge("uploads").post(babelHelpers["extends"]({},c,{fields:b("ProductFeedLatestUploadFields")}))},fetchFeedItemCount:function(a){return b("CatalogGraphAPI").get(e.id).object("product_feed",a).get({fields:[b("ProductFeedField").PRODUCT_COUNT_EXPENSIVE]}).then(function(a){return a[b("ProductFeedField").PRODUCT_COUNT_EXPENSIVE]})},createCommerceMerchantSetings:function(a,c){return b("CatalogGraphAPI").get(e.id).object("product_catalog",a).edge("commerce_merchant_settings").post(c)},preventDeleteOfMultipleStaleCatalogs:function(a){return b("Promise").all(a.map(function(a){return b("CatalogGraphAPI").get(e.id).object("product_catalog",a).post({postpone_stale_deletion:!0})}))},createDynamicItem:function(a,c,d,f){f===void 0&&(f=!1);a=b("CatalogGraphAPI").get(e.id).object("product_catalog",a).edge(d);f&&(a=a.batched());return a.post(c)},editDynamicItem:function(a,c,d){return b("CatalogGraphAPI").get(e.id).object(d,a).post(c)},deleteMultipleCatalogs:function(a){return b("Promise").all(a.map(function(a){return b("CatalogGraphAPI").get(e.id).object("product_catalog",a).batched().remove()}))},createNotificationSettings:function(a,c){return b("CatalogGraphAPI").get(e.id).object("ent_with_dog_notification",a).edge("notification_settings").post(c)},updateNotificationSettings:function(a,c){return b("CatalogGraphAPI").get(e.id).object("dog_notification_settings",a).post(c)},updateCPASParentCatalogSettings:function(a,c){return b("CatalogGraphAPI").get(e.id).object("cpas_parent_catalog_settings",a).post(c)},createProductGroup:function(a,c){return b("CatalogGraphAPI").get(e.id).object("product_catalog",a).edge("product_groups").post(c)}};e.exports=c}),null);
__d("AdsProductSetDataManager",["fbt","AdsBaseDataManager","AdsGraphAPI","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsProductSetBatchCreatedAction","AdsProductSetBatchCreateErrorDataAction","AdsProductSetBatchDeletedDataAction","AdsProductSetBatchDeleteErrorDataAction","AdsProductSetBatchLoadedDataAction","AdsProductSetBatchLoadErrorDataAction","GraphProductCatalogNodeFields","GraphProductSetNodeFields","ProductCatalogAPIClient","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[b("GraphProductSetNodeFields").FILTER,b("GraphProductSetNodeFields").NAME,b("GraphProductSetNodeFields").CAPABILITY,b("GraphProductSetNodeFields").PRODUCT_CATALOG+"{"+b("GraphProductCatalogNodeFields").VERTICAL+"}"].concat(b("gkx")("969392")?[]:[b("GraphProductSetNodeFields").PRODUCT_COUNT]),i=h.filter(function(a){return a!==b("GraphProductSetNodeFields").PRODUCT_COUNT});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var b=this;a.forEach(function(a){return b.load(a)})};d.load=function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("product_set",a).batched().get({fields:h}),this.__handleSuccess.bind(this,["load"],a,null),this.__reloadWithoutProductSearch.bind(this,["load"],a,null))};d.__reloadWithoutProductSearch=function(a,c,d,f){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("product_set",c).batched().get({fields:i}),this.__handleSuccess.bind(this,a,c,d),this.__handleError.bind(this,a,c,d))};d.createProductSetsForProductCatalog=function(a,c,d){var e=this;b("AdsInterfacesLogger").log({eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,eventName:"product_set_create_started"});c.forEach(function(c){b("promiseDone")(b("ProductCatalogAPIClient").createProductSet(a,c),function(b){return e.__handleSuccess(["create"],c.tempID,null,babelHelpers["extends"]({},b,{productCatalogID:a,source:d,name:c.name,isSuggested:c.isSuggested}))},function(b){b.productCatalogID=a,e.__handleError(["create"],c.tempID,null,b)})})};d.deleteProductSetsForProductCatalog=function(a,c){var d=this;c.forEach(function(c){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("product_set",c).batched().remove(),function(b){return d.__handleSuccess(["delete"],c,null,babelHelpers["extends"]({},b,{productCatalogID:a}))},function(b){b.productCatalogID=a,d.__handleError(["delete"],c,null,b)})})};d.__onBatchDeleted=function(a){a=a.values().next().value;a&&b("AdsProductSetBatchDeletedDataAction").dispatch({productCatalogID:a.productCatalogID},{line:"144",module:"AdsProductSetDataManager.js"})};d.__onBatchDeleteError=function(a){b("AdsProductSetBatchDeleteErrorDataAction").dispatch({errors:a},{line:"150",module:"AdsProductSetDataManager.js"})};d.__onBatchLoaded=function(a){b("AdsProductSetBatchLoadedDataAction").dispatch({productSets:a},{line:"156",module:"AdsProductSetDataManager.js"})};d.__onBatchLoadError=function(a){b("AdsProductSetBatchLoadErrorDataAction").dispatch({errors:a},{line:"162",module:"AdsProductSetDataManager.js"})};d.__onBatchCreated=function(a){b("AdsInterfacesLogger").log({eventName:"product_set_create_completed"});a=a.values().next().value;a&&b("AdsProductSetBatchCreatedAction").dispatch({productCatalogID:a.productCatalogID,productSetID:a.id,productSetName:a.name,source:a.source,isSuggested:a.isSuggested||!1},{line:"173",module:"AdsProductSetDataManager.js"})};d.__onBatchCreateError=function(a){b("AdsInterfacesLogger").log({eventCategory:b("AdsInterfacesLogEvents").EventCategory.ERROR,eventName:"product_set_create_failed"}),b("AdsProductSetBatchCreateErrorDataAction").dispatch({errors:a},{line:"187",module:"AdsProductSetDataManager.js"})};d.__getObjectTypeLabel=function(){return g._("Product Set")};return c}(b("AdsBaseDataManager"));c=new a();e.exports=c}),null);
__d("AdsProductSetStore_DEPRECATED",["AdsBaseDataStore","AdsLoadState_LEGACY","AdsProductSetBatchCreatedActionFlux","AdsProductSetBatchCreateErrorDataActionFlux","AdsProductSetBatchDeleteErrorDataActionFlux","AdsProductSetBatchLoadedDataActionFlux","AdsProductSetBatchLoadErrorDataActionFlux","AdsProductSetCreateBatchDataActionFlux","AdsProductSetDataManager","AdsProductSetDeleteBatchDataActionFlux","CatalogBusinessEventsLoggerHelper","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.creationResponse=null;b.responseMap=new Map();return b}var d=c.prototype;d.getDataManager=function(){return b("AdsProductSetDataManager")};d.__getActionTypes=function(){return g?[b("AdsProductSetBatchCreateErrorDataActionFlux").actionType,b("AdsProductSetBatchCreatedActionFlux").actionType,b("AdsProductSetBatchDeleteErrorDataActionFlux").actionType,b("AdsProductSetBatchLoadErrorDataActionFlux").actionType,b("AdsProductSetBatchLoadedDataActionFlux").actionType,b("AdsProductSetCreateBatchDataActionFlux").actionType,b("AdsProductSetDeleteBatchDataActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();var c=this;a=a.action;switch(a.type){case b("AdsProductSetBatchLoadedDataActionFlux").actionType:this.__handleData(a.productSets,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsProductSetBatchDeleteErrorDataActionFlux").actionType:case b("AdsProductSetBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsProductSetBatchCreateErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);a.errors.forEach(function(a,b){a.code==10803?(c.creationResponse={result:"duplicate",catalogID:a.productCatalogID,duplicateId:a.error_data.product_set_id},c.responseMap.set(a.productCatalogID,c.creationResponse),c.__emitChange()):a.error_subcode==1798130&&(c.creationResponse={result:"empty",catalogID:a.productCatalogID},c.responseMap.set(a.productCatalogID,c.creationResponse),c.__emitChange())});break;case b("AdsProductSetCreateBatchDataActionFlux").actionType:this.$AdsProductSetStore_DEPRECATED1(a.productCatalogID,a.objectsData,a.source);break;case b("AdsProductSetBatchCreatedActionFlux").actionType:this.creationResponse={result:"success",catalogID:a.productCatalogID,productSetID:a.productSetID};this.responseMap.set(a.productCatalogID,this.creationResponse);this.__emitChange();a.isSuggested&&b("CatalogBusinessEventsLoggerHelper").getProductSetsSelectorDialogLogger(a.productCatalogID).setEvent("suggested_product_set_created").setActionData({product_set_id:a.productSetID}).log();break;case b("AdsProductSetDeleteBatchDataActionFlux").actionType:this.$AdsProductSetStore_DEPRECATED2(a.productCatalogID,a.productSetIDs);break}};d.$AdsProductSetStore_DEPRECATED2=function(a,c){b("AdsProductSetDataManager").deleteProductSetsForProductCatalog(a,c)};d.$AdsProductSetStore_DEPRECATED1=function(a,c,d){b("AdsProductSetDataManager").createProductSetsForProductCatalog(a,c,d)};d.retrieveCreationResponseByCatalogId=function(a){var b=this.responseMap.get(a);this.responseMap["delete"](a);return b};d.retrieveAllCreationResponses=function(){var a=new Map(this.responseMap);this.responseMap.clear();return a};d.retrieveLastCreationResponse=function(){var a=this.creationResponse;a&&a.catalogID&&this.responseMap["delete"](a.catalogID);this.creationResponse=null;return a};d.getLastCachedCreationResponse=function(){return this.creationResponse};return c}(b("AdsBaseDataStore"));e.exports=new a()}),null);
__d("DraftTreeAdapter",["invariant","generateRandomKey"],(function(a,b,c,d,e,f,g){__p&&__p();var h=function(a,b){a=[].concat(a).reverse();while(a.length){var c=a.pop();b(c);c=c.children;Array.isArray(c)||g(0,2517);a=a.concat([].concat(c.reverse()))}},i=function(a){if(!(a&&a.type))return!1;a=a.type;return a==="unordered-list-item"||a==="ordered-list-item"},j=function(a){Array.isArray(a.children)&&(a.children=a.children.map(function(b){return b.type===a.type?babelHelpers["extends"]({},b,{depth:(a.depth||0)+1}):b}))};a={fromRawTreeStateToRawState:function(a){__p&&__p();var b=a.blocks,c=[];Array.isArray(b)||g(0,2518);if(!Array.isArray(b)||!b.length)return a;h(b,function(a){var b=babelHelpers["extends"]({},a);if(i(a)){b.depth=b.depth||0;j(a);if(a.children!=null&&a.children.length>0)return}delete b.children;c.push(b)});a.blocks=c;return babelHelpers["extends"]({},a,{blocks:c})},fromRawStateToRawTreeState:function(a){__p&&__p();var c=[],d=[];a.blocks.forEach(function(a){__p&&__p();var e=i(a),f=a.depth||0,g=babelHelpers["extends"]({},a,{children:[]});if(!e){c.push(g);return}e=d[0];if(e==null&&f===0)c.push(g);else if(e==null||e.depth<f-1){a={key:b("generateRandomKey")(),text:"",depth:f-1,type:a.type,children:[],entityRanges:[],inlineStyleRanges:[]};d.unshift(a);f===1?c.push(a):e!=null&&e.children.push(a);a.children.push(g)}else if(e.depth===f-1)e.children.push(g);else{while(e!=null&&e.depth>=f)d.shift(),e=d[0];f>0?e.children.push(g):c.push(g)}});return babelHelpers["extends"]({},a,{blocks:c})}};e.exports=a}),null);
__d("DraftTreeInvariants",["warning"],(function(a,b,c,d,e,f){__p&&__p();a={isValidBlock:function(a,c){__p&&__p();var d=a.getKey(),e=a.getParentKey();if(e!=null){e=c.get(e);if(!e.getChildKeys().includes(d)){b("warning")(!0,"Tree is missing parent -> child pointer on %s",d);return!1}}e=a.getChildKeys().map(function(a){return c.get(a)});if(!e.every(function(a){return a.getParentKey()===d})){b("warning")(!0,"Tree is missing child -> parent pointer on %s",d);return!1}e=a.getPrevSiblingKey();if(e!=null){var f=c.get(e);if(f.getNextSiblingKey()!==d){b("warning")(!0,"Tree is missing nextSibling pointer on %s's prevSibling",d);return!1}}f=a.getNextSiblingKey();if(f!=null){var g=c.get(f);if(g.getPrevSiblingKey()!==d){b("warning")(!0,"Tree is missing prevSibling pointer on %s's nextSibling",d);return!1}}if(f!==null&&e!==null&&e===f){b("warning")(!0,"Tree has a two-node cycle at %s",d);return!1}if(a.text!=""&&a.getChildKeys().size>0){b("warning")(!0,"Leaf node %s has children",d);return!1}return!0},isConnectedTree:function(a){__p&&__p();var c=a.toArray().filter(function(a){return a.getParentKey()==null&&a.getPrevSiblingKey()==null});if(c.length!==1){b("warning")(!0,"Tree is not connected. More or less than one first node");return!1}c=c.shift();var d=0;c=c.getKey();var e=[];while(c!=null){var f=a.get(c),g=f.getChildKeys(),h=f.getNextSiblingKey();if(g.size>0){h!=null&&e.unshift(h);h=g.map(function(b){return a.get(b)});g=h.find(function(a){return a.getPrevSiblingKey()==null});if(g==null){b("warning")(!0,"%s has no first child",c);return!1}c=g.getKey()}else f.getNextSiblingKey()!=null?c=f.getNextSiblingKey():c=e.shift();d++}if(d!==a.size){b("warning")(!0,"Tree is not connected. %s nodes were seen instead of %s",d,a.size);return!1}return!0},isValidTree:function(a){var b=this,c=a.toArray();return!c.every(function(c){return b.isValidBlock(c,a)})?!1:this.isConnectedTree(a)}};e.exports=a}),null);
__d("createCharacterList",["CharacterMetadata","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List;function a(a,c){a=a.map(function(a,d){d=c[d];return b("CharacterMetadata").create({style:a,entity:d})});return g(a)}e.exports=a}),null);
__d("decodeEntityRanges",["UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("UnicodeUtils").substr;function a(a,b){var c=Array(a.length).fill(null);b&&b.forEach(function(b){var d=g(a,0,b.offset).length,e=d+g(a,b.offset,b.length).length;for(var d=d;d<e;d++)c[d]=b.key});return c}e.exports=a}),null);
__d("decodeInlineStyleRanges",["UnicodeUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("immutable").OrderedSet;var g=b("UnicodeUtils").substr,h=c();function a(a,b){var c=Array(a.length).fill(h);b&&b.forEach(function(b){var d=g(a,0,b.offset).length,e=d+g(a,b.offset,b.length).length;while(d<e)c[d]=c[d].add(b.style),d++});return c}e.exports=a}),null);
__d("convertFromRawToDraftState",["invariant","ContentBlock","ContentBlockNode","ContentState","DraftEntity","DraftTreeAdapter","DraftTreeInvariants","SelectionState","createCharacterList","decodeEntityRanges","decodeInlineStyleRanges","generateRandomKey","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("gkx")("676842"),i=b("immutable").List,j=b("immutable").Map,k=b("immutable").OrderedMap,l=function(a,c){var d=a.key,e=a.type,f=a.data,g=a.text,h=a.depth;g={text:g,depth:h||0,type:e||"unstyled",key:d||b("generateRandomKey")(),data:j(f),characterList:m(a,c)};return g},m=function(a,c){var d=a.text,e=a.entityRanges;a=a.inlineStyleRanges;e=e||[];a=a||[];return b("createCharacterList")(b("decodeInlineStyleRanges")(d,a),b("decodeEntityRanges")(d,e.filter(function(a){return Object.prototype.hasOwnProperty.call(c,a.key)}).map(function(a){return babelHelpers["extends"]({},a,{key:c[a.key]})})))},n=function(a){return babelHelpers["extends"]({},a,{key:a.key||b("generateRandomKey")()})},o=function(a,b,c){b=b.map(function(a){return babelHelpers["extends"]({},a,{parentRef:c})});return a.concat(b.reverse())},p=function(a,c){__p&&__p();return a.map(n).reduce(function(d,e,f){__p&&__p();Array.isArray(e.children)||g(0,5197);var h=e.children.map(n);e=new(b("ContentBlockNode"))(babelHelpers["extends"]({},l(e,c),{prevSibling:f===0?null:a[f-1].key,nextSibling:f===a.length-1?null:a[f+1].key,children:i(h.map(function(a){return a.key}))}));d=d.set(e.getKey(),e);f=o([],h,e);while(f.length>0){h=f.pop();e=h.parentRef;var j=e.getChildKeys(),k=j.indexOf(h.key),m=Array.isArray(h.children);if(!m){m||g(0,5197);break}m=h.children.map(n);h=new(b("ContentBlockNode"))(babelHelpers["extends"]({},l(h,c),{parent:e.getKey(),children:i(m.map(function(a){return a.key})),prevSibling:k===0?null:j.get(k-1),nextSibling:k===j.size-1?null:j.get(k+1)}));d=d.set(h.getKey(),h);f=o(f,m,h)}return d},k())},q=function(a,c){return k(a.map(function(a){a=new(b("ContentBlock"))(l(a,c));return[a.getKey(),a]}))},r=function(a,c){var d=a.blocks.find(function(a){return Array.isArray(a.children)&&a.children.length>0}),e=h&&!d?b("DraftTreeAdapter").fromRawStateToRawTreeState(a).blocks:a.blocks;if(!h)return q(d?b("DraftTreeAdapter").fromRawTreeStateToRawState(a).blocks:e,c);d=p(e,c);return d},s=function(a){var c=a.entityMap,d={};Object.keys(c).forEach(function(a){var e=c[a],f=e.type,g=e.mutability;e=e.data;d[a]=b("DraftEntity").__create(f,g,e||{})});return d};a=function(a){Array.isArray(a.blocks)||g(0,5199);var c=s(a);a=r(a,c);var d=a.isEmpty()?new(b("SelectionState"))():b("SelectionState").createEmpty(a.first().getKey());return new(b("ContentState"))({blockMap:a,entityMap:c,selectionBefore:d,selectionAfter:d})};e.exports=a}),null);
__d("decodeBlocks",["ComposedBlockType","ComposedInlineStyle","convertFromRawToDraftState","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){a=a.map(function(a){var b=a.type,c=a.inlineStyleRanges;a=babelHelpers.objectWithoutPropertiesLoose(a,["type","inlineStyleRanges"]);return babelHelpers["extends"]({type:g[b]||"unstyled",inlineStyleRanges:(c||[]).map(function(a){return babelHelpers["extends"]({},a,{style:h[a.style]})})},a)});c=b("mapObject")(c,function(a){return{type:a.getType(),mutability:a.getMutability(),data:a.getData()}});return b("convertFromRawToDraftState")({blocks:a,entityMap:c})}var g={};g[b("ComposedBlockType").UNSTYLED]="unstyled";g[b("ComposedBlockType").PARAGRAPH]="paragraph";g[b("ComposedBlockType").BLOCKQUOTE]="blockquote";g[b("ComposedBlockType").ORDERED_LIST_ITEM]="ordered-list-item";g[b("ComposedBlockType").UNORDERED_LIST_ITEM]="unordered-list-item";g[b("ComposedBlockType").CODE]="code-block";g[b("ComposedBlockType").HEADER_ONE]="header-one";g[b("ComposedBlockType").HEADER_TWO]="header-two";g[b("ComposedBlockType").MEDIA]="atomic";g[b("ComposedBlockType").PULLQUOTE]="pullquote";var h={};h[b("ComposedInlineStyle").BOLD]="BOLD";h[b("ComposedInlineStyle").CODE]="CODE";h[b("ComposedInlineStyle").ITALIC]="ITALIC";h[b("ComposedInlineStyle").STRIKETHROUGH]="STRIKETHROUGH";h[b("ComposedInlineStyle").UNDERLINE]="UNDERLINE";e.exports=a}),null);