if (self.CavalryLogger) { CavalryLogger.start_js(["plr29"]); }

__d("AdsBoostedComponentPromotePanelFetchPromotePanelDataDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BoostedComponentPromotePanelActions.FETCH_PROMOTE_PANEL_DATA");e.exports=a}),null);
__d("AdsBoostedComponentPromotePanelLoadPromotePanelDataDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BoostedComponentPromotePanelActions.LOAD_PROMOTE_PANEL_DATA");e.exports=a}),null);
__d("BoostedComponentPromotePanelLoadPromotePanelDataErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BoostedComponentPromotePanelActions.LOAD_PROMOTE_PANEL_DATA_ERROR");e.exports=a}),null);
__d("XPagesPromotePanelAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/promote_panel/",{load_promotions:{type:"Bool",defaultValue:!0},page_id:{type:"Int",required:!0},ref:{type:"String"}})}),null);
__d("BoostedComponentPromotePanelActions",["AdsBoostedComponentPromotePanelFetchPromotePanelDataDataAction","AdsBoostedComponentPromotePanelLoadPromotePanelDataDataAction","AsyncRequest","BoostedComponentPromotePanelLoadPromotePanelDataErrorAction","FBLogger","XPagesPromotePanelAsyncController","memoizeWithArgs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=6e4;a=b("memoizeWithArgs")(function(a,c,d){c=b("XPagesPromotePanelAsyncController").getURIBuilder().setBool("load_promotions",!c).setInt("page_id",a).setString("ref",d).getURI();b("AdsBoostedComponentPromotePanelFetchPromotePanelDataDataAction").dispatch({pageID:a},{line:"33",module:"BoostedComponentPromotePanelActions.js"});new(b("AsyncRequest"))(c).setHandler(function(c){b("AdsBoostedComponentPromotePanelLoadPromotePanelDataDataAction").dispatch({data:c.payload,pageID:a},{line:"39",module:"BoostedComponentPromotePanelActions.js"})}).setTimeoutHandler(g,function(){b("FBLogger")("boosted_component").mustfix("Fetch promote panel data timeout.")}).setErrorHandler(function(){b("FBLogger")("boosted_component").mustfix("Load promote panel data error"),b("BoostedComponentPromotePanelLoadPromotePanelDataErrorAction").dispatch({},{line:"57",module:"BoostedComponentPromotePanelActions.js"})}).send()},function(a,b,c){return a+(!!b).toString()+(c!=null?c:"")});e.exports={fetchPromotePanelData:a}}),null);
__d("ReactComposerAdvertiseSproutContainer.react",["AdsLWIDialogMounts","AdsLWIDialogStateActions","AdsLWIDialogUtils","AdsLWIPhaseTypes","BoostedComponentPromotePanelActions","BoostedComponentRef","ExtensibleSproutsItemType","FluxContainer","React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactDOM","ShimButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIDialogMounts").BOOSTED_COMPONENT_DIALOG_MOUNT,h=b("AdsLWIDialogUtils").DialogUtils,i=b("BoostedComponentPromotePanelActions").fetchPromotePanelData;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),j=0;j<e;j++)f[j]=arguments[j];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){if(d.state.isSelected)return;i(d.state.pageID,!0,b("BoostedComponentRef").COMPOSER_ADVERTISE_BUSINESS);b("ReactDOM").unmountComponentAtNode(g);h.mountAdsLWIMainDialog();b("AdsLWIDialogStateActions").openWithPhase(b("AdsLWIPhaseTypes").PRODUCT_SELECTOR,d.state.pageID,b("BoostedComponentRef").COMPOSER_ADVERTISE_BUSINESS)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore")]};c.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").getSelectedAttachmentID(d.composerID);c=a===b("ReactComposerAttachmentType").ADVERTISE;a=d.actorID;return{isSelected:c,pageID:a}};var d=c.prototype;d.render=function(){return b("React").createElement(b("ShimButton.react"),{onClick:this.$1},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.isSelected}))};return c}(b("React").PureComponent);a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").ADVERTISE]};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerGetBookingAttachmentSproutContainer.react",["ExtensibleSproutsItemType","FluxContainer","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerDisabledSproutItem.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ShimButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.state.isSelected||b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,b("ReactComposerAttachmentType").CTA,!0,b("ExtensibleSproutsItemType").GET_BOOKINGS,b("ReactComposerStore").getSproutSurface(d.context.composerID),null,d.props.uiConfig.loggingName)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore"),b("ReactComposerTaggerStore")]};c.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").getSelectedAttachmentID(d.composerID);c=a===b("ReactComposerAttachmentType").CTA;a=b("ReactComposerTaggerStore").isDisabled(d.composerID,b("ReactComposerTaggerType").PAGE_CTA);return{isSelected:c,isDisabled:a}};var d=c.prototype;d.render=function(){return this.state.isDisabled?b("React").createElement(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):b("React").createElement(b("ShimButton.react"),{onClick:this.$1},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.isSelected}))};return c}(b("React").PureComponent);a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").GET_BOOKINGS]};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerSendMessageAttachmentSproutContainer.react",["Arbiter","AsyncRequest","ExtensibleSproutsItemType","FluxContainer","QE2Logger","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerCTAActions","ReactComposerDisabledSproutItem.react","ReactComposerLoggingName","ReactComposerPhotoStore","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerStore","ReactComposerTaggerType","ShimButton.react","XMessengerMonetizationSmartSendMessageCTAController","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=b("React").createRef(),d.$2=function(a){__p&&__p();b("Arbiter").inform("ReactFeedComposerXBootloader/focuscomposer/"+d.context.composerID);if(!d.state.isSelected)if(d.state.isTaggerEligible&&!d.context.gks.shouldShowPostValueCTAUpsell){b("ReactComposerTaggerActions").selectTagger(d.context.composerID,d.props.uiConfig.loggingName,b("ReactComposerTaggerType").MESSAGING,!1);a=b("XMessengerMonetizationSmartSendMessageCTAController").getURIBuilder().setBool("auto_select",!0).getURI();new(b("AsyncRequest"))(a).send()}else b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,b("ReactComposerAttachmentType").MESSAGE,!0,b("ExtensibleSproutsItemType").GET_MESSAGES,b("ReactComposerStore").getSproutSurface(d.context.composerID),null,d.props.uiConfig.loggingName);else if(d.state.isTaggerEligible){b("ReactComposerTaggerActions").setTaggerData(d.context.composerID,b("ReactComposerLoggingName").MESSAGING_TAGGER,b("ReactComposerTaggerType").MESSAGING,{hasCTA:!1});a={ctaType:null,ctaValues:{is_cta_share_post:!0,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};b("ReactComposerCTAActions").setConfig(d.context.composerID,a);b("ReactComposerTaggerActions").selectTagger(d.context.composerID,d.props.uiConfig.loggingName,b("ReactComposerTaggerType").MESSAGING,!1);a=b("XMessengerMonetizationSmartSendMessageCTAController").getURIBuilder().setBool("auto_select",!1).getURI();new(b("AsyncRequest"))(a).send()}},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore"),b("ReactComposerTaggerStore"),b("ReactComposerPhotoStore")]};c.calculateState=function(a,c,d){__p&&__p();a=b("ReactComposerAttachmentStore").getSelectedAttachmentID(d.composerID);var e=b("ReactComposerTaggerStore").hasData(d.composerID,b("ReactComposerTaggerType").MESSAGING),f=b("getByPath")(c.config,["taggersConfig",b("ReactComposerTaggerType").MESSAGING,"enableSMCTAForMultiPhoto"]);c=b("getByPath")(c.config,["actorConfig","targetID"]);var g=b("ReactComposerTaggerEligibilityUtils").isMessagingEligible(d.composerID,f,c);a=a===b("ReactComposerAttachmentType").MESSAGE||e&&g;c=b("ReactComposerTaggerStore").isDisabled(d.composerID,b("ReactComposerTaggerType").PAGE_CTA,f)||g&&b("ReactComposerTaggerStore").isDisabled(d.composerID,b("ReactComposerTaggerType").MESSAGING,f,c);var h=b("ReactComposerTaggerEligibilityUtils").hasMultiPhoto(d.composerID);if(!g&&e){b("ReactComposerTaggerActions").setTaggerData(d.composerID,b("ReactComposerLoggingName").MESSAGING_TAGGER,b("ReactComposerTaggerType").MESSAGING,{hasCTA:!1});e={ctaType:null,ctaValues:{is_cta_share_post:!0,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};b("ReactComposerCTAActions").setConfig(d.composerID,e)}return{isSelected:a,isDisabled:c,isTaggerEligible:g,hasMultiPhotos:h,enableSMCTAForMultiPhoto:f}};var d=c.prototype;d.render=function(){return this.state.isDisabled||this.state.hasMultiPhotos&&!this.state.enableSMCTAForMultiPhoto?b("React").createElement(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):b("React").createElement(b("ShimButton.react"),{onClick:this.$2,tabIndex:-1},b("React").createElement(b("ReactComposerSproutItem.react"),{ref:this.$1,uiConfig:this.props.uiConfig,highlighted:this.state.isSelected}))};d.componentDidMount=function(){__p&&__p();if(this.state.isTaggerEligible){var a=b("getByPath")(this.props.config,["taggersConfig",b("ReactComposerTaggerType").MESSAGING,"autoSelect"],!1);if(!a)return;a=b("getByPath")(this.props.config,["taggersConfig",b("ReactComposerTaggerType").MESSAGING,"isPageResponsive"],!1);if(this.state.hasMultiPhotos){a&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.uiConfig.loggingName,b("ReactComposerTaggerType").MESSAGING,!1);return}var c=b("getByPath")(this.props.config,["taggersConfig",b("ReactComposerTaggerType").MESSAGING,"enablePageResponsiveness"]),d=b("getByPath")(this.props.config,["actorConfig","targetID"]);b("QE2Logger").logExposureForPage("ctm_ads_page_responsiveness_univ",d);(!c||a)&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.uiConfig.loggingName,b("ReactComposerTaggerType").MESSAGING,!1)}};return c}(b("React").PureComponent);a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").GET_MESSAGES]};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerShopNowAttachmentSproutContainer.react",["ExtensibleSproutsItemType","FluxContainer","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerDisabledSproutItem.react","ReactComposerLoggingName","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ShimButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.state.isSelected||b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,b("ReactComposerAttachmentType").SHOP,!0,b("ExtensibleSproutsItemType").GET_SHOPS,b("ReactComposerStore").getSproutSurface(d.context.composerID),null,b("ReactComposerLoggingName").GET_SHOPS_SPROUT)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore"),b("ReactComposerTaggerStore")]};c.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").getSelectedAttachmentID(d.composerID);c=a===b("ReactComposerAttachmentType").SHOP;a=b("ReactComposerTaggerStore").isDisabled(d.composerID,b("ReactComposerTaggerType").SHOP);return{isSelected:c,isDisabled:a}};var d=c.prototype;d.render=function(){return this.state.isDisabled?b("React").createElement(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):b("React").createElement(b("ShimButton.react"),{onClick:this.$1},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.isSelected}))};return c}(b("React").PureComponent);a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").GET_SHOPS]};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerTagProductSproutContainer.react",["ExtensibleSproutsItemType","FluxContainer","React","ReactComposerContextTypes","ReactComposerDisabledSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerTaggerActions","ReactComposerTaggerSproutContainer.react","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.uiConfig.loggingName,b("ReactComposerTaggerType").PRODUCT,!1)};c.getStores=function(){return[b("ReactComposerTaggerStore")]};c.calculateState=function(a,c,d){a=d.composerID;return{isDisabled:b("ReactComposerTaggerStore").isDisabled(a,b("ReactComposerTaggerType").PRODUCT)}};d.render=function(){return this.state.isDisabled?b("React").createElement(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):b("React").createElement(b("ReactComposerTaggerSproutContainer.react"),{uiConfig:this.props.uiConfig,taggerID:b("ReactComposerTaggerType").PRODUCT,onSelect:this.$1.bind(this)})};return c}(b("React").PureComponent);a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[b("ExtensibleSproutsItemType").TAG_PRODUCT]};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);